var Ey=Object.defineProperty;var My=(e,t,n)=>t in e?Ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var se=(e,t,n)=>(My(e,typeof t!="symbol"?t+"":t,n),n);function Ty(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Py(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kp={exports:{}},Ja={},Sp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),Ry=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),zy=Symbol.for("react.memo"),By=Symbol.for("react.lazy"),ph=Symbol.iterator;function Vy(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var _p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,Ep={};function Er(e,t,n){this.props=e,this.context=t,this.refs=Ep,this.updater=n||_p}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=Er.prototype;function Wd(e,t,n){this.props=e,this.context=t,this.refs=Ep,this.updater=n||_p}var qd=Wd.prototype=new Mp;qd.constructor=Wd;Cp(qd,Er.prototype);qd.isPureReactComponent=!0;var gh=Array.isArray,Tp=Object.prototype.hasOwnProperty,Kd={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var s,r={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tp.call(t,s)&&!Pp.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Hi,type:e,key:i,ref:o,props:r,_owner:Kd.current}}function Uy(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function Hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xh=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hy(""+e.key):t.toString(36)}function Ho(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hi:case Dy:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+Rl(o,0):s,gh(r)?(n="",e!=null&&(n=e.replace(xh,"$&/")+"/"),Ho(r,t,n,"",function(d){return d})):r!=null&&(Qd(r)&&(r=Uy(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(xh,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",gh(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Rl(i,l);o+=Ho(i,t,n,c,r)}else if(c=Vy(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Rl(i,l++),o+=Ho(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function no(e,t,n){if(e==null)return e;var s=[],r=0;return Ho(e,s,"","",function(i){return t.call(n,i,r++)}),s}function Wy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Wo={transition:null},qy={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:Kd};function Rp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:no,forEach:function(e,t,n){no(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return no(e,function(){t++}),t},toArray:function(e){return no(e,function(t){return t})||[]},only:function(e){if(!Qd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Er;ie.Fragment=Ry;ie.Profiler=Ay;ie.PureComponent=Wd;ie.StrictMode=Ly;ie.Suspense=$y;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;ie.act=Rp;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Cp({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Kd.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Tp.call(t,c)&&!Pp.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Hi,type:e.type,key:r,ref:i,props:s,_owner:o}};ie.createContext=function(e){return e={$$typeof:Iy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oy,_context:e},e.Consumer=e};ie.createElement=Dp;ie.createFactory=function(e){var t=Dp.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Fy,render:e}};ie.isValidElement=Qd;ie.lazy=function(e){return{$$typeof:By,_payload:{_status:-1,_result:e},_init:Wy}};ie.memo=function(e,t){return{$$typeof:zy,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Wo.transition;Wo.transition={};try{e()}finally{Wo.transition=t}};ie.unstable_act=Rp;ie.useCallback=function(e,t){return lt.current.useCallback(e,t)};ie.useContext=function(e){return lt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return lt.current.useEffect(e,t)};ie.useId=function(){return lt.current.useId()};ie.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return lt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};ie.useRef=function(e){return lt.current.useRef(e)};ie.useState=function(e){return lt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return lt.current.useTransition()};ie.version="18.3.1";Sp.exports=ie;var m=Sp.exports;const ae=Py(m),Ky=Ty({__proto__:null,default:ae},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=m,Yy=Symbol.for("react.element"),Xy=Symbol.for("react.fragment"),Zy=Object.prototype.hasOwnProperty,Gy=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jy={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Zy.call(t,s)&&!Jy.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Yy,type:e,key:i,ref:o,props:r,_owner:Gy.current}}Ja.Fragment=Xy;Ja.jsx=Lp;Ja.jsxs=Lp;kp.exports=Ja;var a=kp.exports,Cc={},Ap={exports:{}},Ct={},Op={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,E){var F=M.length;M.push(E);e:for(;0<F;){var W=F-1>>>1,L=M[W];if(0<r(L,E))M[W]=E,M[F]=L,F=W;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var E=M[0],F=M.pop();if(F!==E){M[0]=F;e:for(var W=0,L=M.length,Y=L>>>1;W<Y;){var H=2*(W+1)-1,oe=M[H],me=H+1,zt=M[me];if(0>r(oe,F))me<L&&0>r(zt,oe)?(M[W]=zt,M[me]=F,W=me):(M[W]=oe,M[H]=F,W=H);else if(me<L&&0>r(zt,F))M[W]=zt,M[me]=F,W=me;else break e}}return E}function r(M,E){var F=M.sortIndex-E.sortIndex;return F!==0?F:M.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,x=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var E=n(d);E!==null;){if(E.callback===null)s(d);else if(E.startTime<=M)s(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(d)}}function j(M){if(p=!1,w(M),!x)if(n(c)!==null)x=!0,B(S);else{var E=n(d);E!==null&&K(j,E.startTime-M)}}function S(M,E){x=!1,p&&(p=!1,y(_),_=-1),g=!0;var F=f;try{for(w(E),h=n(c);h!==null&&(!(h.expirationTime>E)||M&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var L=W(h.expirationTime<=E);E=e.unstable_now(),typeof L=="function"?h.callback=L:h===n(c)&&s(c),w(E)}else s(c);h=n(c)}if(h!==null)var Y=!0;else{var H=n(d);H!==null&&K(j,H.startTime-E),Y=!1}return Y}finally{h=null,f=F,g=!1}}var N=!1,C=null,_=-1,R=5,T=-1;function k(){return!(e.unstable_now()-T<R)}function P(){if(C!==null){var M=e.unstable_now();T=M;var E=!0;try{E=C(!0,M)}finally{E?I():(N=!1,C=null)}}else N=!1}var I;if(typeof v=="function")I=function(){v(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=P,I=function(){D.postMessage(null)}}else I=function(){b(P,0)};function B(M){C=M,N||(N=!0,I())}function K(M,E){_=b(function(){M(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,B(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var F=f;f=E;try{return M()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,E){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=f;f=M;try{return E()}finally{f=F}},e.unstable_scheduleCallback=function(M,E,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=F+L,M={id:u++,callback:E,priorityLevel:M,startTime:F,expirationTime:L,sortIndex:-1},F>W?(M.sortIndex=F,t(d,M),n(c)===null&&M===n(d)&&(p?(y(_),_=-1):p=!0,K(j,F-W))):(M.sortIndex=L,t(c,M),x||g||(x=!0,B(S))),M},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(M){var E=f;return function(){var F=f;f=E;try{return M.apply(this,arguments)}finally{f=F}}}})(Ip);Op.exports=Ip;var e1=Op.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=m,St=e1;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,xi={};function Fs(e,t){yr(e,t),yr(e+"Capture",t)}function yr(e,t){for(xi[e]=t,e=0;e<t.length;e++)Fp.add(t[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=Object.prototype.hasOwnProperty,n1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yh={},vh={};function s1(e){return Ec.call(vh,e)?!0:Ec.call(yh,e)?!1:n1.test(e)?vh[e]=!0:(yh[e]=!0,!1)}function r1(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i1(e,t,n,s){if(t===null||typeof t>"u"||r1(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,s,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yd,Xd);Ye[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yd,Xd);Ye[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yd,Xd);Ye[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zd(e,t,n,s){var r=Ye.hasOwnProperty(t)?Ye[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i1(t,n,r,s)&&(n=null),s||r===null?s1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Sn=t1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,so=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),zp=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),eu=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),bh=Symbol.iterator;function Lr(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Ll;function Qr(e){if(Ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ll=t&&t[1]||""}return`
`+Ll+e}var Al=!1;function Ol(e,t){if(!e||Al)return"";Al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qr(e):""}function o1(e){switch(e.tag){case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return e=Ol(e.type,!1),e;case 11:return e=Ol(e.type.render,!1),e;case 1:return e=Ol(e.type,!0),e;default:return""}}function Dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gs:return"Fragment";case Zs:return"Portal";case Mc:return"Profiler";case Gd:return"StrictMode";case Tc:return"Suspense";case Pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zp:return(e.displayName||"Context")+".Consumer";case $p:return(e._context.displayName||"Context")+".Provider";case Jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eu:return t=e.displayName||null,t!==null?t:Dc(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Dc(e(t))}catch{}}return null}function a1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dc(t);case 8:return t===Gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e){var t=Vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=l1(e))}function Up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Vp(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rc(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wh(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hp(e,t){t=t.checked,t!=null&&Zd(e,"checked",t,!1)}function Lc(e,t){Hp(e,t);var n=Jn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ac(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ac(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ac(e,t,n){(t!=="number"||ma(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yr=Array.isArray;function ur(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Yr(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Wp(e,t){var n=Jn(t.value),s=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ic(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,Kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c1=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(e){c1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ni[t]=ni[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ni.hasOwnProperty(e)&&ni[e]?(""+t).trim():t+"px"}function Yp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Qp(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var d1=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(e,t){if(t){if(d1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function $c(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bc=null,hr=null,fr=null;function Sh(e){if(e=Ki(e)){if(typeof Bc!="function")throw Error(V(280));var t=e.stateNode;t&&(t=rl(t),Bc(e.stateNode,e.type,t))}}function Xp(e){hr?fr?fr.push(e):fr=[e]:hr=e}function Zp(){if(hr){var e=hr,t=fr;if(fr=hr=null,Sh(e),t)for(e=0;e<t.length;e++)Sh(t[e])}}function Gp(e,t){return e(t)}function Jp(){}var Il=!1;function eg(e,t,n){if(Il)return e(t,n);Il=!0;try{return Gp(e,t,n)}finally{Il=!1,(hr!==null||fr!==null)&&(Jp(),Zp())}}function vi(e,t){var n=e.stateNode;if(n===null)return null;var s=rl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Vc=!1;if(wn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Vc=!1}function u1(e,t,n,s,r,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var si=!1,pa=null,ga=!1,Uc=null,h1={onError:function(e){si=!0,pa=e}};function f1(e,t,n,s,r,i,o,l,c){si=!1,pa=null,u1.apply(h1,arguments)}function m1(e,t,n,s,r,i,o,l,c){if(f1.apply(this,arguments),si){if(si){var d=pa;si=!1,pa=null}else throw Error(V(198));ga||(ga=!0,Uc=d)}}function $s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _h(e){if($s(e)!==e)throw Error(V(188))}function p1(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return _h(r),e;if(i===s)return _h(r),t;i=i.sibling}throw Error(V(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==s)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function ng(e){return e=p1(e),e!==null?sg(e):null}function sg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sg(e);if(t!==null)return t;e=e.sibling}return null}var rg=St.unstable_scheduleCallback,Ch=St.unstable_cancelCallback,g1=St.unstable_shouldYield,x1=St.unstable_requestPaint,Le=St.unstable_now,y1=St.unstable_getCurrentPriorityLevel,nu=St.unstable_ImmediatePriority,ig=St.unstable_UserBlockingPriority,xa=St.unstable_NormalPriority,v1=St.unstable_LowPriority,og=St.unstable_IdlePriority,el=null,an=null;function b1(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:N1,w1=Math.log,j1=Math.LN2;function N1(e){return e>>>=0,e===0?32:31-(w1(e)/j1|0)|0}var oo=64,ao=4194304;function Xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ya(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Xr(l):(i&=o,i!==0&&(s=Xr(i)))}else o=n&~r,o!==0?s=Xr(o):i!==0&&(s=Xr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Kt(t),r=1<<n,s|=e[n],t&=~r;return s}function k1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S1(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Kt(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=k1(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ag(){var e=oo;return oo<<=1,!(oo&4194240)&&(oo=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function _1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Kt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function su(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Kt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ge=0;function lg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cg,ru,dg,ug,hg,Wc=!1,lo=[],Vn=null,Un=null,Hn=null,bi=new Map,wi=new Map,Dn=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eh(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Or(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ki(t),t!==null&&ru(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function E1(e,t,n,s,r){switch(t){case"focusin":return Vn=Or(Vn,e,t,n,s,r),!0;case"dragenter":return Un=Or(Un,e,t,n,s,r),!0;case"mouseover":return Hn=Or(Hn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return bi.set(i,Or(bi.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,wi.set(i,Or(wi.get(i)||null,e,t,n,s,r)),!0}return!1}function fg(e){var t=bs(e.target);if(t!==null){var n=$s(t);if(n!==null){if(t=n.tag,t===13){if(t=tg(n),t!==null){e.blockedOn=t,hg(e.priority,function(){dg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);zc=s,n.target.dispatchEvent(s),zc=null}else return t=Ki(n),t!==null&&ru(t),e.blockedOn=n,!1;t.shift()}return!0}function Mh(e,t,n){qo(e)&&n.delete(t)}function M1(){Wc=!1,Vn!==null&&qo(Vn)&&(Vn=null),Un!==null&&qo(Un)&&(Un=null),Hn!==null&&qo(Hn)&&(Hn=null),bi.forEach(Mh),wi.forEach(Mh)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Wc||(Wc=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,M1)))}function ji(e){function t(r){return Ir(r,e)}if(0<lo.length){Ir(lo[0],e);for(var n=1;n<lo.length;n++){var s=lo[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Vn!==null&&Ir(Vn,e),Un!==null&&Ir(Un,e),Hn!==null&&Ir(Hn,e),bi.forEach(t),wi.forEach(t),n=0;n<Dn.length;n++)s=Dn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)fg(n),n.blockedOn===null&&Dn.shift()}var mr=Sn.ReactCurrentBatchConfig,va=!0;function T1(e,t,n,s){var r=ge,i=mr.transition;mr.transition=null;try{ge=1,iu(e,t,n,s)}finally{ge=r,mr.transition=i}}function P1(e,t,n,s){var r=ge,i=mr.transition;mr.transition=null;try{ge=4,iu(e,t,n,s)}finally{ge=r,mr.transition=i}}function iu(e,t,n,s){if(va){var r=qc(e,t,n,s);if(r===null)Ql(e,t,s,ba,n),Eh(e,s);else if(E1(r,e,t,n,s))s.stopPropagation();else if(Eh(e,s),t&4&&-1<C1.indexOf(e)){for(;r!==null;){var i=Ki(r);if(i!==null&&cg(i),i=qc(e,t,n,s),i===null&&Ql(e,t,s,ba,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ql(e,t,s,null,n)}}var ba=null;function qc(e,t,n,s){if(ba=null,e=tu(s),e=bs(e),e!==null)if(t=$s(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function mg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y1()){case nu:return 1;case ig:return 4;case xa:case v1:return 16;case og:return 536870912;default:return 16}default:return 16}}var Ln=null,ou=null,Ko=null;function pg(){if(Ko)return Ko;var e,t=ou,n=t.length,s,r="value"in Ln?Ln.value:Ln.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return Ko=r.slice(e,1<s?1-s:void 0)}function Qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function Th(){return!1}function Et(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?co:Th,this.isPropagationStopped=Th,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=Et(Mr),qi=Pe({},Mr,{view:0,detail:0}),D1=Et(qi),$l,zl,Fr,tl=Pe({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?($l=e.screenX-Fr.screenX,zl=e.screenY-Fr.screenY):zl=$l=0,Fr=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:zl}}),Ph=Et(tl),R1=Pe({},tl,{dataTransfer:0}),L1=Et(R1),A1=Pe({},qi,{relatedTarget:0}),Bl=Et(A1),O1=Pe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),I1=Et(O1),F1=Pe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$1=Et(F1),z1=Pe({},Mr,{data:0}),Dh=Et(z1),B1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=U1[e])?!!t[e]:!1}function lu(){return H1}var W1=Pe({},qi,{key:function(e){if(e.key){var t=B1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q1=Et(W1),K1=Pe({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=Et(K1),Q1=Pe({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),Y1=Et(Q1),X1=Pe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z1=Et(X1),G1=Pe({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J1=Et(G1),ev=[9,13,27,32],cu=wn&&"CompositionEvent"in window,ri=null;wn&&"documentMode"in document&&(ri=document.documentMode);var tv=wn&&"TextEvent"in window&&!ri,gg=wn&&(!cu||ri&&8<ri&&11>=ri),Lh=String.fromCharCode(32),Ah=!1;function xg(e,t){switch(e){case"keyup":return ev.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function nv(e,t){switch(e){case"compositionend":return yg(t);case"keypress":return t.which!==32?null:(Ah=!0,Lh);case"textInput":return e=t.data,e===Lh&&Ah?null:e;default:return null}}function sv(e,t){if(Js)return e==="compositionend"||!cu&&xg(e,t)?(e=pg(),Ko=ou=Ln=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gg&&t.locale!=="ko"?null:t.data;default:return null}}var rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rv[e.type]:t==="textarea"}function vg(e,t,n,s){Xp(s),t=wa(t,"onChange"),0<t.length&&(n=new au("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ii=null,Ni=null;function iv(e){Tg(e,0)}function nl(e){var t=nr(e);if(Up(t))return e}function ov(e,t){if(e==="change")return t}var bg=!1;if(wn){var Vl;if(wn){var Ul="oninput"in document;if(!Ul){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),Ul=typeof Ih.oninput=="function"}Vl=Ul}else Vl=!1;bg=Vl&&(!document.documentMode||9<document.documentMode)}function Fh(){ii&&(ii.detachEvent("onpropertychange",wg),Ni=ii=null)}function wg(e){if(e.propertyName==="value"&&nl(Ni)){var t=[];vg(t,Ni,e,tu(e)),eg(iv,t)}}function av(e,t,n){e==="focusin"?(Fh(),ii=t,Ni=n,ii.attachEvent("onpropertychange",wg)):e==="focusout"&&Fh()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(Ni)}function cv(e,t){if(e==="click")return nl(t)}function dv(e,t){if(e==="input"||e==="change")return nl(t)}function uv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:uv;function ki(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Ec.call(t,r)||!Xt(e[r],t[r]))return!1}return!0}function $h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var n=$h(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$h(n)}}function jg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ng(){for(var e=window,t=ma();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ma(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hv(e){var t=Ng(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jg(n.ownerDocument.documentElement,n)){if(s!==null&&du(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=zh(n,i);var o=zh(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fv=wn&&"documentMode"in document&&11>=document.documentMode,er=null,Kc=null,oi=null,Qc=!1;function Bh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qc||er==null||er!==ma(s)||(s=er,"selectionStart"in s&&du(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),oi&&ki(oi,s)||(oi=s,s=wa(Kc,"onSelect"),0<s.length&&(t=new au("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=er)))}function uo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Hl={},kg={};wn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function sl(e){if(Hl[e])return Hl[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kg)return Hl[e]=t[n];return e}var Sg=sl("animationend"),_g=sl("animationiteration"),Cg=sl("animationstart"),Eg=sl("transitionend"),Mg=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(e,t){Mg.set(e,t),Fs(t,[e])}for(var Wl=0;Wl<Vh.length;Wl++){var ql=Vh[Wl],mv=ql.toLowerCase(),pv=ql[0].toUpperCase()+ql.slice(1);ss(mv,"on"+pv)}ss(Sg,"onAnimationEnd");ss(_g,"onAnimationIteration");ss(Cg,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Eg,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function Uh(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,m1(s,t,void 0,e),e.currentTarget=null}function Tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;Uh(r,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;Uh(r,l,d),i=c}}}if(ga)throw e=Uc,ga=!1,Uc=null,e}function Ne(e,t){var n=t[Jc];n===void 0&&(n=t[Jc]=new Set);var s=e+"__bubble";n.has(s)||(Pg(t,e,2,!1),n.add(s))}function Kl(e,t,n){var s=0;t&&(s|=4),Pg(n,e,s,t)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[ho]){e[ho]=!0,Fp.forEach(function(n){n!=="selectionchange"&&(gv.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ho]||(t[ho]=!0,Kl("selectionchange",!1,t))}}function Pg(e,t,n,s){switch(mg(t)){case 1:var r=T1;break;case 4:r=P1;break;default:r=iu}n=r.bind(null,t,n,e),r=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ql(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=bs(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}eg(function(){var d=i,u=tu(n),h=[];e:{var f=Mg.get(e);if(f!==void 0){var g=au,x=e;switch(e){case"keypress":if(Qo(n)===0)break e;case"keydown":case"keyup":g=q1;break;case"focusin":x="focus",g=Bl;break;case"focusout":x="blur",g=Bl;break;case"beforeblur":case"afterblur":g=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Y1;break;case Sg:case _g:case Cg:g=I1;break;case Eg:g=Z1;break;case"scroll":g=D1;break;case"wheel":g=J1;break;case"copy":case"cut":case"paste":g=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Rh}var p=(t&4)!==0,b=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=vi(v,y),j!=null&&p.push(_i(v,j,w)))),b)break;v=v.return}0<p.length&&(f=new g(f,x,null,n,u),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==zc&&(x=n.relatedTarget||n.fromElement)&&(bs(x)||x[jn]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=d,x=x?bs(x):null,x!==null&&(b=$s(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=d),g!==x)){if(p=Ph,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=Rh,j="onPointerLeave",y="onPointerEnter",v="pointer"),b=g==null?f:nr(g),w=x==null?f:nr(x),f=new p(j,v+"leave",g,n,u),f.target=b,f.relatedTarget=w,j=null,bs(u)===d&&(p=new p(y,v+"enter",x,n,u),p.target=w,p.relatedTarget=b,j=p),b=j,g&&x)t:{for(p=g,y=x,v=0,w=p;w;w=Ks(w))v++;for(w=0,j=y;j;j=Ks(j))w++;for(;0<v-w;)p=Ks(p),v--;for(;0<w-v;)y=Ks(y),w--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=Ks(p),y=Ks(y)}p=null}else p=null;g!==null&&Hh(h,f,g,p,!1),x!==null&&b!==null&&Hh(h,b,x,p,!0)}}e:{if(f=d?nr(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=ov;else if(Oh(f))if(bg)S=dv;else{S=lv;var N=av}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=cv);if(S&&(S=S(e,d))){vg(h,S,n,u);break e}N&&N(e,f,d),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ac(f,"number",f.value)}switch(N=d?nr(d):window,e){case"focusin":(Oh(N)||N.contentEditable==="true")&&(er=N,Kc=d,oi=null);break;case"focusout":oi=Kc=er=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Bh(h,n,u);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":Bh(h,n,u)}var C;if(cu)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Js?xg(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(gg&&n.locale!=="ko"&&(Js||_!=="onCompositionStart"?_==="onCompositionEnd"&&Js&&(C=pg()):(Ln=u,ou="value"in Ln?Ln.value:Ln.textContent,Js=!0)),N=wa(d,_),0<N.length&&(_=new Dh(_,e,null,n,u),h.push({event:_,listeners:N}),C?_.data=C:(C=yg(n),C!==null&&(_.data=C)))),(C=tv?nv(e,n):sv(e,n))&&(d=wa(d,"onBeforeInput"),0<d.length&&(u=new Dh("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=C))}Tg(h,t)})}function _i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wa(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=vi(e,n),i!=null&&s.unshift(_i(e,i,r)),i=vi(e,t),i!=null&&s.push(_i(e,i,r))),e=e.return}return s}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,r?(c=vi(n,i),c!=null&&o.unshift(_i(n,c,l))):r||(c=vi(n,i),c!=null&&o.push(_i(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xv=/\r\n?/g,yv=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(xv,`
`).replace(yv,"")}function fo(e,t,n){if(t=Wh(t),Wh(e)!==t&&n)throw Error(V(425))}function ja(){}var Yc=null,Xc=null;function Zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,vv=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(wv)}:Gc;function wv(e){setTimeout(function(){throw e})}function Yl(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),ji(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ji(t)}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),rn="__reactFiber$"+Tr,Ci="__reactProps$"+Tr,jn="__reactContainer$"+Tr,Jc="__reactEvents$"+Tr,jv="__reactListeners$"+Tr,Nv="__reactHandles$"+Tr;function bs(e){var t=e[rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kh(e);e!==null;){if(n=e[rn])return n;e=Kh(e)}return t}e=n,n=e.parentNode}return null}function Ki(e){return e=e[rn]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function rl(e){return e[Ci]||null}var ed=[],sr=-1;function rs(e){return{current:e}}function ke(e){0>sr||(e.current=ed[sr],ed[sr]=null,sr--)}function we(e,t){sr++,ed[sr]=e.current,e.current=t}var es={},nt=rs(es),pt=rs(!1),Es=es;function vr(e,t){var n=e.type.contextTypes;if(!n)return es;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function gt(e){return e=e.childContextTypes,e!=null}function Na(){ke(pt),ke(nt)}function Qh(e,t,n){if(nt.current!==es)throw Error(V(168));we(nt,t),we(pt,n)}function Dg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(V(108,a1(e)||"Unknown",r));return Pe({},n,s)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Es=nt.current,we(nt,e),we(pt,pt.current),!0}function Yh(e,t,n){var s=e.stateNode;if(!s)throw Error(V(169));n?(e=Dg(e,t,Es),s.__reactInternalMemoizedMergedChildContext=e,ke(pt),ke(nt),we(nt,e)):ke(pt),we(pt,n)}var gn=null,il=!1,Xl=!1;function Rg(e){gn===null?gn=[e]:gn.push(e)}function kv(e){il=!0,Rg(e)}function is(){if(!Xl&&gn!==null){Xl=!0;var e=0,t=ge;try{var n=gn;for(ge=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}gn=null,il=!1}catch(r){throw gn!==null&&(gn=gn.slice(e+1)),rg(nu,is),r}finally{ge=t,Xl=!1}}return null}var rr=[],ir=0,Sa=null,_a=0,Dt=[],Rt=0,Ms=null,yn=1,vn="";function gs(e,t){rr[ir++]=_a,rr[ir++]=Sa,Sa=e,_a=t}function Lg(e,t,n){Dt[Rt++]=yn,Dt[Rt++]=vn,Dt[Rt++]=Ms,Ms=e;var s=yn;e=vn;var r=32-Kt(s)-1;s&=~(1<<r),n+=1;var i=32-Kt(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,yn=1<<32-Kt(t)+r|n<<r|s,vn=i+e}else yn=1<<i|n<<r|s,vn=e}function uu(e){e.return!==null&&(gs(e,1),Lg(e,1,0))}function hu(e){for(;e===Sa;)Sa=rr[--ir],rr[ir]=null,_a=rr[--ir],rr[ir]=null;for(;e===Ms;)Ms=Dt[--Rt],Dt[Rt]=null,vn=Dt[--Rt],Dt[Rt]=null,yn=Dt[--Rt],Dt[Rt]=null}var kt=null,jt=null,_e=!1,Wt=null;function Ag(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,jt=Wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ms!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,jt=null,!0):!1;default:return!1}}function td(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(_e){var t=jt;if(t){var n=t;if(!Xh(e,t)){if(td(e))throw Error(V(418));t=Wn(n.nextSibling);var s=kt;t&&Xh(e,t)?Ag(s,n):(e.flags=e.flags&-4097|2,_e=!1,kt=e)}}else{if(td(e))throw Error(V(418));e.flags=e.flags&-4097|2,_e=!1,kt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function mo(e){if(e!==kt)return!1;if(!_e)return Zh(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zc(e.type,e.memoizedProps)),t&&(t=jt)){if(td(e))throw Og(),Error(V(418));for(;t;)Ag(e,t),t=Wn(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=kt?Wn(e.stateNode.nextSibling):null;return!0}function Og(){for(var e=jt;e;)e=Wn(e.nextSibling)}function br(){jt=kt=null,_e=!1}function fu(e){Wt===null?Wt=[e]:Wt.push(e)}var Sv=Sn.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var s=n.stateNode}if(!s)throw Error(V(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function po(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gh(e){var t=e._init;return t(e._payload)}function Ig(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function r(y,v){return y=Yn(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,j){return v===null||v.tag!==6?(v=sc(w,y.mode,j),v.return=y,v):(v=r(v,w),v.return=y,v)}function c(y,v,w,j){var S=w.type;return S===Gs?u(y,v,w.props.children,j,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&Gh(S)===v.type)?(j=r(v,w.props),j.ref=$r(y,v,w),j.return=y,j):(j=ta(w.type,w.key,w.props,null,y.mode,j),j.ref=$r(y,v,w),j.return=y,j)}function d(y,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=rc(w,y.mode,j),v.return=y,v):(v=r(v,w.children||[]),v.return=y,v)}function u(y,v,w,j,S){return v===null||v.tag!==7?(v=Ss(w,y.mode,j,S),v.return=y,v):(v=r(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sc(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case so:return w=ta(v.type,v.key,v.props,null,y.mode,w),w.ref=$r(y,null,v),w.return=y,w;case Zs:return v=rc(v,y.mode,w),v.return=y,v;case Tn:var j=v._init;return h(y,j(v._payload),w)}if(Yr(v)||Lr(v))return v=Ss(v,y.mode,w,null),v.return=y,v;po(y,v)}return null}function f(y,v,w,j){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case so:return w.key===S?c(y,v,w,j):null;case Zs:return w.key===S?d(y,v,w,j):null;case Tn:return S=w._init,f(y,v,S(w._payload),j)}if(Yr(w)||Lr(w))return S!==null?null:u(y,v,w,j,null);po(y,w)}return null}function g(y,v,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(v,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case so:return y=y.get(j.key===null?w:j.key)||null,c(v,y,j,S);case Zs:return y=y.get(j.key===null?w:j.key)||null,d(v,y,j,S);case Tn:var N=j._init;return g(y,v,w,N(j._payload),S)}if(Yr(j)||Lr(j))return y=y.get(w)||null,u(v,y,j,S,null);po(v,j)}return null}function x(y,v,w,j){for(var S=null,N=null,C=v,_=v=0,R=null;C!==null&&_<w.length;_++){C.index>_?(R=C,C=null):R=C.sibling;var T=f(y,C,w[_],j);if(T===null){C===null&&(C=R);break}e&&C&&T.alternate===null&&t(y,C),v=i(T,v,_),N===null?S=T:N.sibling=T,N=T,C=R}if(_===w.length)return n(y,C),_e&&gs(y,_),S;if(C===null){for(;_<w.length;_++)C=h(y,w[_],j),C!==null&&(v=i(C,v,_),N===null?S=C:N.sibling=C,N=C);return _e&&gs(y,_),S}for(C=s(y,C);_<w.length;_++)R=g(C,y,_,w[_],j),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?_:R.key),v=i(R,v,_),N===null?S=R:N.sibling=R,N=R);return e&&C.forEach(function(k){return t(y,k)}),_e&&gs(y,_),S}function p(y,v,w,j){var S=Lr(w);if(typeof S!="function")throw Error(V(150));if(w=S.call(w),w==null)throw Error(V(151));for(var N=S=null,C=v,_=v=0,R=null,T=w.next();C!==null&&!T.done;_++,T=w.next()){C.index>_?(R=C,C=null):R=C.sibling;var k=f(y,C,T.value,j);if(k===null){C===null&&(C=R);break}e&&C&&k.alternate===null&&t(y,C),v=i(k,v,_),N===null?S=k:N.sibling=k,N=k,C=R}if(T.done)return n(y,C),_e&&gs(y,_),S;if(C===null){for(;!T.done;_++,T=w.next())T=h(y,T.value,j),T!==null&&(v=i(T,v,_),N===null?S=T:N.sibling=T,N=T);return _e&&gs(y,_),S}for(C=s(y,C);!T.done;_++,T=w.next())T=g(C,y,_,T.value,j),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?_:T.key),v=i(T,v,_),N===null?S=T:N.sibling=T,N=T);return e&&C.forEach(function(P){return t(y,P)}),_e&&gs(y,_),S}function b(y,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Gs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case so:e:{for(var S=w.key,N=v;N!==null;){if(N.key===S){if(S=w.type,S===Gs){if(N.tag===7){n(y,N.sibling),v=r(N,w.props.children),v.return=y,y=v;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&Gh(S)===N.type){n(y,N.sibling),v=r(N,w.props),v.ref=$r(y,N,w),v.return=y,y=v;break e}n(y,N);break}else t(y,N);N=N.sibling}w.type===Gs?(v=Ss(w.props.children,y.mode,j,w.key),v.return=y,y=v):(j=ta(w.type,w.key,w.props,null,y.mode,j),j.ref=$r(y,v,w),j.return=y,y=j)}return o(y);case Zs:e:{for(N=w.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=r(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=rc(w,y.mode,j),v.return=y,y=v}return o(y);case Tn:return N=w._init,b(y,v,N(w._payload),j)}if(Yr(w))return x(y,v,w,j);if(Lr(w))return p(y,v,w,j);po(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=r(v,w),v.return=y,y=v):(n(y,v),v=sc(w,y.mode,j),v.return=y,y=v),o(y)):n(y,v)}return b}var wr=Ig(!0),Fg=Ig(!1),Ca=rs(null),Ea=null,or=null,mu=null;function pu(){mu=or=Ea=null}function gu(e){var t=Ca.current;ke(Ca),e._currentValue=t}function sd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function pr(e,t){Ea=e,mu=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(mu!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(Ea===null)throw Error(V(308));or=e,Ea.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var ws=null;function xu(e){ws===null?ws=[e]:ws.push(e)}function $g(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,xu(t)):(n.next=r.next,r.next=n),t.interleaved=n,Nn(e,s)}function Nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ce&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Nn(e,n)}return r=s.interleaved,r===null?(t.next=t,xu(s)):(t.next=r.next,r.next=t),s.interleaved=t,Nn(e,n)}function Yo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,su(e,n)}}function Jh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,s){var r=e.updateQueue;Pn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(f=t,g=n,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(g,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(g,h,f):x,f==null)break e;h=Pe({},h,f);break e;case 2:Pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=h}}function ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(V(191,r));r.call(s)}}}var Qi={},ln=rs(Qi),Ei=rs(Qi),Mi=rs(Qi);function js(e){if(e===Qi)throw Error(V(174));return e}function vu(e,t){switch(we(Mi,t),we(Ei,e),we(ln,Qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ic(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ic(t,e)}ke(ln),we(ln,t)}function jr(){ke(ln),ke(Ei),ke(Mi)}function Bg(e){js(Mi.current);var t=js(ln.current),n=Ic(t,e.type);t!==n&&(we(Ei,e),we(ln,n))}function bu(e){Ei.current===e&&(ke(ln),ke(Ei))}var Me=rs(0);function Ta(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function wu(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var Xo=Sn.ReactCurrentDispatcher,Gl=Sn.ReactCurrentBatchConfig,Ts=0,Te=null,$e=null,Ve=null,Pa=!1,ai=!1,Ti=0,_v=0;function Ze(){throw Error(V(321))}function ju(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function Nu(e,t,n,s,r,i){if(Ts=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=e===null||e.memoizedState===null?Tv:Pv,e=n(s,r),ai){i=0;do{if(ai=!1,Ti=0,25<=i)throw Error(V(301));i+=1,Ve=$e=null,t.updateQueue=null,Xo.current=Dv,e=n(s,r)}while(ai)}if(Xo.current=Da,t=$e!==null&&$e.next!==null,Ts=0,Ve=$e=Te=null,Pa=!1,t)throw Error(V(300));return e}function ku(){var e=Ti!==0;return Ti=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function $t(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ve===null?Te.memoizedState:Ve.next;if(t!==null)Ve=t,$e=e;else{if(e===null)throw Error(V(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Pi(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=$t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var s=$e,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ts&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Te.lanes|=u,Ps|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Xt(s,t.memoizedState)||(ft=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,Te.lanes|=i,Ps|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ec(e){var t=$t(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);Xt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Vg(){}function Ug(e,t){var n=Te,s=$t(),r=t(),i=!Xt(s.memoizedState,r);if(i&&(s.memoizedState=r,ft=!0),s=s.queue,Su(qg.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Di(9,Wg.bind(null,n,s,r,t),void 0,null),He===null)throw Error(V(349));Ts&30||Hg(n,t,r)}return r}function Hg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wg(e,t,n,s){t.value=n,t.getSnapshot=s,Kg(t)&&Qg(e)}function qg(e,t,n){return n(function(){Kg(t)&&Qg(e)})}function Kg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function Qg(e){var t=Nn(e,1);t!==null&&Qt(t,e,1,-1)}function tf(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t.queue=e,e=e.dispatch=Mv.bind(null,Te,e),[t.memoizedState,e]}function Di(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yg(){return $t().memoizedState}function Zo(e,t,n,s){var r=tn();Te.flags|=e,r.memoizedState=Di(1|t,n,void 0,s===void 0?null:s)}function ol(e,t,n,s){var r=$t();s=s===void 0?null:s;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,s!==null&&ju(s,o.deps)){r.memoizedState=Di(t,n,i,s);return}}Te.flags|=e,r.memoizedState=Di(1|t,n,i,s)}function nf(e,t){return Zo(8390656,8,e,t)}function Su(e,t){return ol(2048,8,e,t)}function Xg(e,t){return ol(4,2,e,t)}function Zg(e,t){return ol(4,4,e,t)}function Gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jg(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,Gg.bind(null,t,e),n)}function _u(){}function e0(e,t){var n=$t();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ju(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function t0(e,t){var n=$t();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ju(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function n0(e,t,n){return Ts&21?(Xt(n,t)||(n=ag(),Te.lanes|=n,Ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function Cv(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var s=Gl.transition;Gl.transition={};try{e(!1),t()}finally{ge=n,Gl.transition=s}}function s0(){return $t().memoizedState}function Ev(e,t,n){var s=Qn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},r0(e))i0(t,n);else if(n=$g(e,t,n,s),n!==null){var r=at();Qt(n,e,s,r),o0(n,t,s)}}function Mv(e,t,n){var s=Qn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(r0(e))i0(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,Xt(l,o)){var c=t.interleaved;c===null?(r.next=r,xu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=$g(e,t,r,s),n!==null&&(r=at(),Qt(n,e,s,r),o0(n,t,s))}}function r0(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function i0(e,t){ai=Pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o0(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,su(e,n)}}var Da={readContext:Ft,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Tv={readContext:Ft,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:nf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zo(4194308,4,Gg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zo(4,2,e,t)},useMemo:function(e,t){var n=tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=tn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ev.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:_u,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=Cv.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Te,r=tn();if(_e){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),He===null)throw Error(V(349));Ts&30||Hg(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,nf(qg.bind(null,s,i,e),[e]),s.flags|=2048,Di(9,Wg.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=tn(),t=He.identifierPrefix;if(_e){var n=vn,s=yn;n=(s&~(1<<32-Kt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_v++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pv={readContext:Ft,useCallback:e0,useContext:Ft,useEffect:Su,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:Jl,useRef:Yg,useState:function(){return Jl(Pi)},useDebugValue:_u,useDeferredValue:function(e){var t=$t();return n0(t,$e.memoizedState,e)},useTransition:function(){var e=Jl(Pi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Ug,useId:s0,unstable_isNewReconciler:!1},Dv={readContext:Ft,useCallback:e0,useContext:Ft,useEffect:Su,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Zg,useMemo:t0,useReducer:ec,useRef:Yg,useState:function(){return ec(Pi)},useDebugValue:_u,useDeferredValue:function(e){var t=$t();return $e===null?t.memoizedState=e:n0(t,$e.memoizedState,e)},useTransition:function(){var e=ec(Pi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Ug,useId:s0,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=at(),r=Qn(e),i=bn(s,r);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,r),t!==null&&(Qt(t,e,r,s),Yo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=at(),r=Qn(e),i=bn(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,r),t!==null&&(Qt(t,e,r,s),Yo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),s=Qn(e),r=bn(n,s);r.tag=2,t!=null&&(r.callback=t),t=qn(e,r,s),t!==null&&(Qt(t,e,s,n),Yo(t,e,s))}};function sf(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ki(n,s)||!ki(r,i):!0}function a0(e,t,n){var s=!1,r=es,i=t.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(r=gt(t)?Es:nt.current,s=t.contextTypes,i=(s=s!=null)?vr(e,r):es),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function rf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function id(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},yu(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Ft(i):(i=gt(t)?Es:nt.current,r.context=vr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rd(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&al.enqueueReplaceState(r,r.state,null),Ma(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Nr(e,t){try{var n="",s=t;do n+=o1(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function tc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function od(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rv=typeof WeakMap=="function"?WeakMap:Map;function l0(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){La||(La=!0,gd=s),od(e,t)},n}function c0(e,t,n){n=bn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){od(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){od(e,t),typeof s!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function of(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rv;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Kv.bind(null,e,t,n),t.then(e,e))}function af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lf(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var Lv=Sn.ReactCurrentOwner,ft=!1;function rt(e,t,n,s){t.child=e===null?Fg(t,null,n,s):wr(t,e.child,n,s)}function cf(e,t,n,s,r){n=n.render;var i=t.ref;return pr(t,r),s=Nu(e,t,n,s,i,r),n=ku(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kn(e,t,r)):(_e&&n&&uu(t),t.flags|=1,rt(e,t,s,r),t.child)}function df(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!Lu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,d0(e,t,i,s,r)):(e=ta(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(o,s)&&e.ref===t.ref)return kn(e,t,r)}return t.flags|=1,e=Yn(i,s),e.ref=t.ref,e.return=t,t.child=e}function d0(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(ki(i,s)&&e.ref===t.ref)if(ft=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,kn(e,t,r)}return ad(e,t,n,s,r)}function u0(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(lr,wt),wt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(lr,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,we(lr,wt),wt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,we(lr,wt),wt|=s;return rt(e,t,r,n),t.child}function h0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ad(e,t,n,s,r){var i=gt(n)?Es:nt.current;return i=vr(t,i),pr(t,r),n=Nu(e,t,n,s,i,r),s=ku(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,kn(e,t,r)):(_e&&s&&uu(t),t.flags|=1,rt(e,t,n,r),t.child)}function uf(e,t,n,s,r){if(gt(n)){var i=!0;ka(t)}else i=!1;if(pr(t,r),t.stateNode===null)Go(e,t),a0(t,n,s),id(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ft(d):(d=gt(n)?Es:nt.current,d=vr(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&rf(t,o,s,d),Pn=!1;var f=t.memoizedState;o.state=f,Ma(t,s,o,r),c=t.memoizedState,l!==s||f!==c||pt.current||Pn?(typeof u=="function"&&(rd(t,n,u,s),c=t.memoizedState),(l=Pn||sf(t,n,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,zg(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ut(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=gt(n)?Es:nt.current,c=vr(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&rf(t,o,s,c),Pn=!1,f=t.memoizedState,o.state=f,Ma(t,s,o,r);var x=t.memoizedState;l!==h||f!==x||pt.current||Pn?(typeof g=="function"&&(rd(t,n,g,s),x=t.memoizedState),(d=Pn||sf(t,n,d,s,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return ld(e,t,n,s,i,r)}function ld(e,t,n,s,r,i){h0(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Yh(t,n,!1),kn(e,t,i);s=t.stateNode,Lv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=wr(t,e.child,null,i),t.child=wr(t,null,l,i)):rt(e,t,l,i),t.memoizedState=s.state,r&&Yh(t,n,!0),t.child}function f0(e){var t=e.stateNode;t.pendingContext?Qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qh(e,t.context,!1),vu(e,t.containerInfo)}function hf(e,t,n,s,r){return br(),fu(r),t.flags|=256,rt(e,t,n,s),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function m0(e,t,n){var s=t.pendingProps,r=Me.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),we(Me,r&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dl(o,s,0,null),e=Ss(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=dd(n),t.memoizedState=cd,e):Cu(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Av(e,t,o,s,l,r,n);if(i){i=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Yn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Yn(l,i):(i=Ss(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?dd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=cd,s}return i=e.child,e=i.sibling,s=Yn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Cu(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function go(e,t,n,s){return s!==null&&fu(s),wr(t,e.child,null,n),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Av(e,t,n,s,r,i,o){if(n)return t.flags&256?(t.flags&=-257,s=tc(Error(V(422))),go(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=dl({mode:"visible",children:s.children},r,0,null),i=Ss(i,r,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&wr(t,e.child,null,o),t.child.memoizedState=dd(o),t.memoizedState=cd,i);if(!(t.mode&1))return go(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(V(419)),s=tc(i,s,void 0),go(e,t,o,s)}if(l=(o&e.childLanes)!==0,ft||l){if(s=He,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Nn(e,r),Qt(s,e,r,-1))}return Ru(),s=tc(Error(V(421))),go(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Qv.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,jt=Wn(r.nextSibling),kt=t,_e=!0,Wt=null,e!==null&&(Dt[Rt++]=yn,Dt[Rt++]=vn,Dt[Rt++]=Ms,yn=e.id,vn=e.overflow,Ms=t),t=Cu(t,s.children),t.flags|=4096,t)}function ff(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sd(e.return,t,n)}function nc(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function p0(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(rt(e,t,s.children,n),s=Me.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(we(Me,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ta(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nc(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ta(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nc(t,!0,n,null,i);break;case"together":nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ov(e,t,n){switch(t.tag){case 3:f0(t),br();break;case 5:Bg(t);break;case 1:gt(t.type)&&ka(t);break;case 4:vu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;we(Ca,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(we(Me,Me.current&1),t.flags|=128,null):n&t.child.childLanes?m0(e,t,n):(we(Me,Me.current&1),e=kn(e,t,n),e!==null?e.sibling:null);we(Me,Me.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return p0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),we(Me,Me.current),s)break;return null;case 22:case 23:return t.lanes=0,u0(e,t,n)}return kn(e,t,n)}var g0,ud,x0,y0;g0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};x0=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,js(ln.current);var i=null;switch(n){case"input":r=Rc(e,r),s=Rc(e,s),i=[];break;case"select":r=Pe({},r,{value:void 0}),s=Pe({},s,{value:void 0}),i=[];break;case"textarea":r=Oc(e,r),s=Oc(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ja)}Fc(n,s);var o;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};y0=function(e,t,n,s){n!==s&&(t.flags|=4)};function zr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Iv(e,t,n){var s=t.pendingProps;switch(hu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return gt(t.type)&&Na(),Ge(t),null;case 3:return s=t.stateNode,jr(),ke(pt),ke(nt),wu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(vd(Wt),Wt=null))),ud(e,t),Ge(t),null;case 5:bu(t);var r=js(Mi.current);if(n=t.type,e!==null&&t.stateNode!=null)x0(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(V(166));return Ge(t),null}if(e=js(ln.current),mo(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[rn]=t,s[Ci]=i,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(r=0;r<Zr.length;r++)Ne(Zr[r],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":wh(s,i),Ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",s);break;case"textarea":Nh(s,i),Ne("invalid",s)}Fc(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&fo(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fo(s.textContent,l,e),r=["children",""+l]):xi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",s)}switch(n){case"input":ro(s),jh(s,i,!0);break;case"textarea":ro(s),kh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ja)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[rn]=t,e[Ci]=s,g0(e,t,!1,!1),t.stateNode=e;e:{switch(o=$c(n,s),n){case"dialog":Ne("cancel",e),Ne("close",e),r=s;break;case"iframe":case"object":case"embed":Ne("load",e),r=s;break;case"video":case"audio":for(r=0;r<Zr.length;r++)Ne(Zr[r],e);r=s;break;case"source":Ne("error",e),r=s;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),r=s;break;case"details":Ne("toggle",e),r=s;break;case"input":wh(e,s),r=Rc(e,s),Ne("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Pe({},s,{value:void 0}),Ne("invalid",e);break;case"textarea":Nh(e,s),r=Oc(e,s),Ne("invalid",e);break;default:r=s}Fc(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Yp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yi(e,c):typeof c=="number"&&yi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&Zd(e,i,c,o))}switch(n){case"input":ro(e),jh(e,s,!1);break;case"textarea":ro(e),kh(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Jn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ur(e,!!s.multiple,i,!1):s.defaultValue!=null&&ur(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=ja)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(V(166));if(n=js(Mi.current),js(ln.current),mo(t)){if(s=t.stateNode,n=t.memoizedProps,s[rn]=t,(i=s.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:fo(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fo(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[rn]=t,t.stateNode=s}return Ge(t),null;case 13:if(ke(Me),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&jt!==null&&t.mode&1&&!(t.flags&128))Og(),br(),t.flags|=98560,i=!1;else if(i=mo(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[rn]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else Wt!==null&&(vd(Wt),Wt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?ze===0&&(ze=3):Ru())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return jr(),ud(e,t),e===null&&Si(t.stateNode.containerInfo),Ge(t),null;case 10:return gu(t.type._context),Ge(t),null;case 17:return gt(t.type)&&Na(),Ge(t),null;case 19:if(ke(Me),i=t.memoizedState,i===null)return Ge(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)zr(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ta(e),o!==null){for(t.flags|=128,zr(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>kr&&(t.flags|=128,s=!0,zr(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ta(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_e)return Ge(t),null}else 2*Le()-i.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,s=!0,zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=Me.current,we(Me,s?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return Du(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?wt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Fv(e,t){switch(hu(t),t.tag){case 1:return gt(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ke(pt),ke(nt),wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(ke(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Me),null;case 4:return jr(),null;case 10:return gu(t.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var xo=!1,et=!1,$v=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){De(e,t,s)}else n.current=null}function hd(e,t,n){try{n()}catch(s){De(e,t,s)}}var mf=!1;function zv(e,t){if(Yc=va,e=Ng(),du(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++d===r&&(l=o),f===i&&++u===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:e,selectionRange:n},va=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,b=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ut(t.type,p),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){De(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return x=mf,mf=!1,x}function li(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&hd(t,n,i)}r=r.next}while(r!==s)}}function ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function fd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function v0(e){var t=e.alternate;t!==null&&(e.alternate=null,v0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Ci],delete t[Jc],delete t[jv],delete t[Nv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b0(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function md(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ja));else if(s!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}function pd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pd(e,t,n),e=e.sibling;e!==null;)pd(e,t,n),e=e.sibling}var Ke=null,Ht=!1;function En(e,t,n){for(n=n.child;n!==null;)w0(e,t,n),n=n.sibling}function w0(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:et||ar(n,t);case 6:var s=Ke,r=Ht;Ke=null,En(e,t,n),Ke=s,Ht=r,Ke!==null&&(Ht?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Ht?(e=Ke,n=n.stateNode,e.nodeType===8?Yl(e.parentNode,n):e.nodeType===1&&Yl(e,n),ji(e)):Yl(Ke,n.stateNode));break;case 4:s=Ke,r=Ht,Ke=n.stateNode.containerInfo,Ht=!0,En(e,t,n),Ke=s,Ht=r;break;case 0:case 11:case 14:case 15:if(!et&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hd(n,t,o),r=r.next}while(r!==s)}En(e,t,n);break;case 1:if(!et&&(ar(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){De(n,t,l)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(et=(s=et)||n.memoizedState!==null,En(e,t,n),et=s):En(e,t,n);break;default:En(e,t,n)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $v),t.forEach(function(s){var r=Yv.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ke=l.stateNode,Ht=!1;break e;case 3:Ke=l.stateNode.containerInfo,Ht=!0;break e;case 4:Ke=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Ke===null)throw Error(V(160));w0(i,o,r),Ke=null,Ht=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){De(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j0(t,e),t=t.sibling}function j0(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),Gt(e),s&4){try{li(3,e,e.return),ll(3,e)}catch(p){De(e,e.return,p)}try{li(5,e,e.return)}catch(p){De(e,e.return,p)}}break;case 1:Vt(t,e),Gt(e),s&512&&n!==null&&ar(n,n.return);break;case 5:if(Vt(t,e),Gt(e),s&512&&n!==null&&ar(n,n.return),e.flags&32){var r=e.stateNode;try{yi(r,"")}catch(p){De(e,e.return,p)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hp(r,i),$c(l,o);var d=$c(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Yp(r,h):u==="dangerouslySetInnerHTML"?Kp(r,h):u==="children"?yi(r,h):Zd(r,u,h,d)}switch(l){case"input":Lc(r,i);break;case"textarea":Wp(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ur(r,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ur(r,!!i.multiple,i.defaultValue,!0):ur(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ci]=i}catch(p){De(e,e.return,p)}}break;case 6:if(Vt(t,e),Gt(e),s&4){if(e.stateNode===null)throw Error(V(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(p){De(e,e.return,p)}}break;case 3:if(Vt(t,e),Gt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(p){De(e,e.return,p)}break;case 4:Vt(t,e),Gt(e);break;case 13:Vt(t,e),Gt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Tu=Le())),s&4&&gf(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(et=(d=et)||u,Vt(t,e),et=d):Vt(t,e),Gt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(h=Q=u;Q!==null;){switch(f=Q,g=f.child,f.tag){case 0:case 11:case 14:case 15:li(4,f,f.return);break;case 1:ar(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){De(s,n,p)}}break;case 5:ar(f,f.return);break;case 22:if(f.memoizedState!==null){yf(h);continue}}g!==null?(g.return=f,Q=g):yf(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qp("display",o))}catch(p){De(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){De(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vt(t,e),Gt(e),s&4&&gf(e);break;case 21:break;default:Vt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b0(n)){var s=n;break e}n=n.return}throw Error(V(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(yi(r,""),s.flags&=-33);var i=pf(e);pd(e,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=pf(e);md(e,l,o);break;default:throw Error(V(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bv(e,t,n){Q=e,N0(e)}function N0(e,t,n){for(var s=(e.mode&1)!==0;Q!==null;){var r=Q,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||xo;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||et;l=xo;var d=et;if(xo=o,(et=c)&&!d)for(Q=r;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?vf(r):c!==null?(c.return=o,Q=c):vf(r);for(;i!==null;)Q=i,N0(i),i=i.sibling;Q=r,xo=l,et=d}xf(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Q=i):xf(e)}}function xf(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||ll(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!et)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ef(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ef(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ji(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}et||t.flags&512&&fd(t)}catch(f){De(t,t.return,f)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function yf(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function vf(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(c){De(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){De(t,r,c)}}var i=t.return;try{fd(t)}catch(c){De(t,i,c)}break;case 5:var o=t.return;try{fd(t)}catch(c){De(t,o,c)}}}catch(c){De(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var Vv=Math.ceil,Ra=Sn.ReactCurrentDispatcher,Eu=Sn.ReactCurrentOwner,It=Sn.ReactCurrentBatchConfig,ce=0,He=null,Oe=null,Qe=0,wt=0,lr=rs(0),ze=0,Ri=null,Ps=0,cl=0,Mu=0,ci=null,ut=null,Tu=0,kr=1/0,pn=null,La=!1,gd=null,Kn=null,yo=!1,An=null,Aa=0,di=0,xd=null,Jo=-1,ea=0;function at(){return ce&6?Le():Jo!==-1?Jo:Jo=Le()}function Qn(e){return e.mode&1?ce&2&&Qe!==0?Qe&-Qe:Sv.transition!==null?(ea===0&&(ea=ag()),ea):(e=ge,e!==0||(e=window.event,e=e===void 0?16:mg(e.type)),e):1}function Qt(e,t,n,s){if(50<di)throw di=0,xd=null,Error(V(185));Wi(e,n,s),(!(ce&2)||e!==He)&&(e===He&&(!(ce&2)&&(cl|=n),ze===4&&Rn(e,Qe)),xt(e,s),n===1&&ce===0&&!(t.mode&1)&&(kr=Le()+500,il&&is()))}function xt(e,t){var n=e.callbackNode;S1(e,t);var s=ya(e,e===He?Qe:0);if(s===0)n!==null&&Ch(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ch(n),t===1)e.tag===0?kv(bf.bind(null,e)):Rg(bf.bind(null,e)),bv(function(){!(ce&6)&&is()}),n=null;else{switch(lg(s)){case 1:n=nu;break;case 4:n=ig;break;case 16:n=xa;break;case 536870912:n=og;break;default:n=xa}n=P0(n,k0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function k0(e,t){if(Jo=-1,ea=0,ce&6)throw Error(V(327));var n=e.callbackNode;if(gr()&&e.callbackNode!==n)return null;var s=ya(e,e===He?Qe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Oa(e,s);else{t=s;var r=ce;ce|=2;var i=_0();(He!==e||Qe!==t)&&(pn=null,kr=Le()+500,ks(e,t));do try{Wv();break}catch(l){S0(e,l)}while(1);pu(),Ra.current=i,ce=r,Oe!==null?t=0:(He=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(r=Hc(e),r!==0&&(s=r,t=yd(e,r))),t===1)throw n=Ri,ks(e,0),Rn(e,s),xt(e,Le()),n;if(t===6)Rn(e,s);else{if(r=e.current.alternate,!(s&30)&&!Uv(r)&&(t=Oa(e,s),t===2&&(i=Hc(e),i!==0&&(s=i,t=yd(e,i))),t===1))throw n=Ri,ks(e,0),Rn(e,s),xt(e,Le()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(V(345));case 2:xs(e,ut,pn);break;case 3:if(Rn(e,s),(s&130023424)===s&&(t=Tu+500-Le(),10<t)){if(ya(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){at(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Gc(xs.bind(null,e,ut,pn),t);break}xs(e,ut,pn);break;case 4:if(Rn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-Kt(s);i=1<<o,o=t[o],o>r&&(r=o),s&=~i}if(s=r,s=Le()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Vv(s/1960))-s,10<s){e.timeoutHandle=Gc(xs.bind(null,e,ut,pn),s);break}xs(e,ut,pn);break;case 5:xs(e,ut,pn);break;default:throw Error(V(329))}}}return xt(e,Le()),e.callbackNode===n?k0.bind(null,e):null}function yd(e,t){var n=ci;return e.current.memoizedState.isDehydrated&&(ks(e,t).flags|=256),e=Oa(e,t),e!==2&&(t=ut,ut=n,t!==null&&vd(t)),e}function vd(e){ut===null?ut=e:ut.push.apply(ut,e)}function Uv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Xt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Mu,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),s=1<<n;e[n]=-1,t&=~s}}function bf(e){if(ce&6)throw Error(V(327));gr();var t=ya(e,0);if(!(t&1))return xt(e,Le()),null;var n=Oa(e,t);if(e.tag!==0&&n===2){var s=Hc(e);s!==0&&(t=s,n=yd(e,s))}if(n===1)throw n=Ri,ks(e,0),Rn(e,t),xt(e,Le()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xs(e,ut,pn),xt(e,Le()),null}function Pu(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(kr=Le()+500,il&&is())}}function Ds(e){An!==null&&An.tag===0&&!(ce&6)&&gr();var t=ce;ce|=1;var n=It.transition,s=ge;try{if(It.transition=null,ge=1,e)return e()}finally{ge=s,It.transition=n,ce=t,!(ce&6)&&is()}}function Du(){wt=lr.current,ke(lr)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vv(n)),Oe!==null)for(n=Oe.return;n!==null;){var s=n;switch(hu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Na();break;case 3:jr(),ke(pt),ke(nt),wu();break;case 5:bu(s);break;case 4:jr();break;case 13:ke(Me);break;case 19:ke(Me);break;case 10:gu(s.type._context);break;case 22:case 23:Du()}n=n.return}if(He=e,Oe=e=Yn(e.current,null),Qe=wt=t,ze=0,Ri=null,Mu=cl=Ps=0,ut=ci=null,ws!==null){for(t=0;t<ws.length;t++)if(n=ws[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}ws=null}return e}function S0(e,t){do{var n=Oe;try{if(pu(),Xo.current=Da,Pa){for(var s=Te.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Pa=!1}if(Ts=0,Ve=$e=Te=null,ai=!1,Ti=0,Eu.current=null,n===null||n.return===null){ze=1,Ri=t,Oe=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Qe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=af(o);if(g!==null){g.flags&=-257,lf(g,o,l,i,t),g.mode&1&&of(i,d,t),t=g,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){of(i,d,t),Ru();break e}c=Error(V(426))}}else if(_e&&l.mode&1){var b=af(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lf(b,o,l,i,t),fu(Nr(c,l));break e}}i=c=Nr(c,l),ze!==4&&(ze=2),ci===null?ci=[i]:ci.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=l0(i,c,t);Jh(i,y);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kn===null||!Kn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=c0(i,l,t);Jh(i,j);break e}}i=i.return}while(i!==null)}E0(n)}catch(S){t=S,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function _0(){var e=Ra.current;return Ra.current=Da,e===null?Da:e}function Ru(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(Ps&268435455)&&!(cl&268435455)||Rn(He,Qe)}function Oa(e,t){var n=ce;ce|=2;var s=_0();(He!==e||Qe!==t)&&(pn=null,ks(e,t));do try{Hv();break}catch(r){S0(e,r)}while(1);if(pu(),ce=n,Ra.current=s,Oe!==null)throw Error(V(261));return He=null,Qe=0,ze}function Hv(){for(;Oe!==null;)C0(Oe)}function Wv(){for(;Oe!==null&&!g1();)C0(Oe)}function C0(e){var t=T0(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?E0(e):Oe=t,Eu.current=null}function E0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fv(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Oe=null;return}}else if(n=Iv(n,t,wt),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);ze===0&&(ze=5)}function xs(e,t,n){var s=ge,r=It.transition;try{It.transition=null,ge=1,qv(e,t,n,s)}finally{It.transition=r,ge=s}return null}function qv(e,t,n,s){do gr();while(An!==null);if(ce&6)throw Error(V(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_1(e,i),e===He&&(Oe=He=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yo||(yo=!0,P0(xa,function(){return gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=It.transition,It.transition=null;var o=ge;ge=1;var l=ce;ce|=4,Eu.current=null,zv(e,n),j0(n,e),hv(Xc),va=!!Yc,Xc=Yc=null,e.current=n,Bv(n),x1(),ce=l,ge=o,It.transition=i}else e.current=n;if(yo&&(yo=!1,An=e,Aa=r),i=e.pendingLanes,i===0&&(Kn=null),b1(n.stateNode),xt(e,Le()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(La)throw La=!1,e=gd,gd=null,e;return Aa&1&&e.tag!==0&&gr(),i=e.pendingLanes,i&1?e===xd?di++:(di=0,xd=e):di=0,is(),null}function gr(){if(An!==null){var e=lg(Aa),t=It.transition,n=ge;try{if(It.transition=null,ge=16>e?16:e,An===null)var s=!1;else{if(e=An,An=null,Aa=0,ce&6)throw Error(V(331));var r=ce;for(ce|=4,Q=e.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Q=d;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:li(8,u,i)}var h=u.child;if(h!==null)h.return=u,Q=h;else for(;Q!==null;){u=Q;var f=u.sibling,g=u.return;if(v0(u),u===d){Q=null;break}if(f!==null){f.return=g,Q=f;break}Q=g}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:li(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var v=e.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(S){De(l,l.return,S)}if(l===o){Q=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Q=j;break e}Q=l.return}}if(ce=r,is(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(el,e)}catch{}s=!0}return s}finally{ge=n,It.transition=t}}return!1}function wf(e,t,n){t=Nr(n,t),t=l0(e,t,1),e=qn(e,t,1),t=at(),e!==null&&(Wi(e,1,t),xt(e,t))}function De(e,t,n){if(e.tag===3)wf(e,e,n);else for(;t!==null;){if(t.tag===3){wf(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=Nr(n,e),e=c0(t,e,1),t=qn(t,e,1),e=at(),t!==null&&(Wi(t,1,e),xt(t,e));break}}t=t.return}}function Kv(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Qe&n)===n&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>Le()-Tu?ks(e,0):Mu|=n),xt(e,t)}function M0(e,t){t===0&&(e.mode&1?(t=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):t=1);var n=at();e=Nn(e,t),e!==null&&(Wi(e,t,n),xt(e,n))}function Qv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),M0(e,n)}function Yv(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(V(314))}s!==null&&s.delete(t),M0(e,n)}var T0;T0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Ov(e,t,n);ft=!!(e.flags&131072)}else ft=!1,_e&&t.flags&1048576&&Lg(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Go(e,t),e=t.pendingProps;var r=vr(t,nt.current);pr(t,n),r=Nu(null,t,s,e,r,n);var i=ku();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(s)?(i=!0,ka(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,yu(t),r.updater=al,t.stateNode=r,r._reactInternals=t,id(t,s,e,n),t=ld(null,t,s,!0,i,n)):(t.tag=0,_e&&i&&uu(t),rt(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=Zv(s),e=Ut(s,e),r){case 0:t=ad(null,t,s,e,n);break e;case 1:t=uf(null,t,s,e,n);break e;case 11:t=cf(null,t,s,e,n);break e;case 14:t=df(null,t,s,Ut(s.type,e),n);break e}throw Error(V(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ut(s,r),ad(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ut(s,r),uf(e,t,s,r,n);case 3:e:{if(f0(t),e===null)throw Error(V(387));s=t.pendingProps,i=t.memoizedState,r=i.element,zg(e,t),Ma(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Nr(Error(V(423)),t),t=hf(e,t,s,n,r);break e}else if(s!==r){r=Nr(Error(V(424)),t),t=hf(e,t,s,n,r);break e}else for(jt=Wn(t.stateNode.containerInfo.firstChild),kt=t,_e=!0,Wt=null,n=Fg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),s===r){t=kn(e,t,n);break e}rt(e,t,s,n)}t=t.child}return t;case 5:return Bg(t),e===null&&nd(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,Zc(s,r)?o=null:i!==null&&Zc(s,i)&&(t.flags|=32),h0(e,t),rt(e,t,o,n),t.child;case 6:return e===null&&nd(t),null;case 13:return m0(e,t,n);case 4:return vu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wr(t,null,s,n):rt(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ut(s,r),cf(e,t,s,r,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,we(Ca,s._currentValue),s._currentValue=o,i!==null)if(Xt(i.value,o)){if(i.children===r.children&&!pt.current){t=kn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=bn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sd(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sd(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,pr(t,n),r=Ft(r),s=s(r),t.flags|=1,rt(e,t,s,n),t.child;case 14:return s=t.type,r=Ut(s,t.pendingProps),r=Ut(s.type,r),df(e,t,s,r,n);case 15:return d0(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Ut(s,r),Go(e,t),t.tag=1,gt(s)?(e=!0,ka(t)):e=!1,pr(t,n),a0(t,s,r),id(t,s,r,n),ld(null,t,s,!0,e,n);case 19:return p0(e,t,n);case 22:return u0(e,t,n)}throw Error(V(156,t.tag))};function P0(e,t){return rg(e,t)}function Xv(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,s){return new Xv(e,t,n,s)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zv(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jd)return 11;if(e===eu)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ta(e,t,n,s,r,i){var o=2;if(s=e,typeof e=="function")Lu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gs:return Ss(n.children,r,i,t);case Gd:o=8,r|=8;break;case Mc:return e=At(12,n,t,r|2),e.elementType=Mc,e.lanes=i,e;case Tc:return e=At(13,n,t,r),e.elementType=Tc,e.lanes=i,e;case Pc:return e=At(19,n,t,r),e.elementType=Pc,e.lanes=i,e;case Bp:return dl(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $p:o=10;break e;case zp:o=9;break e;case Jd:o=11;break e;case eu:o=14;break e;case Tn:o=16,s=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=At(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function Ss(e,t,n,s){return e=At(7,e,s,t),e.lanes=n,e}function dl(e,t,n,s){return e=At(22,e,s,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function sc(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function rc(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gv(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Au(e,t,n,s,r,i,o,l,c){return e=new Gv(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yu(i),e}function Jv(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function D0(e){if(!e)return es;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(gt(n))return Dg(e,n,t)}return t}function R0(e,t,n,s,r,i,o,l,c){return e=Au(n,s,!0,e,r,i,o,l,c),e.context=D0(null),n=e.current,s=at(),r=Qn(n),i=bn(s,r),i.callback=t??null,qn(n,i,r),e.current.lanes=r,Wi(e,r,s),xt(e,s),e}function ul(e,t,n,s){var r=t.current,i=at(),o=Qn(r);return n=D0(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=qn(r,t,o),e!==null&&(Qt(e,r,o,i),Yo(e,r,o)),o}function Ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ou(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function eb(){return null}var L0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iu(e){this._internalRoot=e}hl.prototype.render=Iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));ul(e,t,null,null)};hl.prototype.unmount=Iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){ul(null,e,null,null)}),t[jn]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ug();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&fg(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function tb(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=Ia(o);i.call(d)}}var o=R0(t,s,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=o,e[jn]=o.current,Si(e.nodeType===8?e.parentNode:e),Ds(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Ia(c);l.call(d)}}var c=Au(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=c,e[jn]=c.current,Si(e.nodeType===8?e.parentNode:e),Ds(function(){ul(t,c,n,s)}),c}function ml(e,t,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=Ia(o);l.call(c)}}ul(t,o,e,r)}else o=tb(n,t,e,r,s);return Ia(o)}cg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xr(t.pendingLanes);n!==0&&(su(t,n|1),xt(t,Le()),!(ce&6)&&(kr=Le()+500,is()))}break;case 13:Ds(function(){var s=Nn(e,1);if(s!==null){var r=at();Qt(s,e,1,r)}}),Ou(e,1)}};ru=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var n=at();Qt(t,e,134217728,n)}Ou(e,134217728)}};dg=function(e){if(e.tag===13){var t=Qn(e),n=Nn(e,t);if(n!==null){var s=at();Qt(n,e,t,s)}Ou(e,t)}};ug=function(){return ge};hg=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Bc=function(e,t,n){switch(t){case"input":if(Lc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=rl(s);if(!r)throw Error(V(90));Up(s),Lc(s,r)}}}break;case"textarea":Wp(e,n);break;case"select":t=n.value,t!=null&&ur(e,!!n.multiple,t,!1)}};Gp=Pu;Jp=Ds;var nb={usingClientEntryPoint:!1,Events:[Ki,nr,rl,Xp,Zp,Pu]},Br={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sb={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ng(e),e===null?null:e.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{el=vo.inject(sb),an=vo}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nb;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(t))throw Error(V(200));return Jv(e,t,null,n)};Ct.createRoot=function(e,t){if(!Fu(e))throw Error(V(299));var n=!1,s="",r=L0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Au(e,1,!1,null,null,n,!1,s,r),e[jn]=t.current,Si(e.nodeType===8?e.parentNode:e),new Iu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=ng(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Ds(e)};Ct.hydrate=function(e,t,n){if(!fl(t))throw Error(V(200));return ml(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!Fu(e))throw Error(V(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=L0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=R0(t,null,e,1,n??null,r,!1,i,o),e[jn]=t.current,Si(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new hl(t)};Ct.render=function(e,t,n){if(!fl(t))throw Error(V(200));return ml(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!fl(e))throw Error(V(40));return e._reactRootContainer?(Ds(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};Ct.unstable_batchedUpdates=Pu;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!fl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return ml(e,t,n,!1,s)};Ct.version="18.3.1-next-f1338f8080-20240426";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),Ap.exports=Ct;var rb=Ap.exports,kf=rb;Cc.createRoot=kf.createRoot,Cc.hydrateRoot=kf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Li.apply(this,arguments)}var On;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(On||(On={}));const Sf="popstate";function ib(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:o,hash:l}=s.location;return bd("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Fa(r)}return ab(t,n,null,e)}function Ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ob(){return Math.random().toString(36).substr(2,8)}function _f(e,t){return{usr:e.state,key:e.key,idx:t}}function bd(e,t,n,s){return n===void 0&&(n=null),Li({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pr(t):t,{state:n,key:t&&t.key||s||ob()})}function Fa(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Pr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ab(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,l=On.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Li({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=On.Pop;let b=u(),y=b==null?null:b-d;d=b,c&&c({action:l,location:p.location,delta:y})}function f(b,y){l=On.Push;let v=bd(p.location,b,y);n&&n(v,b),d=u()+1;let w=_f(v,d),j=p.createHref(v);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function g(b,y){l=On.Replace;let v=bd(p.location,b,y);n&&n(v,b),d=u();let w=_f(v,d),j=p.createHref(v);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function x(b){let y=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof b=="string"?b:Fa(b);return v=v.replace(/ $/,"%20"),Ie(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return e(r,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Sf,h),c=b,()=>{r.removeEventListener(Sf,h),c=null}},createHref(b){return t(r,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(b){return o.go(b)}};return p}var Cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cf||(Cf={}));function lb(e,t,n){return n===void 0&&(n="/"),cb(e,t,n,!1)}function cb(e,t,n,s){let r=typeof t=="string"?Pr(t):t,i=$u(r.pathname||"/",n);if(i==null)return null;let o=I0(e);db(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=wb(i);l=vb(o[c],d,s)}return l}function I0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ie(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Xn([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),I0(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:xb(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let c of F0(i.path))r(i,o,c)}),t}function F0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=F0(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function db(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const ub=/^:[\w-]+$/,hb=3,fb=2,mb=1,pb=10,gb=-2,Ef=e=>e==="*";function xb(e,t){let n=e.split("/"),s=n.length;return n.some(Ef)&&(s+=gb),t&&(s+=fb),n.filter(r=>!Ef(r)).reduce((r,i)=>r+(ub.test(i)?hb:i===""?mb:pb),s)}function yb(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function vb(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,r={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!s[s.length-1].route.index&&(h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Xn([i,h.pathname]),pathnameBase:Sb(Xn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Xn([i,h.pathnameBase]))}return o}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=bb(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=l[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[h];return g&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function bb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),O0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function wb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $u(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function jb(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Pr(e):e;return{pathname:n?n.startsWith("/")?n:Nb(n,t):t,search:_b(s),hash:Cb(r)}}function Nb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ic(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $0(e,t){let n=kb(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function z0(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Pr(e):(r=Li({},e),Ie(!r.pathname||!r.pathname.includes("?"),ic("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),ic("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),ic("#","search","hash",r)));let i=e===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=jb(r,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),Sb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_b=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Eb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B0=["post","put","patch","delete"];new Set(B0);const Mb=["get",...B0];new Set(Mb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ai.apply(this,arguments)}const zu=m.createContext(null),Tb=m.createContext(null),zs=m.createContext(null),pl=m.createContext(null),os=m.createContext({outlet:null,matches:[],isDataRoute:!1}),V0=m.createContext(null);function Pb(e,t){let{relative:n}=t===void 0?{}:t;Yi()||Ie(!1);let{basename:s,navigator:r}=m.useContext(zs),{hash:i,pathname:o,search:l}=H0(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Xn([s,o])),r.createHref({pathname:c,search:l,hash:i})}function Yi(){return m.useContext(pl)!=null}function Bs(){return Yi()||Ie(!1),m.useContext(pl).location}function U0(e){m.useContext(zs).static||m.useLayoutEffect(e)}function qe(){let{isDataRoute:e}=m.useContext(os);return e?Hb():Db()}function Db(){Yi()||Ie(!1);let e=m.useContext(zu),{basename:t,future:n,navigator:s}=m.useContext(zs),{matches:r}=m.useContext(os),{pathname:i}=Bs(),o=JSON.stringify($0(r,n.v7_relativeSplatPath)),l=m.useRef(!1);return U0(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=z0(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xn([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,o,i,e])}function _n(){let{matches:e}=m.useContext(os),t=e[e.length-1];return t?t.params:{}}function H0(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=m.useContext(zs),{matches:r}=m.useContext(os),{pathname:i}=Bs(),o=JSON.stringify($0(r,s.v7_relativeSplatPath));return m.useMemo(()=>z0(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Rb(e,t){return Lb(e,t)}function Lb(e,t,n,s){Yi()||Ie(!1);let{navigator:r}=m.useContext(zs),{matches:i}=m.useContext(os),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Bs(),u;if(t){var h;let b=typeof t=="string"?Pr(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ie(!1),u=b}else u=d;let f=u.pathname||"/",g=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=lb(e,{pathname:g}),p=$b(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Xn([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xn([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return t&&p?m.createElement(pl.Provider,{value:{location:Ai({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:On.Pop}},p):p}function Ab(){let e=Ub(),t=Eb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:r},n):null,i)}const Ob=m.createElement(Ab,null);class Ib extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(os.Provider,{value:this.props.routeContext},m.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fb(e){let{routeContext:t,match:n,children:s}=e,r=m.useContext(zu);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(os.Provider,{value:t},s)}function $b(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(r=n)==null?void 0:r.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ie(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:g}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,x=!1,p=null,b=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||Ob,c&&(d<0&&f===0?(Wb("route-fallback",!1),x=!0,b=null):d===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),v=()=>{let w;return g?w=p:x?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,m.createElement(Fb,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(Ib,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var W0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W0||{}),$a=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($a||{});function zb(e){let t=m.useContext(zu);return t||Ie(!1),t}function Bb(e){let t=m.useContext(Tb);return t||Ie(!1),t}function Vb(e){let t=m.useContext(os);return t||Ie(!1),t}function q0(e){let t=Vb(),n=t.matches[t.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Ub(){var e;let t=m.useContext(V0),n=Bb($a.UseRouteError),s=q0($a.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Hb(){let{router:e}=zb(W0.UseNavigateStable),t=q0($a.UseNavigateStable),n=m.useRef(!1);return U0(()=>{n.current=!0}),m.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ai({fromRouteId:t},i)))},[e,t])}const Tf={};function Wb(e,t,n){!t&&!Tf[e]&&(Tf[e]=!0)}function qb(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function xe(e){Ie(!1)}function Kb(e){let{basename:t="/",children:n=null,location:s,navigationType:r=On.Pop,navigator:i,static:o=!1,future:l}=e;Yi()&&Ie(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Ai({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Pr(s));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:x="default"}=s,p=m.useMemo(()=>{let b=$u(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:g,key:x},navigationType:r}},[c,u,h,f,g,x,r]);return p==null?null:m.createElement(zs.Provider,{value:d},m.createElement(pl.Provider,{children:n,value:p}))}function Qb(e){let{children:t,location:n}=e;return Rb(wd(t),n)}new Promise(()=>{});function wd(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(s,r)=>{if(!m.isValidElement(s))return;let i=[...t,r];if(s.type===m.Fragment){n.push.apply(n,wd(s.props.children,i));return}s.type!==xe&&Ie(!1),!s.props.index||!s.props.children||Ie(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=wd(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jd.apply(this,arguments)}function Yb(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Xb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zb(e,t){return e.button===0&&(!t||t==="_self")&&!Xb(e)}function Nd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function Gb(e,t){let n=Nd(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}const Jb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ew="6";try{window.__reactRouterVersion=ew}catch{}const tw="startTransition",Pf=Ky[tw];function nw(e){let{basename:t,children:n,future:s,window:r}=e,i=m.useRef();i.current==null&&(i.current=ib({window:r,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=m.useCallback(h=>{d&&Pf?Pf(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>qb(s),[s]),m.createElement(Kb,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=m.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Yb(t,Jb),{basename:g}=m.useContext(zs),x,p=!1;if(typeof d=="string"&&rw.test(d)&&(x=d,sw))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),S=$u(j.pathname,g);j.origin===w.origin&&S!=null?d=S+j.search+j.hash:p=!0}catch{}let b=Pb(d,{relative:r}),y=iw(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h});function v(w){s&&s(w),w.defaultPrevented||y(w)}return m.createElement("a",jd({},f,{href:x||b,onClick:p||i?s:v,ref:n,target:c}))});var Df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Df||(Df={}));var Rf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rf||(Rf={}));function iw(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=qe(),d=Bs(),u=H0(e,{relative:o});return m.useCallback(h=>{if(Zb(h,n)){h.preventDefault();let f=s!==void 0?s:Fa(d)===Fa(u);c(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,r,n,e,i,o,l])}function as(e){let t=m.useRef(Nd(e)),n=m.useRef(!1),s=Bs(),r=m.useMemo(()=>Gb(s.search,n.current?null:t.current),[s.search]),i=qe(),o=m.useCallback((l,c)=>{const d=Nd(typeof l=="function"?l(r):l);n.current=!0,i("?"+d,c)},[i,r]);return[r,o]}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),Lf=e=>{const t=aw(e);return t.charAt(0).toUpperCase()+t.slice(1)},K0=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),lw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...cw,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:K0("lucide",r),...!i&&!lw(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(e,t)=>{const n=m.forwardRef(({className:s,...r},i)=>m.createElement(dw,{ref:i,iconNode:t,className:K0(`lucide-${ow(Lf(e))}`,`lucide-${e}`,s),...r}));return n.displayName=Lf(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],hw=vt("box",uw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mw=vt("building",fw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],gw=vt("chart-no-axes-column-increasing",pw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yw=vt("chevron-left",xw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bw=vt("chevron-right",vw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jw=vt("clipboard-list",ww);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],kw=vt("computer",Nw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m16 13-3.5 3.5-2-2L8 17",key:"zz7yod"}]],_w=vt("file-chart-line",Sw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ew=vt("file-text",Cw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Tw=vt("house",Mw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dw=vt("log-out",Pw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Lw=vt("shopping-cart",Rw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ow=vt("users",Aw);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Fw=vt("wrench",Iw),Rs="/assets/logo-d8c3edb6.png",ds=(...e)=>e.filter(Boolean).join(" "),$w=({isOpen:e,toggleSidebar:t})=>{const n=Bs(),s=u=>u==="/"?n.pathname==="/":n.pathname===u||n.pathname.startsWith(u+"/"),r=m.useMemo(()=>[{title:"Início",items:[{name:"Dashboard",path:"/",icon:Tw}]},{title:"Operação",items:[{name:"PDV",path:"/pdv",icon:kw},{name:"Vendas",path:"/sales",icon:Lw},{name:"Serviços",path:"/services",icon:Fw},{name:"Orçamentos",path:"/quotes",icon:Ew}]},{title:"Catálogo",items:[{name:"Produtos",path:"/products",icon:hw},{name:"Estoque",path:"/inventory",icon:jw},{name:"Fornecedores",path:"/suppliers",icon:mw},{name:"Clientes",path:"/customers",icon:Ow}]},{title:"Gestão",items:[{name:"Despesas",path:"/expenses",icon:_w},{name:"Relatórios",path:"/reports",icon:gw}]}],[]),i=m.useRef([]),o=u=>{var g,x,p,b;const h=i.current.filter(Boolean),f=h.findIndex(y=>y===document.activeElement);u.key==="ArrowDown"?(u.preventDefault(),(g=h[(f+1)%h.length])==null||g.focus()):u.key==="ArrowUp"?(u.preventDefault(),(x=h[(f-1+h.length)%h.length])==null||x.focus()):u.key==="Home"?(u.preventDefault(),(p=h[0])==null||p.focus()):u.key==="End"?(u.preventDefault(),(b=h[h.length-1])==null||b.focus()):u.key==="Escape"&&window.matchMedia("(max-width: 767px)").matches&&(t==null||t())},l=()=>a.jsx("button",{type:"button","aria-label":"Fechar menu",onClick:t,className:ds("fixed inset-0 z-30 bg-black/40 backdrop-blur-[1px] transition-opacity md:hidden",e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none")}),c=u=>async()=>{if(u==="/pdv"){try{const h=document.documentElement;!document.fullscreenElement&&(h!=null&&h.requestFullscreen)&&await h.requestFullscreen()}catch(h){console.warn("Fullscreen falhou:",h)}window.matchMedia("(max-width: 767px)").matches&&e&&(t==null||t())}},d=()=>{console.log("logout")};return a.jsxs(a.Fragment,{children:[a.jsx(l,{}),a.jsxs("aside",{className:ds("fixed inset-y-0 left-0 z-40","bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/90","ring-1 ring-black/5 shadow-sm","transition-[width] duration-300",e?"w-60":"w-20","flex flex-col"),"aria-label":"Navegação principal","data-open":e?"true":"false",children:[e&&a.jsx("div",{className:"mt-2 px-3",children:a.jsx("img",{src:Rs,alt:"Venda-PRO",style:{height:85,width:170,display:"block"}})}),a.jsx("nav",{role:"navigation","aria-label":"Seções",onKeyDown:o,className:"flex-1 overflow-y-auto",children:r.map((u,h)=>a.jsxs("div",{className:"px-2",children:[e?a.jsx("div",{className:"px-3 pb-1 text-[11px] font-semibold uppercase tracking-wider text-gray-400",children:u.title}):a.jsx("div",{className:"pt-2"}),a.jsx("ul",{children:u.items.map((f,g)=>{const x=r.slice(0,h).reduce((b,y)=>b+y.items.length,0)+g,p=s(f.path);return a.jsx("li",{className:"relative",children:a.jsxs(Ee,{ref:b=>i.current[x]=b,to:f.path,onClick:c(f.path),title:f.name,"aria-current":p?"page":void 0,className:ds("group mx-1 my-1 flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium outline-none transition-all",p?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow ring-1 ring-red-500/30":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 focus-visible:ring-2 focus-visible:ring-gray-900/10",!e&&"justify-center"),children:[a.jsx(f.icon,{className:ds("h-5 w-5 flex-shrink-0 transition-colors",p?"text-white":"text-gray-400 group-hover:text-gray-700")}),a.jsx("span",{className:ds("truncate",!e&&"sr-only"),"aria-hidden":!e,children:f.name}),!e&&a.jsx("span",{className:ds("pointer-events-none absolute left-full ml-2 top-1/2 -translate-y-1/2","whitespace-nowrap rounded-md bg-gray-900 px-2 py-1 text-xs text-white shadow-lg","hidden group-hover:block group-focus-visible:block"),children:f.name})]})},f.name)})}),a.jsx("div",{className:"my-2 border-t border-gray-100"})]},u.title))}),a.jsx("div",{className:"mt-auto border-t border-gray-100 p-2",children:a.jsxs("div",{className:ds("flex items-center",e?"justify-between":"justify-end"),children:[e&&a.jsxs("button",{type:"button",onClick:d,className:"inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 focus-visible:ring-2 focus-visible:ring-gray-900/10",children:[a.jsx(Dw,{className:"h-4 w-4","aria-hidden":"true"}),a.jsx("span",{children:"Sair"})]}),a.jsx("button",{onClick:t,"aria-label":"Alternar menu","aria-expanded":e,className:"rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500/40",children:e?a.jsx(yw,{className:"h-6 w-6"}):a.jsx(bw,{className:"h-6 w-6"})})]})})]})]})};function zw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Bw=m.forwardRef(zw),Q0=Bw;function Vw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Uw=m.forwardRef(Vw),Y0=Uw;function Hw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ww=m.forwardRef(Hw),qw=Ww;function Kw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Qw=m.forwardRef(Kw),Yw=Qw;function Xw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Zw=m.forwardRef(Xw),Gw=Zw;function Jw({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const e2=m.forwardRef(Jw),Bu=e2;function t2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const n2=m.forwardRef(t2),gl=n2;function s2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const r2=m.forwardRef(s2),xl=r2;function i2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const o2=m.forwardRef(i2),a2=o2;function l2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const c2=m.forwardRef(l2),d2=c2;function u2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const h2=m.forwardRef(u2),f2=h2;function m2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const p2=m.forwardRef(m2),X0=p2;function g2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const x2=m.forwardRef(g2),y2=x2;function v2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const b2=m.forwardRef(v2),Xi=b2;function w2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const j2=m.forwardRef(w2),N2=j2;function k2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const S2=m.forwardRef(k2),_2=S2;function C2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const E2=m.forwardRef(C2),M2=E2;function T2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const P2=m.forwardRef(T2),D2=P2;function R2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L2=m.forwardRef(R2),Vs=L2;function A2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const O2=m.forwardRef(A2),I2=O2;function F2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const $2=m.forwardRef(F2),z2=$2;function B2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const V2=m.forwardRef(B2),Cn=V2;function U2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const H2=m.forwardRef(U2),Z0=H2;function W2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const q2=m.forwardRef(W2),yl=q2;function K2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Q2=m.forwardRef(K2),dn=Q2;function Y2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const X2=m.forwardRef(Y2),Z2=X2;function G2({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const J2=m.forwardRef(G2),ej=J2,G0=({title:e,actionButton:t})=>a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e}),t&&t]}),bo=({title:e,value:t,icon:n,color:s})=>{const r={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",yellow:"bg-yellow-100 text-yellow-600",red:"bg-red-100 text-red-600"};return a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-3 rounded-full ${r[s]}`,children:a.jsx(n,{className:"w-6 h-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:t})]})]})})},on=({title:e,children:t,className:n=""})=>a.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${n}`,children:[e&&a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-gray-800",children:e})}),a.jsx("div",{className:"p-6",children:t})]}),q=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Xs=e=>{if(!e)return"—";const t=String(e),n=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(n){const[,r,i,o]=n;return`${o}/${i}/${r}`}const s=t instanceof Date?t:new Date(t);return isNaN(s)?"—":new Intl.DateTimeFormat("pt-BR",{timeZone:"America/Belem"}).format(s)},tj=e=>{if(!e)return"—";const t=e instanceof Date?e:new Date(String(e));return isNaN(t)?"—":new Intl.DateTimeFormat("pt-BR",{timeZone:"America/Belem",hour:"2-digit",minute:"2-digit"}).format(t)},nj=e=>{if(!e)return"—";const t=e instanceof Date?e:new Date(String(e));return isNaN(t)?"—":new Intl.DateTimeFormat("pt-BR",{timeZone:"America/Belem",dateStyle:"short",timeStyle:"short"}).format(t)};function J0(e,t){return function(){return e.apply(t,arguments)}}const{toString:sj}=Object.prototype,{getPrototypeOf:Vu}=Object,{iterator:vl,toStringTag:ex}=Symbol,bl=(e=>t=>{const n=sj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zt=e=>(e=e.toLowerCase(),t=>bl(t)===e),wl=e=>t=>typeof t===e,{isArray:Dr}=Array,Oi=wl("undefined");function Zi(e){return e!==null&&!Oi(e)&&e.constructor!==null&&!Oi(e.constructor)&&yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tx=Zt("ArrayBuffer");function rj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tx(e.buffer),t}const ij=wl("string"),yt=wl("function"),nx=wl("number"),Gi=e=>e!==null&&typeof e=="object",oj=e=>e===!0||e===!1,na=e=>{if(bl(e)!=="object")return!1;const t=Vu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ex in e)&&!(vl in e)},aj=e=>{if(!Gi(e)||Zi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lj=Zt("Date"),cj=Zt("File"),dj=Zt("Blob"),uj=Zt("FileList"),hj=e=>Gi(e)&&yt(e.pipe),fj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||yt(e.append)&&((t=bl(e))==="formdata"||t==="object"&&yt(e.toString)&&e.toString()==="[object FormData]"))},mj=Zt("URLSearchParams"),[pj,gj,xj,yj]=["ReadableStream","Request","Response","Headers"].map(Zt),vj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Dr(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Zi(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function sx(e,t){if(Zi(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ns=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rx=e=>!Oi(e)&&e!==Ns;function kd(){const{caseless:e}=rx(this)&&this||{},t={},n=(s,r)=>{const i=e&&sx(t,r)||r;na(t[i])&&na(s)?t[i]=kd(t[i],s):na(s)?t[i]=kd({},s):Dr(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ji(arguments[s],n);return t}const bj=(e,t,n,{allOwnKeys:s}={})=>(Ji(t,(r,i)=>{n&&yt(r)?e[i]=J0(r,n):e[i]=r},{allOwnKeys:s}),e),wj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jj=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Nj=(e,t,n,s)=>{let r,i,o;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)o=r[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Vu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kj=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Sj=e=>{if(!e)return null;if(Dr(e))return e;let t=e.length;if(!nx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_j=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vu(Uint8Array)),Cj=(e,t)=>{const s=(e&&e[vl]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},Ej=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Mj=Zt("HTMLFormElement"),Tj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Af=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Pj=Zt("RegExp"),ix=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ji(n,(r,i)=>{let o;(o=t(r,i,e))!==!1&&(s[i]=o||r)}),Object.defineProperties(e,s)},Dj=e=>{ix(e,(t,n)=>{if(yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(yt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rj=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Dr(e)?s(e):s(String(e).split(t)),n},Lj=()=>{},Aj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Oj(e){return!!(e&&yt(e.append)&&e[ex]==="FormData"&&e[vl])}const Ij=e=>{const t=new Array(10),n=(s,r)=>{if(Gi(s)){if(t.indexOf(s)>=0)return;if(Zi(s))return s;if(!("toJSON"in s)){t[r]=s;const i=Dr(s)?[]:{};return Ji(s,(o,l)=>{const c=n(o,r+1);!Oi(c)&&(i[l]=c)}),t[r]=void 0,i}}return s};return n(e,0)},Fj=Zt("AsyncFunction"),$j=e=>e&&(Gi(e)||yt(e))&&yt(e.then)&&yt(e.catch),ox=((e,t)=>e?setImmediate:t?((n,s)=>(Ns.addEventListener("message",({source:r,data:i})=>{r===Ns&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ns.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yt(Ns.postMessage)),zj=typeof queueMicrotask<"u"?queueMicrotask.bind(Ns):typeof process<"u"&&process.nextTick||ox,Bj=e=>e!=null&&yt(e[vl]),O={isArray:Dr,isArrayBuffer:tx,isBuffer:Zi,isFormData:fj,isArrayBufferView:rj,isString:ij,isNumber:nx,isBoolean:oj,isObject:Gi,isPlainObject:na,isEmptyObject:aj,isReadableStream:pj,isRequest:gj,isResponse:xj,isHeaders:yj,isUndefined:Oi,isDate:lj,isFile:cj,isBlob:dj,isRegExp:Pj,isFunction:yt,isStream:hj,isURLSearchParams:mj,isTypedArray:_j,isFileList:uj,forEach:Ji,merge:kd,extend:bj,trim:vj,stripBOM:wj,inherits:jj,toFlatObject:Nj,kindOf:bl,kindOfTest:Zt,endsWith:kj,toArray:Sj,forEachEntry:Cj,matchAll:Ej,isHTMLForm:Mj,hasOwnProperty:Af,hasOwnProp:Af,reduceDescriptors:ix,freezeMethods:Dj,toObjectSet:Rj,toCamelCase:Tj,noop:Lj,toFiniteNumber:Aj,findKey:sx,global:Ns,isContextDefined:rx,isSpecCompliantForm:Oj,toJSONObject:Ij,isAsyncFn:Fj,isThenable:$j,setImmediate:ox,asap:zj,isIterable:Bj};function ee(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}O.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=ee.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lx[e]={value:e}});Object.defineProperties(ee,lx);Object.defineProperty(ax,"isAxiosError",{value:!0});ee.from=(e,t,n,s,r,i)=>{const o=Object.create(ax);return O.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ee.call(o,e.message,t,n,s,r),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Vj=null;function Sd(e){return O.isPlainObject(e)||O.isArray(e)}function cx(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function Of(e,t,n){return e?e.concat(t).map(function(r,i){return r=cx(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function Uj(e){return O.isArray(e)&&!e.some(Sd)}const Hj=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function jl(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,b){return!O.isUndefined(b[p])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(r))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(O.isDate(x))return x.toISOString();if(O.isBoolean(x))return x.toString();if(!c&&O.isBlob(x))throw new ee("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(x)||O.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,b){let y=x;if(x&&!b&&typeof x=="object"){if(O.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(O.isArray(x)&&Uj(x)||(O.isFileList(x)||O.endsWith(p,"[]"))&&(y=O.toArray(x)))return p=cx(p),y.forEach(function(w,j){!(O.isUndefined(w)||w===null)&&t.append(o===!0?Of([p],j,i):o===null?p:p+"[]",d(w))}),!1}return Sd(x)?!0:(t.append(Of(b,p,i),d(x)),!1)}const h=[],f=Object.assign(Hj,{defaultVisitor:u,convertValue:d,isVisitable:Sd});function g(x,p){if(!O.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(x),O.forEach(x,function(y,v){(!(O.isUndefined(y)||y===null)&&r.call(t,y,O.isString(v)?v.trim():v,p,f))===!0&&g(y,p?p.concat(v):[v])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return g(e),t}function If(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Uu(e,t){this._pairs=[],e&&jl(e,this,t)}const dx=Uu.prototype;dx.append=function(t,n){this._pairs.push([t,n])};dx.toString=function(t){const n=t?function(s){return t.call(this,s,If)}:If;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Wj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ux(e,t,n){if(!t)return e;const s=n&&n.encode||Wj;O.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=O.isURLSearchParams(t)?t.toString():new Uu(t,n).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class qj{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Ff=qj,hx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kj=typeof URLSearchParams<"u"?URLSearchParams:Uu,Qj=typeof FormData<"u"?FormData:null,Yj=typeof Blob<"u"?Blob:null,Xj={isBrowser:!0,classes:{URLSearchParams:Kj,FormData:Qj,Blob:Yj},protocols:["http","https","file","blob","url","data"]},Hu=typeof window<"u"&&typeof document<"u",_d=typeof navigator=="object"&&navigator||void 0,Zj=Hu&&(!_d||["ReactNative","NativeScript","NS"].indexOf(_d.product)<0),Gj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Jj=Hu&&window.location.href||"http://localhost",eN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hu,hasStandardBrowserEnv:Zj,hasStandardBrowserWebWorkerEnv:Gj,navigator:_d,origin:Jj},Symbol.toStringTag,{value:"Module"})),tt={...eN,...Xj};function tN(e,t){return jl(e,new tt.classes.URLSearchParams,{visitor:function(n,s,r,i){return tt.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function nN(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sN(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function fx(e){function t(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&O.isArray(r)?r.length:o,c?(O.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!l):((!r[o]||!O.isObject(r[o]))&&(r[o]=[]),t(n,s,r[o],i)&&O.isArray(r[o])&&(r[o]=sN(r[o])),!l)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(s,r)=>{t(nN(s),r,n,0)}),n}return null}function rN(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Wu={transitional:hx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=O.isObject(t);if(i&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return r?JSON.stringify(fx(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tN(t,this.formSerializer).toString();if((l=O.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return jl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),rN(t)):t}],transformResponse:[function(t){const n=this.transitional||Wu.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ee.from(l,ee.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Wu.headers[e]={}});const qu=Wu,iN=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oN=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||t[n]&&iN[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},$f=Symbol("internals");function Vr(e){return e&&String(e).trim().toLowerCase()}function sa(e){return e===!1||e==null?e:O.isArray(e)?e.map(sa):String(e)}function aN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const lN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oc(e,t,n,s,r){if(O.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!O.isString(t)){if(O.isString(s))return t.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(t)}}function cN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function dN(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,o){return this[s].call(this,t,r,i,o)},configurable:!0})})}class Nl{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(l,c,d){const u=Vr(c);if(!u)throw new Error("header name must be a non-empty string");const h=O.findKey(r,u);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||c]=sa(l))}const o=(l,c)=>O.forEach(l,(d,u)=>i(d,u,c));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(O.isString(t)&&(t=t.trim())&&!lN(t))o(oN(t),n);else if(O.isObject(t)&&O.isIterable(t)){let l={},c,d;for(const u of t){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?O.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Vr(t),t){const s=O.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return aN(r);if(O.isFunction(n))return n.call(this,r,s);if(O.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Vr(t),t){const s=O.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||oc(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(o){if(o=Vr(o),o){const l=O.findKey(s,o);l&&(!n||oc(s,s[l],l,n))&&(delete s[l],r=!0)}}return O.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||oc(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return O.forEach(this,(r,i)=>{const o=O.findKey(s,i);if(o){n[o]=sa(r),delete n[i];return}const l=t?cN(i):String(i).trim();l!==i&&delete n[i],n[l]=sa(r),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&O.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[$f]=this[$f]={accessors:{}}).accessors,r=this.prototype;function i(o){const l=Vr(o);s[l]||(dN(r,o),s[l]=!0)}return O.isArray(t)?t.forEach(i):i(t),this}}Nl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Nl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});O.freezeMethods(Nl);const Yt=Nl;function ac(e,t){const n=this||qu,s=t||n,r=Yt.from(s.headers);let i=s.data;return O.forEach(e,function(l){i=l.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function mx(e){return!!(e&&e.__CANCEL__)}function Rr(e,t,n){ee.call(this,e??"canceled",ee.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Rr,ee,{__CANCEL__:!0});function px(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ee("Request failed with status code "+n.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function uN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hN(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),n[r]=c,s[r]=d;let h=i,f=0;for(;h!==r;)f+=n[h++],h=h%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),d-o<t)return;const g=u&&d-u;return g?Math.round(f*1e3/g):void 0}}function fN(e,t){let n=0,s=1e3/t,r,i;const o=(d,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=s?o(d,u):(r=d,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const za=(e,t,n=3)=>{let s=0;const r=hN(50,250);return fN(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=r(c),u=o<=l;s=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},zf=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Bf=e=>(...t)=>O.asap(()=>e(...t)),mN=tt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,tt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,pN=tt.hasStandardBrowserEnv?{write(e,t,n,s,r,i){const o=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(s)&&o.push("path="+s),O.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gx(e,t,n){let s=!gN(t);return e&&(s||n==!1)?xN(e,t):t}const Vf=e=>e instanceof Yt?{...e}:e;function Ls(e,t){t=t||{};const n={};function s(d,u,h,f){return O.isPlainObject(d)&&O.isPlainObject(u)?O.merge.call({caseless:f},d,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function r(d,u,h,f){if(O.isUndefined(u)){if(!O.isUndefined(d))return s(void 0,d,h,f)}else return s(d,u,h,f)}function i(d,u){if(!O.isUndefined(u))return s(void 0,u)}function o(d,u){if(O.isUndefined(u)){if(!O.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,h){if(h in t)return s(d,u);if(h in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>r(Vf(d),Vf(u),h,!0)};return O.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||r,f=h(e[u],t[u],u);O.isUndefined(f)&&h!==l||(n[u]=f)}),n}const xx=e=>{const t=Ls({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Yt.from(o),t.url=ux(gx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(O.isFormData(n)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(tt.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(t)),s||s!==!1&&mN(t.url))){const d=r&&i&&pN.read(i);d&&o.set(r,d)}return t},yN=typeof XMLHttpRequest<"u",vN=yN&&function(e){return new Promise(function(n,s){const r=xx(e);let i=r.data;const o=Yt.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=r,u,h,f,g,x;function p(){g&&g(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function y(){if(!b)return;const w=Yt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:e,request:b};px(function(C){n(C),p()},function(C){s(C),p()},S),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(s(new ee("Request aborted",ee.ECONNABORTED,e,b)),b=null)},b.onerror=function(){s(new ee("Network Error",ee.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||hx;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),s(new ee(j,S.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&O.forEach(o.toJSON(),function(j,S){b.setRequestHeader(S,j)}),O.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),l&&l!=="json"&&(b.responseType=r.responseType),d&&([f,x]=za(d,!0),b.addEventListener("progress",f)),c&&b.upload&&([h,g]=za(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(u=w=>{b&&(s(!w||w.type?new Rr(null,e,b):w),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const v=uN(r.url);if(v&&tt.protocols.indexOf(v)===-1){s(new ee("Unsupported protocol "+v+":",ee.ERR_BAD_REQUEST,e));return}b.send(i||null)})},bN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const i=function(d){if(!r){r=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof ee?u:new Rr(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ee(`timeout ${t} of ms exceeded`,ee.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>O.asap(l),c}},wN=bN,jN=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},NN=async function*(e,t){for await(const n of kN(e))yield*jN(n,t)},kN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Uf=(e,t,n,s)=>{const r=NN(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},kl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yx=kl&&typeof ReadableStream=="function",SN=kl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_N=yx&&vx(()=>{let e=!1;const t=new Request(tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Hf=64*1024,Cd=yx&&vx(()=>O.isReadableStream(new Response("").body)),Ba={stream:Cd&&(e=>e.body)};kl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ba[t]&&(Ba[t]=O.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new ee(`Response type '${t}' is not supported`,ee.ERR_NOT_SUPPORT,s)})})})(new Response);const CN=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request(tt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await SN(e)).byteLength},EN=async(e,t)=>{const n=O.toFiniteNumber(e.getContentLength());return n??CN(t)},MN=kl&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=xx(e);d=d?(d+"").toLowerCase():"text";let g=wN([r,i&&i.toAbortSignal()],o),x;const p=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(c&&_N&&n!=="get"&&n!=="head"&&(b=await EN(u,s))!==0){let S=new Request(t,{method:"POST",body:s,duplex:"half"}),N;if(O.isFormData(s)&&(N=S.headers.get("content-type"))&&u.setContentType(N),S.body){const[C,_]=zf(b,za(Bf(c)));s=Uf(S.body,Hf,C,_)}}O.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;x=new Request(t,{...f,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:y?h:void 0});let v=await fetch(x,f);const w=Cd&&(d==="stream"||d==="response");if(Cd&&(l||w&&p)){const S={};["status","statusText","headers"].forEach(R=>{S[R]=v[R]});const N=O.toFiniteNumber(v.headers.get("content-length")),[C,_]=l&&zf(N,za(Bf(l),!0))||[];v=new Response(Uf(v.body,Hf,C,()=>{_&&_(),p&&p()}),S)}d=d||"text";let j=await Ba[O.findKey(Ba,d)||"text"](v,e);return!w&&p&&p(),await new Promise((S,N)=>{px(S,N,{data:j,headers:Yt.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:x})})}catch(y){throw p&&p(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,e,x),{cause:y.cause||y}):ee.from(y,y&&y.code,e,x)}}),Ed={http:Vj,xhr:vN,fetch:MN};O.forEach(Ed,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Wf=e=>`- ${e}`,TN=e=>O.isFunction(e)||e===null||e===!1,bx={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){n=e[i];let o;if(s=n,!TN(n)&&(s=Ed[(o=String(n)).toLowerCase()],s===void 0))throw new ee(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Wf).join(`
`):" "+Wf(i[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Ed};function lc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rr(null,e)}function qf(e){return lc(e),e.headers=Yt.from(e.headers),e.data=ac.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bx.getAdapter(e.adapter||qu.adapter)(e).then(function(s){return lc(e),s.data=ac.call(e,e.transformResponse,s),s.headers=Yt.from(s.headers),s},function(s){return mx(s)||(lc(e),s&&s.response&&(s.response.data=ac.call(e,e.transformResponse,s.response),s.response.headers=Yt.from(s.response.headers))),Promise.reject(s)})}const wx="1.11.0",Sl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Sl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Kf={};Sl.transitional=function(t,n,s){function r(i,o){return"[Axios v"+wx+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new ee(r(o," has been removed"+(n?" in "+n:"")),ee.ERR_DEPRECATED);return n&&!Kf[o]&&(Kf[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Sl.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function PN(e,t,n){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ee("option "+i+" must be "+c,ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const ra={assertOptions:PN,validators:Sl},Jt=ra.validators;class Va{constructor(t){this.defaults=t||{},this.interceptors={request:new Ff,response:new Ff}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ls(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&ra.assertOptions(s,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),r!=null&&(O.isFunction(r)?n.paramsSerializer={serialize:r}:ra.assertOptions(r,{encode:Jt.function,serialize:Jt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ra.assertOptions(n,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Yt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,f;if(!c){const x=[qf.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(n);h<f;)u=u.then(x[h++],x[h++]);return u}f=l.length;let g=n;for(h=0;h<f;){const x=l[h++],p=l[h++];try{g=x(g)}catch(b){p.call(this,b);break}}try{u=qf.call(this,g)}catch(x){return Promise.reject(x)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Ls(this.defaults,t);const n=gx(t.baseURL,t.url,t.allowAbsoluteUrls);return ux(n,t.params,t.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(t){Va.prototype[t]=function(n,s){return this.request(Ls(s||{},{method:t,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(s){return function(i,o,l){return this.request(Ls(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Va.prototype[t]=n(),Va.prototype[t+"Form"]=n(!0)});const ia=Va;class Ku{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Rr(i,o,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ku(function(r){t=r}),cancel:t}}}const DN=Ku;function RN(e){return function(n){return e.apply(null,n)}}function LN(e){return O.isObject(e)&&e.isAxiosError===!0}const Md={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Md).forEach(([e,t])=>{Md[t]=e});const AN=Md;function jx(e){const t=new ia(e),n=J0(ia.prototype.request,t);return O.extend(n,ia.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return jx(Ls(e,r))},n}const Fe=jx(qu);Fe.Axios=ia;Fe.CanceledError=Rr;Fe.CancelToken=DN;Fe.isCancel=mx;Fe.VERSION=wx;Fe.toFormData=jl;Fe.AxiosError=ee;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=RN;Fe.isAxiosError=LN;Fe.mergeConfig=Ls;Fe.AxiosHeaders=Yt;Fe.formToJSON=e=>fx(O.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=bx.getAdapter;Fe.HttpStatusCode=AN;Fe.default=Fe;const ON=Fe,IN="http://localhost:8080/api",le=ON.create({baseURL:IN,headers:{"Content-Type":"application/json"}}),Sr=async()=>(await le.get("/products")).data,FN=async e=>(await le.get(`/products/${e}`)).data,$N=async e=>(await le.post("/products",e)).data,zN=async(e,t)=>(await le.put(`/products/${e}`,t)).data,Qf=async e=>(await le.delete(`/products/${e}`)).data,Ii=async()=>(await le.get("/sales")).data,Nx=async e=>(await le.post("/sales",e)).data,_l=async()=>(await le.get("/customers")).data,BN=async e=>(await le.get(`/customers/${e}`)).data,kx=async e=>(await le.post("/customers",e)).data,VN=async(e,t)=>(await le.put(`/customers/${e}`,t)).data,UN=async e=>(await le.delete(`/customers/${e}`)).data,Sx=async()=>(await le.get("/suppliers")).data,HN=async e=>(await le.get(`/suppliers/${e}`)).data,WN=async e=>(await le.post("/suppliers",e)).data,qN=async(e,t)=>(await le.put(`/suppliers/${e}`,t)).data,KN=async e=>(await le.delete(`/suppliers/${e}`)).data,QN=async()=>(await le.get("/quotes")).data,YN=async e=>(await le.get(`/quotes/${e}`)).data,XN=async e=>(await le.post("/quotes",e)).data,ZN=async e=>(await le.delete(`/quotes/${e}`)).data,_x=async e=>(await le.post(`/quotes/${e}/convert`)).data,GN=async()=>(await le.get("/dashboard")).data,Yf=async(e={})=>(await le.get("/reports",{params:e})).data,Xf=async()=>(await le.get("/expenses")).data,JN=async e=>(await le.get(`/expenses/${e}`)).data,e5=async e=>(await le.post("/expenses",e)).data,t5=async(e,t)=>(await le.put(`/expenses/${e}`,t)).data,n5=async e=>(await le.delete(`/expenses/${e}`)).data,Td=async()=>(await le.get("/services")).data,s5=async e=>(await le.get(`/services/${e}`)).data,r5=async e=>(await le.post("/services",e)).data,i5=async(e,t)=>(await le.put(`/services/${e}`,t)).data,Cx=async e=>(await le.delete(`/services/${e}`)).data,o5=()=>{const[e,t]=m.useState({totalProducts:0,totalSales:0,revenue:0,lowStockProducts:0,recentSales:[],lowStockItems:[],topProducts:[]}),[n,s]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const i=await GN();t(i)}catch(i){console.error("Error loading dashboard data:",i)}finally{s(!1)}})()},[]),n?a.jsx("div",{className:"flex justify-center items-center h-full",children:"Carregando..."}):a.jsxs("div",{children:[a.jsx(G0,{title:"Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(bo,{title:"Total de Produtos",value:e.totalProducts,icon:d2,color:"blue"}),a.jsx(bo,{title:"Vendas",value:e.totalSales,icon:yl,color:"green"}),a.jsx(bo,{title:"Faturamento",value:q(e.revenue),icon:f2,color:"yellow"}),a.jsx(bo,{title:"Estoque Baixo/Esgotado",value:e.lowStockProducts,icon:y2,color:"red"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(on,{title:"Vendas Recentes",children:[e.recentSales.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Produto"}),a.jsx("th",{className:"table-header",children:"Qtd"}),a.jsx("th",{className:"table-header",children:"Valor"}),a.jsx("th",{className:"table-header",children:"Data"})]})}),a.jsx("tbody",{children:e.recentSales.map(r=>a.jsxs("tr",{children:[a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.productName}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.quantity}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:q(r.total)}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:new Date(r.date).toLocaleDateString()})]},r.id))})]})}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma venda recente"}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(Ee,{to:"/sales",className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Ver todas as vendas →"})})]}),a.jsxs(on,{title:"Produtos com Estoque Baixo",children:[e.lowStockItems.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Produto"}),a.jsx("th",{className:"table-header",children:"Estoque"}),a.jsx("th",{className:"table-header",children:"Status"})]})}),a.jsx("tbody",{children:e.lowStockItems.map(r=>a.jsxs("tr",{children:[a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.name}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.stock}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:a.jsx("span",{className:`badge ${r.stock===0?"badge-danger":"badge-warning"}`,children:r.stock===0?"Esgotado":"Estoque Baixo"})})]},r.id))})]})}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhum produto com estoque baixo"}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(Ee,{to:"/inventory",className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Ver estoque completo →"})})]})]}),a.jsxs(on,{title:"Produtos Mais Vendidos",children:[e.topProducts.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"table-header",children:"Produto"}),a.jsx("th",{className:"table-header",children:"Marca"}),a.jsx("th",{className:"table-header",children:"Qtd. Vendida"}),a.jsx("th",{className:"table-header",children:"Faturamento"})]})}),a.jsx("tbody",{children:e.topProducts.map(r=>a.jsxs("tr",{children:[a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.name}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.brand}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:r.totalSold}),a.jsx("td",{className:"table-cell text-black-600 hover:text-black-800 text-sm font-medium",children:q(r.totalRevenue)})]},r.id))})]})}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma venda registrada"}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(Ee,{to:"/reports",className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Ver relatórios completos →"})})]})]})},a5="modulepreload",l5=function(e){return"/"+e},Zf={},wo=function(t,n,s){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=l5(i),i in Zf)return;Zf[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":a5,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function Ex(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ex(e[t]))&&(s&&(s+=" "),s+=n);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function In(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=Ex(e))&&(s&&(s+=" "),s+=t);return s}const ui=e=>typeof e=="number"&&!isNaN(e),As=e=>typeof e=="string",mt=e=>typeof e=="function",oa=e=>As(e)||mt(e)?e:null,cc=e=>m.isValidElement(e)||As(e)||mt(e)||ui(e);function c5(e,t,n){n===void 0&&(n=300);const{scrollHeight:s,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=s+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}function Cl(e){let{enter:t,exit:n,appendPosition:s=!1,collapse:r=!0,collapseDuration:i=300}=e;return function(o){let{children:l,position:c,preventExitTransition:d,done:u,nodeRef:h,isIn:f}=o;const g=s?`${t}--${c}`:t,x=s?`${n}--${c}`:n,p=m.useRef(0);return m.useLayoutEffect(()=>{const b=h.current,y=g.split(" "),v=w=>{w.target===h.current&&(b.dispatchEvent(new Event("d")),b.removeEventListener("animationend",v),b.removeEventListener("animationcancel",v),p.current===0&&w.type!=="animationcancel"&&b.classList.remove(...y))};b.classList.add(...y),b.addEventListener("animationend",v),b.addEventListener("animationcancel",v)},[]),m.useEffect(()=>{const b=h.current,y=()=>{b.removeEventListener("animationend",y),r?c5(b,u,i):u()};f||(d?y():(p.current=1,b.className+=` ${x}`,b.addEventListener("animationend",y)))},[f]),ae.createElement(ae.Fragment,null,l)}}function Gf(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Pt={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(s=>s!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},jo=e=>{let{theme:t,type:n,...s}=e;return ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},dc={info:function(e){return ae.createElement(jo,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ae.createElement(jo,{...e},ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ae.createElement(jo,{...e},ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ae.createElement(jo,{...e},ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ae.createElement("div",{className:"Toastify__spinner"})}};function d5(e){const[,t]=m.useReducer(g=>g+1,0),[n,s]=m.useState([]),r=m.useRef(null),i=m.useRef(new Map).current,o=g=>n.indexOf(g)!==-1,l=m.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:g=>i.get(g)}).current;function c(g){let{containerId:x}=g;const{limit:p}=l.props;!p||x&&l.containerId!==x||(l.count-=l.queue.length,l.queue=[])}function d(g){s(x=>g==null?[]:x.filter(p=>p!==g))}function u(){const{toastContent:g,toastProps:x,staleId:p}=l.queue.shift();f(g,x,p)}function h(g,x){let{delay:p,staleId:b,...y}=x;if(!cc(g)||function(P){return!r.current||l.props.enableMultiContainer&&P.containerId!==l.props.containerId||i.has(P.toastId)&&P.updateId==null}(y))return;const{toastId:v,updateId:w,data:j}=y,{props:S}=l,N=()=>d(v),C=w==null;C&&l.count++;const _={...S,style:S.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(y).filter(P=>{let[I,z]=P;return z!=null})),toastId:v,updateId:w,data:j,closeToast:N,isIn:!1,className:oa(y.className||S.toastClassName),bodyClassName:oa(y.bodyClassName||S.bodyClassName),progressClassName:oa(y.progressClassName||S.progressClassName),autoClose:!y.isLoading&&(R=y.autoClose,T=S.autoClose,R===!1||ui(R)&&R>0?R:T),deleteToast(){const P=Gf(i.get(v),"removed");i.delete(v),Pt.emit(4,P);const I=l.queue.length;if(l.count=v==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),I>0){const z=v==null?l.props.limit:1;if(I===1||z===1)l.displayedToast++,u();else{const D=z>I?I:z;l.displayedToast=D;for(let B=0;B<D;B++)u()}}else t()}};var R,T;_.iconOut=function(P){let{theme:I,type:z,isLoading:D,icon:B}=P,K=null;const M={theme:I,type:z};return B===!1||(mt(B)?K=B(M):m.isValidElement(B)?K=m.cloneElement(B,M):As(B)||ui(B)?K=B:D?K=dc.spinner():(E=>E in dc)(z)&&(K=dc[z](M))),K}(_),mt(y.onOpen)&&(_.onOpen=y.onOpen),mt(y.onClose)&&(_.onClose=y.onClose),_.closeButton=S.closeButton,y.closeButton===!1||cc(y.closeButton)?_.closeButton=y.closeButton:y.closeButton===!0&&(_.closeButton=!cc(S.closeButton)||S.closeButton);let k=g;m.isValidElement(g)&&!As(g.type)?k=m.cloneElement(g,{closeToast:N,toastProps:_,data:j}):mt(g)&&(k=g({closeToast:N,toastProps:_,data:j})),S.limit&&S.limit>0&&l.count>S.limit&&C?l.queue.push({toastContent:k,toastProps:_,staleId:b}):ui(p)?setTimeout(()=>{f(k,_,b)},p):f(k,_,b)}function f(g,x,p){const{toastId:b}=x;p&&i.delete(p);const y={content:g,props:x};i.set(b,y),s(v=>[...v,b].filter(w=>w!==p)),Pt.emit(4,Gf(y,y.props.updateId==null?"added":"updated"))}return m.useEffect(()=>(l.containerId=e.containerId,Pt.cancelEmit(3).on(0,h).on(1,g=>r.current&&d(g)).on(5,c).emit(2,l),()=>{i.clear(),Pt.emit(3,l)}),[]),m.useEffect(()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(g){const x=new Map,p=Array.from(i.values());return e.newestOnTop&&p.reverse(),p.forEach(b=>{const{position:y}=b.props;x.has(y)||x.set(y,[]),x.get(y).push(b)}),Array.from(x,b=>g(b[0],b[1]))},containerRef:r,isToastActive:o}}function Jf(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function em(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function u5(e){const[t,n]=m.useState(!1),[s,r]=m.useState(!1),i=m.useRef(null),o=m.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=m.useRef(e),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:h,closeOnClick:f}=e;function g(j){if(e.draggable){j.nativeEvent.type==="touchstart"&&j.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const S=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=S.getBoundingClientRect(),S.style.transition="",o.x=Jf(j.nativeEvent),o.y=em(j.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=S.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=S.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function x(j){if(o.boundingRect){const{top:S,bottom:N,left:C,right:_}=o.boundingRect;j.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=C&&o.x<=_&&o.y>=S&&o.y<=N?b():p()}}function p(){n(!0)}function b(){n(!1)}function y(j){const S=i.current;o.canDrag&&S&&(o.didMove=!0,t&&b(),o.x=Jf(j),o.y=em(j),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),S.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,S.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const j=i.current;if(o.canDrag&&o.didMove&&j){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),void e.closeToast();j.style.transition="transform 0.2s, opacity 0.2s",j.style.transform=`translate${e.draggableDirection}(0)`,j.style.opacity="1"}}m.useEffect(()=>{l.current=e}),m.useEffect(()=>(i.current&&i.current.addEventListener("d",p,{once:!0}),mt(e.onOpen)&&e.onOpen(m.isValidElement(e.children)&&e.children.props),()=>{const j=l.current;mt(j.onClose)&&j.onClose(m.isValidElement(j.children)&&j.children.props)}),[]),m.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",p),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",p),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);const w={onMouseDown:g,onTouchStart:g,onMouseUp:x,onTouchEnd:x};return c&&d&&(w.onMouseEnter=b,w.onMouseLeave=p),f&&(w.onClick=j=>{h&&h(j),o.canCloseOnClick&&u()}),{playToast:p,pauseToast:b,isRunning:t,preventExitTransition:s,toastRef:i,eventHandlers:w}}function Mx(e){let{closeToast:t,theme:n,ariaLabel:s="close"}=e;return ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),t(r)},"aria-label":s},ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function h5(e){let{delay:t,isRunning:n,closeToast:s,type:r="default",hide:i,className:o,style:l,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:f}=e;const g=i||c&&d===0,x={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};c&&(x.transform=`scaleX(${d})`);const p=In("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),b=mt(o)?o({rtl:u,type:r,defaultClassName:p}):In(p,o);return ae.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:b,style:x,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&s()}})}const f5=e=>{const{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:r}=u5(e),{closeButton:i,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:h,transition:f,position:g,className:x,style:p,bodyClassName:b,bodyStyle:y,progressClassName:v,progressStyle:w,updateId:j,role:S,progress:N,rtl:C,toastId:_,deleteToast:R,isIn:T,isLoading:k,iconOut:P,closeOnClick:I,theme:z}=e,D=In("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":I}),B=mt(x)?x({rtl:C,position:g,type:d,defaultClassName:D}):In(D,x),K=!!N||!l,M={closeToast:h,type:d,theme:z};let E=null;return i===!1||(E=mt(i)?i(M):m.isValidElement(i)?m.cloneElement(i,M):Mx(M)),ae.createElement(f,{isIn:T,done:R,position:g,preventExitTransition:n,nodeRef:s},ae.createElement("div",{id:_,onClick:c,className:B,...r,style:p,ref:s},ae.createElement("div",{...T&&{role:S},className:mt(b)?b({type:d}):In("Toastify__toast-body",b),style:y},P!=null&&ae.createElement("div",{className:In("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},P),ae.createElement("div",null,o)),E,ae.createElement(h5,{...j&&!K?{key:`pb-${j}`}:{},rtl:C,theme:z,delay:l,isRunning:t,isIn:T,closeToast:h,hide:u,type:d,style:w,className:v,controlledProgress:K,progress:N||0})))},El=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},m5=Cl(El("bounce",!0));Cl(El("slide",!0));Cl(El("zoom"));Cl(El("flip"));const Pd=m.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:s,isToastActive:r}=d5(e),{className:i,style:o,rtl:l,containerId:c}=e;function d(u){const h=In("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":l});return mt(i)?i({position:u,rtl:l,defaultClassName:h}):In(h,oa(i))}return m.useEffect(()=>{t&&(t.current=s.current)},[]),ae.createElement("div",{ref:s,className:"Toastify",id:c},n((u,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return ae.createElement("div",{className:d(u),style:f,key:`container-${u}`},h.map((g,x)=>{let{content:p,props:b}=g;return ae.createElement(f5,{...b,isIn:r(b.toastId),style:{...b.style,"--nth":x+1,"--len":h.length},key:`toast-${b.key}`},p)}))}))});Pd.displayName="ToastContainer",Pd.defaultProps={position:"top-right",transition:m5,autoClose:5e3,closeButton:Mx,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let uc,ys=new Map,Gr=[],p5=1;function Tx(){return""+p5++}function g5(e){return e&&(As(e.toastId)||ui(e.toastId))?e.toastId:Tx()}function hi(e,t){return ys.size>0?Pt.emit(0,e,t):Gr.push({content:e,options:t}),t.toastId}function Ua(e,t){return{...t,type:t&&t.type||e,toastId:g5(t)}}function No(e){return(t,n)=>hi(t,Ua(e,n))}function $(e,t){return hi(e,Ua("default",t))}$.loading=(e,t)=>hi(e,Ua("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),$.promise=function(e,t,n){let s,{pending:r,error:i,success:o}=t;r&&(s=As(r)?$.loading(r,n):$.loading(r.render,{...n,...r}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,h,f)=>{if(h==null)return void $.dismiss(s);const g={type:u,...l,...n,data:f},x=As(h)?{render:h}:h;return s?$.update(s,{...g,...x}):$(x.render,{...g,...x}),f},d=mt(e)?e():e;return d.then(u=>c("success",o,u)).catch(u=>c("error",i,u)),d},$.success=No("success"),$.info=No("info"),$.error=No("error"),$.warning=No("warning"),$.warn=$.warning,$.dark=(e,t)=>hi(e,Ua("default",{theme:"dark",...t})),$.dismiss=e=>{ys.size>0?Pt.emit(1,e):Gr=Gr.filter(t=>e!=null&&t.options.toastId!==e)},$.clearWaitingQueue=function(e){return e===void 0&&(e={}),Pt.emit(5,e)},$.isActive=e=>{let t=!1;return ys.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},$.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(s,r){let{containerId:i}=r;const o=ys.get(i||uc);return o&&o.getToast(s)}(e,t);if(n){const{props:s,content:r}=n,i={delay:100,...s,...t,toastId:t.toastId||e,updateId:Tx()};i.toastId!==e&&(i.staleId=e);const o=i.render||r;delete i.render,hi(o,i)}},0)},$.done=e=>{$.update(e,{progress:1})},$.onChange=e=>(Pt.on(4,e),()=>{Pt.off(4,e)}),$.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},$.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Pt.on(2,e=>{uc=e.containerId||e,ys.set(uc,e),Gr.forEach(t=>{Pt.emit(0,t.content,t.options)}),Gr=[]}).on(3,e=>{ys.delete(e.containerId||e),ys.size===0&&Pt.off(0).off(1).off(5)});function x5(e,t=400){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const y5=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]});function v5({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const b5=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState(""),o=x5(r,350),[l,c]=as(),[d,u]=m.useState("todos"),h=Number(l.get("page"))||1,f=Number(l.get("pageSize"))||10,[g,x]=m.useState(h),[p,b]=m.useState(f),[y,v]=m.useState(()=>new Set),w=m.useRef(null),j=m.useRef(null);m.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const U=await Sr();t(U)}catch(U){console.error("Error loading products:",U),$.error("Erro ao carregar produtos")}finally{s(!1)}},N=async U=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await Qf(U),t(X=>X.filter(J=>J.id!==U)),v(X=>{const J=new Set(X);return J.delete(U),J}),$.success("Produto excluído com sucesso")}catch(X){console.error("Error deleting product:",X),$.error("Erro ao excluir produto")}},C=["code","name","brand","compatible_model","stock","lowStock","price"],_={code:"Código",name:"Nome",brand:"Marca",compatible_model:"Modelo Compatível",stock:"Estoque",lowStock:"Alerta",price:"Preço"},R=U=>{const X=U==null?"":String(U);return/[",\n;\t]/.test(X)?`"${X.replace(/"/g,'""')}"`:X},T=U=>{const X=C.map(ne=>R(_[ne]||ne)).join(","),J=U.map(ne=>C.map(ye=>{let te=ne[ye];return ye==="price"&&(te=Number(te??0).toFixed(2)),R(te??"")}).join(",")).join(`
`);return`${X}
${J}`},k=U=>{const X=[];let J="",ne=[],ye=!1;for(let re=0;re<U.length;re++){const Ae=U[re],je=U[re+1];ye?Ae==='"'&&je==='"'?(J+='"',re++):Ae==='"'?ye=!1:J+=Ae:Ae==='"'?ye=!0:Ae===","?(ne.push(J),J=""):Ae===`
`?(ne.push(J),X.push(ne),ne=[],J=""):Ae==="\r"||(J+=Ae)}if((J.length||ne.length)&&(ne.push(J),X.push(ne)),!X.length)return[];const te=X[0].map(re=>re.trim().toLowerCase()),Se=re=>{const Ae=[_[re],re].filter(Boolean).map(je=>String(je).trim().toLowerCase());for(const je of Ae){const ls=te.indexOf(je);if(ls>=0)return ls}return-1};return X.slice(1).filter(re=>re.some(Ae=>Ae&&String(Ae).trim()!=="")).map(re=>({code:re[Se("code")]??"",name:re[Se("name")]??"",brand:re[Se("brand")]??"",compatible_model:re[Se("compatible_model")]??re[Se("modelo compatível")]??"",stock:Number(re[Se("stock")]??0)||0,lowStock:Number(re[Se("lowStock")]??re[Se("alerta")]??0)||0,price:Number(String(re[Se("price")]??0).replace(",","."))||0}))},P=(U,X)=>{const J=URL.createObjectURL(U),ne=document.createElement("a");ne.href=J,ne.download=X,document.body.appendChild(ne),ne.click(),ne.remove(),URL.revokeObjectURL(J)},I=async()=>{const U=Array.from(y);if(U.length&&window.confirm(`Excluir ${U.length} produto(s) selecionado(s)?`))try{s(!0);const X=await Promise.allSettled(U.map(ye=>Qf(ye))),J=X.filter(ye=>ye.status==="fulfilled").length,ne=X.length-J;t(ye=>ye.filter(te=>!y.has(te.id))),v(new Set),$.success(`Excluídos: ${J}${ne?` · Falharam: ${ne}`:""}`)}catch(X){console.error(X),$.error("Erro ao excluir em lote")}finally{s(!1)}},z=async()=>{const U=(y.size?H.filter(X=>y.has(X.id)):H).map(X=>({code:X.code??"",name:X.name??"",brand:X.brand??"",compatible_model:X.compatible_model??"",stock:Number(X.stock??0),lowStock:Number(X.lowStock??0),price:Number(X.price??0)}));if(!U.length)return $.info("Nada para exportar nesta página.");try{const X=(await wo(()=>import("./xlsx-6ed613d4.js"),[])).default||await wo(()=>import("./xlsx-6ed613d4.js"),[]),J=X.utils.json_to_sheet(U,{header:C});X.utils.sheet_add_aoa(J,[C.map(te=>_[te])],{origin:"A1"});const ne=X.utils.book_new();X.utils.book_append_sheet(ne,J,"Produtos");const ye=`produtos-${new Date().toISOString().slice(0,10)}.xlsx`;X.writeFile(ne,ye),$.success(`Exportado ${U.length} registro(s) em Excel.`)}catch{const J=T(U),ne=new Blob([J],{type:"text/csv;charset=utf-8"}),ye=`produtos-${new Date().toISOString().slice(0,10)}.csv`;P(ne,ye),$.success(`Exportado ${U.length} registro(s) em CSV.`)}},D=()=>{var U;return(U=j.current)==null?void 0:U.click()},B=async U=>{var J;const X=(J=U.target.files)==null?void 0:J[0];if(X)try{let ne=[];if(/\.(xlsx|xls)$/i.test(X.name)){const ye=await X.arrayBuffer(),te=(await wo(()=>import("./xlsx-6ed613d4.js"),[])).default||await wo(()=>import("./xlsx-6ed613d4.js"),[]),Se=te.read(ye,{type:"array"}),re=Se.SheetNames[0];ne=te.utils.sheet_to_json(Se.Sheets[re],{defval:""}).map(je=>({code:je.Código??je.code??"",name:je.Nome??je.name??"",brand:je.Marca??je.brand??"",compatible_model:je["Modelo Compatível"]??je.compatible_model??"",stock:Number(je.Estoque??je.stock??0)||0,lowStock:Number(je.Alerta??je.lowStock??0)||0,price:Number(String(je.Preço??je.price??0).toString().replace(",","."))||0}))}else{const ye=await X.text();ne=k(ye)}$.success(`Lidos ${ne.length} registro(s) do arquivo.`),U.target.value=""}catch(ne){console.error(ne),$.error("Falha ao importar. Envie um CSV ou Excel válido.")}},K=U=>Number.isFinite(U==null?void 0:U.lowStock)?Number(U.lowStock):5,M=m.useMemo(()=>{const U=o.trim().toLowerCase();let X=e;d==="low"&&(X=X.filter(te=>Number(te.stock)<=K(te)));const J=U?X.filter(te=>[te.name,te.brand,te.compatible_model,te.code].filter(Boolean).some(re=>String(re).toLowerCase().includes(U))):X,ne=new Map;e.forEach((te,Se)=>ne.set(te.id,Se));const ye=te=>{const Se=(te==null?void 0:te.createdAt)??(te==null?void 0:te.created_at)??null;if(Se){const re=new Date(Se).getTime();if(Number.isFinite(re))return re}if(typeof(te==null?void 0:te.id)=="string"&&/^[a-f0-9]{24}$/i.test(te.id)){const re=parseInt(te.id.slice(0,8),16)*1e3;if(Number.isFinite(re))return re}return Number.NEGATIVE_INFINITY};return[...J].sort((te,Se)=>{const re=ye(Se),Ae=ye(te);if(re!==Ae)return re-Ae;const je=ne.get(Se.id)??-1,ls=ne.get(te.id)??-1;return je-ls})},[e,o,d]);m.useEffect(()=>{x(1)},[o,p,d]),m.useEffect(()=>{const U=new URLSearchParams(l);U.set("page",String(g)),U.set("pageSize",String(p)),r?U.set("q",r):U.delete("q"),c(U,{replace:!0})},[g,p,r,l,c]);const E=M.length,F=Math.max(1,Math.ceil(E/p)),W=Math.min(Math.max(1,g),F),L=(W-1)*p,Y=Math.min(L+p,E),H=M.slice(L,Y),oe=H.length>0&&H.every(U=>y.has(U.id)),me=H.some(U=>y.has(U.id));m.useEffect(()=>{w.current&&(w.current.indeterminate=!oe&&me)},[oe,me,H]);const zt=U=>{v(X=>{const J=new Set(X);return J.has(U)?J.delete(U):J.add(U),J})},Ws=()=>{v(U=>{const X=new Set(U);return oe?H.forEach(J=>X.delete(J.id)):H.forEach(J=>X.add(J.id)),X})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Produtos"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie o catálogo e monitore o nível de estoque"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("nav",{className:"-mb-px flex space-x-6",children:[{key:"todos",label:"Todos"},{key:"low",label:"Baixo estoque"}].map(U=>a.jsx("button",{onClick:()=>u(U.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${d===U.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:U.label},U.key))}),a.jsxs("div",{className:"flex items-center gap-3 py-2",children:[a.jsxs("button",{type:"button",onClick:I,disabled:y.size===0,className:`inline-flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500/30 ${y.size===0?"bg-red-400/60 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,title:y.size?`Excluir ${y.size} selecionado(s)`:"Selecione itens para excluir",children:[a.jsx(dn,{className:"h-5 w-5"}),"Delete"]}),a.jsxs("button",{type:"button",onClick:D,className:"inline-flex items-center gap-2 rounded-md bg-indigo-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/30",title:"Importar CSV/Excel (prévia local)",children:[a.jsx(Yw,{className:"h-5 w-5"}),"Importar"]}),a.jsx("input",{ref:j,type:"file",accept:".csv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.xlsx,.xls",className:"hidden",onChange:B}),a.jsxs("button",{type:"button",onClick:z,className:"inline-flex items-center gap-2 rounded-md bg-green-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500/30",title:"Exportar Excel (fallback CSV)",children:[a.jsx(Q0,{className:"h-5 w-5"}),"Exportar"]})]})]})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx(y5,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:r,onChange:U=>i(U.target.value),"aria-label":"Campo de busca de produtos"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:p,onChange:U=>b(Number(U.target.value)),children:[10,20,50,100].map(U=>a.jsx("option",{value:U,children:U},U))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/products/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Produto"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Catálogo"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Resumo dos produtos"," ",d==="low"?"com baixo estoque":"cadastrados"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total de itens"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{ref:w,type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-gray-900 focus:ring-gray-500",checked:oe,onChange:Ws,"aria-label":"Selecionar todos desta página"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Código"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Marca"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Modelo Compatível"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Estoque"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Alerta"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Preço"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:H.length>0?H.map(U=>{const X=y.has(U.id);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-gray-900 focus:ring-gray-500",checked:X,onChange:()=>zt(U.id),"aria-label":`Selecionar ${U.name||"produto"}`})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:U.code||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:U.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:U.brand}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:U.compatible_model}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx("span",{className:`${Number(U.stock)<=K(U)?"text-red-600 font-semibold":""}`,children:U.stock})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:K(U)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(U.price)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/products/view/${encodeURIComponent(U.id)}`,className:"p-1 text-gray-700 hover:text-gray-900",title:"Ver detalhes",children:a.jsx(Xi,{className:"h-5 w-5"})}),a.jsx(Ee,{to:`/products/edit/${U.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar",children:a.jsx(Vs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>N(U.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},U.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum produto encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:E>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:L+1}),"–",a.jsx("strong",{children:Y})," ","de ",a.jsx("strong",{children:E})," produtos"]}):a.jsx("span",{children:"Nenhum registro"})}),F>1&&a.jsx(v5,{currentPage:W,totalPages:F,onChange:U=>x(U),className:"justify-center",windowSize:1})]})]})};function w5(){const{id:e}=_n(),[t,n]=m.useState(null),[s,r]=m.useState(!0),[i,o]=m.useState("—");m.useEffect(()=>{(async()=>{try{r(!0);const p=await fetch(`/api/products/${encodeURIComponent(e)}`);if(!p.ok)throw new Error("Produto não encontrado");const b=await p.json();n(b)}catch(p){console.error(p),n(null)}finally{r(!1)}})()},[e]);const l=p=>{var b,y,v;return((b=p==null?void 0:p.supplier)==null?void 0:b.name)||((y=p==null?void 0:p.supplier)==null?void 0:y.fantasyName)||((v=p==null?void 0:p.supplier)==null?void 0:v.companyName)||(p==null?void 0:p.supplierName)||(p==null?void 0:p.fornecedorNome)||null};m.useEffect(()=>{(async()=>{if(!t){o("—");return}const p=l(t);if(p){o(String(p));return}const b=t.supplierId||t.fornecedorId;if(!b){o("—");return}try{const y=await fetch(`/api/suppliers/${encodeURIComponent(b)}`);if(!y.ok)throw new Error("Fornecedor não encontrado");const v=await y.json(),w=(v==null?void 0:v.name)||(v==null?void 0:v.fantasyName)||(v==null?void 0:v.companyName)||(v==null?void 0:v.razaoSocial);o(w?String(w):"—")}catch(y){console.warn("Não foi possível obter nome do fornecedor:",y),o("—")}})()},[t]);const c=m.useMemo(()=>{const p=(t==null?void 0:t.createdAt)||(t==null?void 0:t.created_at);return p?nj(p):"—"},[t]),d=m.useMemo(()=>{if(!t)return{label:"—",tone:"text-gray-500",badge:"bg-gray-100 text-gray-700"};const p=Number(t.stock??0),b=Number(Number.isFinite(t.lowStock)?t.lowStock:5);return p<=0?{label:"Esgotado",tone:"text-red-600",badge:"bg-red-50 text-red-700"}:p<=b?{label:"Baixo estoque",tone:"text-amber-600",badge:"bg-amber-50 text-amber-700"}:{label:"Em estoque",tone:"text-emerald-700",badge:"bg-emerald-50 text-emerald-700"}},[t]),u=Number((t==null?void 0:t.price)??0),h=Number((t==null?void 0:t.costPrice)??0),f=u-h,g=u?f/u*100:0,x=h?f/h*100:0;return s?a.jsx("div",{className:"p-6",children:"Carregando..."}):t?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Detalhes do Produto"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Ficha do item e status"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Ee,{to:`/products/edit/${encodeURIComponent(t.id)}`,className:"inline-flex items-center gap-2 rounded-md btn-primary px-3 py-2 text-sm font-medium text-white hover:bg-primary",title:"Editar Produto",children:[a.jsx(Vs,{className:"h-5 w-5"}),"Editar"]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.name||"—"}),a.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm",children:[a.jsxs("span",{className:"inline-flex items-center rounded-md bg-gray-100 px-2 py-0.5 text-gray-700",children:["Código: ",t.code||"—"]}),a.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-0.5 ${d.badge}`,children:d.label})]})]}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Marca"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.brand||"—"})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Modelo compatível"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.compatible_model||"—"})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:i||"—"})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cadastrado em"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:c})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Estoque e preços"}),a.jsx("p",{className:`text-sm ${d.tone}`,children:d.label})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Estoque atual"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Alerta de baixo estoque"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Preço de venda"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Custo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Lucro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Margem"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Markup"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Number(t.stock??0)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Number(Number.isFinite(t.lowStock)?t.lowStock:5)}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:q(u)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:q(h)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:q(f)}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[g.toFixed(1),"%"]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[x.toFixed(1),"%"]})]})})]})}),a.jsx("div",{className:"border-t px-6 py-4 text-sm text-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Nome do produto:"})," ",t.name||"—"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",t.brand||"—"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Modelo compatível:"})," ",t.compatible_model||"—"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Fornecedor:"})," ",i||"—"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Código:"})," ",t.code||"—"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Estoque atual:"})," ",Number(t.stock??0)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Alerta de estoque:"})," ",Number(Number.isFinite(t.lowStock)?t.lowStock:5)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Preço de venda:"})," ",q(u)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Custo:"})," ",q(h)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Lucro estimado:"})," ",q(f)]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Margem:"})," ",g.toFixed(1),"%"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Markup:"})," ",x.toFixed(1),"%"]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"text-gray-500",children:"Cadastrado em:"})," ",c]})]})})]})]}):a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"rounded-md border bg-white p-6 shadow",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Produto não encontrado"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verifique o link ou tente novamente pela lista de produtos."})]})})}const Px=({initialData:e={},onSubmit:t,onCancel:n,buttonText:s="Salvar",isSubmitting:r=!1})=>{const[i,o]=m.useState([]),[l,c]=m.useState({name:e.name??"",brand:e.brand??"",compatible_model:e.compatible_model??"",code:e.code??"",supplierId:e.supplierId??"",stock:e.stock??0,lowStock:e.lowStock??5,costPrice:e.costPrice??0,price:e.price??0});m.useEffect(()=>{(async()=>{try{const f=await Sx();o(Array.isArray(f)?f:[])}catch(f){console.error("Error loading suppliers:",f)}})()},[]);const d=f=>{const{name:g,value:x}=f.target;["stock","lowStock","price","costPrice"].includes(g)?c(p=>({...p,[g]:x===""?"":Number(x)})):c(p=>({...p,[g]:x}))},u=m.useMemo(()=>{const f=Number(l.costPrice||0),g=Number(l.price||0);return f<=0?null:(g-f)/f*100},[l.costPrice,l.price]),h=f=>{f.preventDefault();const{name:g,brand:x,compatible_model:p}=l;if(!g.trim()||!x.trim()||!p.trim())return;const b={...l,stock:Number(l.stock||0),lowStock:Number(l.lowStock||0),price:Number(l.price||0),costPrice:Number(l.costPrice||0)};t==null||t(b)};return a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"mb-1 block text-sm font-medium text-gray-700",children:"Nome do Produto *"}),a.jsx("input",{id:"name",name:"name",type:"text",autoFocus:!0,required:!0,value:l.name,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"mb-1 block text-sm font-medium text-gray-700",children:"Marca *"}),a.jsx("input",{id:"brand",name:"brand",type:"text",required:!0,value:l.brand,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"compatible_model",className:"mb-1 block text-sm font-medium text-gray-700",children:"Modelo Compatível *"}),a.jsx("input",{id:"compatible_model",name:"compatible_model",type:"text",required:!0,value:l.compatible_model,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"stock",className:"mb-1 block text-sm font-medium text-gray-700",children:"Quantidade em Estoque *"}),a.jsx("input",{id:"stock",name:"stock",type:"number",min:"0",step:"1",inputMode:"numeric",required:!0,value:l.stock,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lowStock",className:"mb-1 block text-sm font-medium text-gray-700",children:"Estoque mínimo (alerta) *"}),a.jsx("input",{id:"lowStock",name:"lowStock",type:"number",min:"0",step:"1",inputMode:"numeric",required:!0,value:l.lowStock,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",placeholder:"Ex.: 5 (avisa quando chegar a 5 ou menos)"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"costPrice",className:"mb-1 block text-sm font-medium text-gray-700",children:"Valor de Custo (R$) *"}),a.jsx("input",{id:"costPrice",name:"costPrice",type:"number",min:"0",step:"0.01",inputMode:"decimal",required:!0,value:l.costPrice,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"mb-1 block text-sm font-medium text-gray-700",children:"Preço de Venda (R$) *"}),a.jsx("input",{id:"price",name:"price",type:"number",min:"0",step:"0.01",inputMode:"decimal",required:!0,value:l.price,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5"}),Number(l.costPrice||0)>0&&Number(l.price||0)<Number(l.costPrice||0)&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Atenção: preço de venda está abaixo do custo."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"supplierId",className:"mb-1 block text-sm font-medium text-gray-700",children:"Fornecedor"}),a.jsxs("select",{id:"supplierId",name:"supplierId",value:l.supplierId,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",children:[a.jsx("option",{value:"",children:"Selecione um fornecedor"}),i.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"code",className:"mb-1 block text-sm font-medium text-gray-700",children:"Código do Produto (opcional)"}),a.jsx("input",{id:"code",name:"code",type:"text",value:l.code,onChange:d,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]})]}),(Number(l.costPrice)>0||Number(l.price)>0)&&a.jsxs("div",{className:"rounded-lg bg-blue-50 p-4",children:[a.jsx("h3",{className:"mb-2 font-medium text-blue-800",children:"Análise de Margem"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Custo"}),a.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(l.costPrice||0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Venda"}),a.jsx("p",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(l.price||0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Margem"}),a.jsx("p",{className:`font-medium ${u!=null&&u<0?"text-red-600":"text-green-600"}`,children:u==null?"—":`${u.toFixed(2)}%`})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:r?"Salvando...":s})]})]})},j5=()=>{const e=qe(),[t,n]=m.useState(!1),s=async r=>{try{n(!0),await $N(r),$.success("Produto adicionado com sucesso"),e("/products")}catch(i){console.error("Error creating product:",i),$.error("Erro ao adicionar produto")}finally{n(!1)}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Novo Produto"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre um novo item no catálogo"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Produto"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os campos abaixo e salve"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsx(Px,{onSubmit:s,onCancel:()=>e(-1),buttonText:"Adicionar Produto",isSubmitting:t})})]})]})},N5=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(null),[r,i]=m.useState(!0);m.useEffect(()=>{(async()=>{try{const c=await FN(e);s(c)}catch(c){console.error("Error loading product:",c),$.error("Erro ao carregar produto"),t("/products")}finally{i(!1)}})()},[e,t]);const o=async l=>{try{await zN(e,l),$.success("Produto atualizado com sucesso"),t("/products")}catch(c){console.error("Error updating product:",c),$.error("Erro ao atualizar produto")}};return r?a.jsx("div",{className:"text-center py-4",children:"Carregando..."}):a.jsxs("div",{children:[a.jsx(G0,{title:"Editar Produto"}),a.jsx(on,{children:n?a.jsx(Px,{initialData:n,onSubmit:o,buttonText:"Atualizar Produto"}):a.jsx("div",{className:"text-center py-4",children:"Produto não encontrado"})})]})},aa=e=>(Number(e)||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),k5=["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],S5={name:"FG FILMS",tagline:"acessórios automotivos",cnpj:"14.864.222/0001-67",phone:"(91) 98241-6768",address:"Rua 15 de Agosto, nº 552, Cruzeiro/Icoaraci — Belém-PA.",cityUF:"Belém-PA",logoUrl:"../assets/img/logo.png"};function _5(e){if(e!=null&&e.reference)return e.reference;if(Array.isArray(e==null?void 0:e.items)&&e.items.length)return e.items.map(n=>`${n.qty??n.quantity??1}x ${n.name??n.productName??""}`.trim()).filter(Boolean).join(" • ");const t=[];return e!=null&&e.productName&&t.push(e.productName),e!=null&&e.quantity&&t.push(`— ${e.quantity}x`),t.join(" ")||"Pagamento de produtos/serviços."}function C5(e){const t=Array.isArray(e==null?void 0:e.paymentMethods)?e.paymentMethods:[],n=Array.isArray(e==null?void 0:e.payments)?e.payments:[];return t.length?t:n}function E5(e=[],t=0){let n=Number(t)||0;const s=[];for(const r of e){if(n<=0)break;const i=Math.max(0,Number(r.amount)||0),o=Math.min(n,i);if(o>0){const l=r.installments&&Number(r.installments)>1?` ${r.installments}x`:"";s.push({label:`${r.method}${r.machine?` ${r.machine}`:""}${l}`,amount:Number(o.toFixed(2))}),n=Number((n-o).toFixed(2))}}return s}function M5(e){if(e!=null&&e.amountInWords)return e.amountInWords;const t=C5(e);if(t.length){const s=E5(t,e.total).map(r=>`${r.label}: ${aa(r.amount)}`).join(" | ");return`${aa(e.total)}${s?` (${s})`:""}`}return aa(e==null?void 0:e.total)}function T5(e,t={}){const n={...S5,...t},s=new Date((e==null?void 0:e.date)||Date.now()),r=String(s.getDate()).padStart(2,"0"),i=k5[s.getMonth()],o=s.getFullYear(),l=_5(e),c=M5(e);return`<!DOCTYPE html><html lang="pt-BR"><head><meta charset="utf-8"><title></title><meta name="viewport" content="width=device-width, initial-scale=1"><style>
      @page { size: A4 portrait; margin: 10mm; }
      body { margin:0; padding:0; background:#fff; -webkit-print-color-adjust:exact; print-color-adjust:exact; }

      /* altura automática para nunca estourar o quadro */
      .sheet {
        width:730px; min-height:480px; height:auto;
        margin:0 auto; padding:10px 12px; box-sizing:border-box;
        font-family:Arial, Helvetica, sans-serif; color:#000; border:1px solid #000;
        page-break-inside: avoid; break-inside: avoid; page-break-after: avoid;
      }

      .topbar { display:flex; justify-content:space-between; align-items:center; border:1px solid #000; border-radius:10px; padding:10px 14px; height:auto; min-height:78px; }
      .brand { display:flex; align-items:center; gap:10px; }

      /* LOGO maior e colada no CNPJ */
      .brand .logo { height:130px; width:auto; object-fit:contain; display:block; margin-top:-20px; }
      .brand h1 { margin:0 0 -35px 0; line-height:0; }
      .brand .cnpj { margin-top:0; }

      .brand .tag { margin-top:-2px; font-size:12px; letter-spacing:.5px; }
      .right-box { text-align:right; line-height:1.2; }
      .right-box .phone { font-size:22px; font-weight:700; }
      .right-box .addr { font-size:12px; margin-top:4px; }
      .right-box .cnpj { font-size:11px; margin-top:2px; }

      .recibo-row { display:flex; justify-content:space-between; align-items:center; margin:12px 2px 6px; }
      .recibo-title { font-size:28px; font-weight:800; letter-spacing:1px; }

      /* Caixinha do valor — sem avaria e sem o rótulo superior */
      .rs-box {
        width:150px; height:60px; border-radius:8px; position:relative; overflow:hidden; background:#fff;
      }
      .rs-box::before {
        content:""; position:absolute; inset:0; border-radius:inherit; box-shadow:0 0 0 1px #000 inset; pointer-events:none;
      }

      /* (REMOVIDO) .rs-box span.label { ... } */

      .rs-box .amount { font-size:18px; font-weight:700; text-align:center; margin-top:18px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

      .line { border:1px solid #000; border-radius:10px; padding:10px; margin:8px 2px; }
      .field { font-size:14px; margin:10px 0 6px; }

      /* Linhas padrão (1 linha) */
      .fill { border-bottom:1px solid #000; height:24px; display:flex; align-items:center; padding:0 6px; font-size:14px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }

      /* Permite múltiplas linhas quando necessário (sem cortar) */
      .fill-wrap { border-bottom:1px solid #000; display:block; padding:2px 6px; font-size:14px; line-height:1.25; white-space:normal; word-break:break-word; height:auto; min-height:24px; }

      .muted { color:#000; opacity:.9; }
      .footer { display:flex; justify-content:space-between; align-items:flex-end; margin-top:26px; }
      .assin { width:48%; text-align:center; }
      .assin .line-sign { border-top:1px solid #000; height:3px; margin-top:26px; }
      .assin .label { font-size:13px; }
      .city { width:48%; font-size:14px; text-align:right; }

      @media print {
        .sheet { page-break-inside: avoid; break-inside: avoid; page-break-after: avoid; }
      }
    </style></head><body>
      <div class="sheet">
        <div class="topbar">
          <div class="brand">
            <div>
              <h1>${n.logoUrl?`<img class="logo" src="${n.logoUrl}" alt="${n.name}" />`:'<div class="logo"></div>'}</h1>
              <div class="cnpj">CNPJ: ${n.cnpj}</div>
            </div>
          </div>
          <div class="right-box">
            <div class="phone">${n.phone}</div>
            <div class="addr">${n.address}</div>
          </div>
        </div>

        <div class="recibo-row">
          <div class="recibo-title">RECIBO</div>
          <!-- (REMOVIDO) <span class="label">R$</span> -->
          <div class="rs-box"><div class="amount">${aa(e.total)}</div></div>
        </div>

        <div class="line">
          <div class="field">RECEBI (EMOS) DE:</div>
          <div class="fill">${e.customerName||""}</div>

          <div class="field">A IMPORTÂNCIA DE:</div>
          <div class="fill-wrap">${c}</div>

          <div class="field">REFERENTE A:</div>
          <div class="fill-wrap">${l}</div>
        </div>

        <div class="footer">
          <div class="assin"><div class="line-sign"></div><div class="label">Assinatura</div></div>
          <div class="city">${n.cityUF}, ${r} de ${i} de ${o}</div>
        </div>
      </div>
      <script>
        // Título/URL vazios para não aparecerem como cabeçalhos do navegador
        document.title = "";
        try { history.replaceState(null, "", ""); } catch (e) {}

        window.addEventListener('load', function(){ window.print(); });
      <\/script>
    </body></html>`}function Qu(e,t){const n=T5(e,t),s=window.open("","_blank");if(!s)return alert("Bloqueador de pop-up ativo. Libere pop-ups para imprimir o recibo.");s.document.write(n),s.document.close()}function Yu(e=[]){const t=new Map,n=s=>(s||[]).map(r=>`${r.method}|${r.machine||""}|${Number(r.amount||0).toFixed(2)}`).join("||");for(const s of e){const r=new Date(s.date).toISOString(),i=s.saleGroupId||s.groupId||s.quoteId||`${s.customerId||""}#${r}#${n(s.paymentMethods)}`;t.has(i)||t.set(i,{id:i,date:s.date,customerId:s.customerId||null,customerName:s.customerName||"Cliente não identificado",items:[],paymentMethods:s.paymentMethods||[],total:0});const o=t.get(i);o.items.push({productId:s.productId,name:s.productName,qty:Number(s.quantity||0),unitPrice:Number(s.unitPrice||0),total:Number(s.total||0)}),o.total=Number((o.total+(s.total||0)).toFixed(2))}return Array.from(t.values()).sort((s,r)=>new Date(r.date)-new Date(s.date))}function P5(e,t=300){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}function Qs(e=new Date){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}function D5(e){return new Date(`${e}T00:00:00`)}function R5(e){return new Date(`${e}T23:59:59.999`)}function L5({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const A5=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),O5=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState("day"),[o,l]=m.useState(Qs(new Date)),[c,d]=m.useState(""),u=P5(c,300),[h,f]=as(),g=Number(h.get("page"))||1,x=Number(h.get("pageSize"))||10,p=h.get("mode")||"day",b=h.get("date")||Qs(new Date),[y,v]=m.useState(g),[w,j]=m.useState(x);m.useEffect(()=>{i(p),l(b)},[]),m.useEffect(()=>{(async()=>{try{s(!0);const M=await Ii();t(M||[])}catch(M){console.error("Error loading sales:",M)}finally{s(!1)}})()},[]),m.useEffect(()=>{const M=new Date,E=new Date(M);E.setDate(M.getDate()+1),E.setHours(0,0,0,0);const F=E.getTime()-M.getTime(),W=setTimeout(()=>{const L=Qs(new Date);l(L),(async()=>{try{const Y=await Ii();t(Y||[])}catch(Y){console.error("Error refreshing at midnight",Y)}})()},F);return()=>clearTimeout(W)},[]);const S=m.useMemo(()=>Yu(e),[e]),N=m.useMemo(()=>{let M=S;if(r==="day"){const F=D5(o),W=R5(o);M=M.filter(L=>{const Y=new Date(L.date);return Y>=F&&Y<=W})}else if(r==="month"){const F=o?new Date(`${o}T00:00:00`):new Date,W=new Date(F.getFullYear(),F.getMonth(),1,0,0,0,0),L=new Date(F.getFullYear(),F.getMonth()+1,0,23,59,59,999);M=M.filter(Y=>{const H=new Date(Y.date);return H>=W&&H<=L})}const E=u.trim().toLowerCase();return E&&(M=M.filter(F=>{const W=F.items.map(H=>H.name).join(" "),L=(F.paymentMethods||[]).map(H=>H.method).join(" ");return[W,F.customerName,L].filter(Boolean).join(" ").toLowerCase().includes(E)})),M},[S,r,o,u]);m.useEffect(()=>{v(1)},[r,o,u,w]);const C=m.useMemo(()=>N.reduce((M,E)=>M+(E.total||0),0),[N]),_=N.length,R=Math.max(1,Math.ceil(_/w)),T=Math.min(Math.max(1,y),R),k=(T-1)*w,P=Math.min(k+w,_),I=N.slice(k,P);m.useEffect(()=>{const M=new URLSearchParams(h);M.set("page",String(T)),M.set("pageSize",String(w)),M.set("mode",r),o?M.set("date",o):M.delete("date"),c?M.set("q",c):M.delete("q"),f(M,{replace:!0})},[T,w,r,o,c,h,f]);const z=()=>{const M=new Date(`${o}T00:00:00`);M.setDate(M.getDate()-1),l(Qs(M)),i("day")},D=()=>{const M=new Date(`${o}T00:00:00`);M.setDate(M.getDate()+1),l(Qs(M)),i("day")},B=()=>{l(Qs(new Date)),i("day")},K=r==="day"?new Date(`${o}T00:00:00`).toLocaleDateString():r==="month"?new Date(`${o}T00:00:00`).toLocaleDateString(void 0,{month:"long",year:"numeric"}):"Todas as vendas";return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Vendas"}),a.jsx("p",{className:"text-sm text-gray-500",children:r==="day"?"Listando as vendas do dia selecionado":r==="month"?"Vendas do mês selecionado":"Todas as vendas"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex flex-wrap items-center gap-4",children:[[{key:"day",label:"Dia"},{key:"month",label:"Mês"},{key:"all",label:"Todas"}].map(M=>a.jsx("button",{onClick:()=>i(M.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${r===M.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:M.label},M.key)),a.jsx("div",{className:"ml-auto flex items-center gap-2 pb-2",children:(r==="day"||r==="month")&&a.jsxs(a.Fragment,{children:[r==="day"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:z,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Dia anterior",children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsxs("button",{onClick:B,className:"inline-flex items-center gap-1 rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50",title:"Hoje",children:[a.jsx(Bu,{className:"h-4 w-4"}),"Hoje"]}),a.jsx("button",{onClick:D,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Próximo dia",children:a.jsx(xl,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"date",value:o,onChange:M=>l(M.target.value),className:"rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":r==="day"?"Selecionar dia":"Selecionar mês (use qualquer dia do mês)"})})]})})]})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx(A5,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{value:c,onChange:M=>d(M.target.value),placeholder:"Buscar por cliente, item ou forma de pagamento",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":"Buscar vendas"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:w,onChange:M=>j(Number(M.target.value)),children:[10,20,50,100].map(M=>a.jsx("option",{value:M,children:M},M))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/sales/new",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Nova Venda"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Vendas — ",K]}),a.jsx("p",{className:"text-sm text-gray-500",children:r==="day"?"Resumo do dia selecionado":r==="month"?"Resumo do mês selecionado":"Resumo geral"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q(C)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[_," vendas"]})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Qtd"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Preço Unitário"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Pagamento"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:I.length>0?I.map(M=>{const E=M.items.reduce((L,Y)=>L+(Y.qty||0),0),F=M.items[0],W=M.items.length>1;return a.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:new Date(M.date).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:W?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-medium",children:F.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["+ ",M.items.length-1," itens"]})]}):F.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:M.customerName}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:E}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:W?"—":q(F.unitPrice)}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:q(M.total)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:M.paymentMethods&&M.paymentMethods.length>0?a.jsx("div",{className:"text-xs leading-5 text-gray-700",children:M.paymentMethods.map((L,Y)=>a.jsxs("div",{children:[L.method,L.machine?` (${L.machine})`:"",": ",q(L.amount)]},Y))}):a.jsx("span",{className:"text-gray-500",children:"Não especificado"})}),a.jsxs("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:[a.jsx(Ee,{to:`/sales/view/${encodeURIComponent(M.id)}`,className:"p-1 text-gray-700 hover:text-gray-900 inline-flex items-center",title:"Ver detalhes",children:a.jsx(Xi,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>Qu({...M,payments:M.paymentMethods},{logoUrl:Rs}),className:"p-1 text-blue-600 hover:text-blue-800",title:"Gerar Recibo",children:a.jsx(X0,{className:"h-5 w-5"})})]})]},M.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-gray-500",children:"Nenhuma venda encontrada"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:_>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:k+1}),"–",a.jsx("strong",{children:P})," de ",a.jsx("strong",{children:_})," vendas"]}):a.jsx("span",{children:"Nenhum registro"})}),R>1&&a.jsx(L5,{currentPage:T,totalPages:R,onChange:M=>v(M),className:"justify-center",windowSize:1})]})]})},Xu=[{id:"machine_a",name:"pagBank"},{id:"machine_b",name:"MercadoPago"},{id:"machine_c",name:"Laranjinha"},{id:"machine_d",name:"Stone"}],it=["Dinheiro","PIX","Cartão de Crédito","Cartão de Débito","Transferência"],I5=()=>{const e=qe(),[t,n]=m.useState([]),[s,r]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(1),[g,x]=m.useState(0),[p,b]=m.useState(null),[y,v]=m.useState([]);m.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const[T,k]=await Promise.all([Sr(),_l()]),P=T.filter(I=>I.stock>0);n(P),r(k)}catch(T){console.error("Error loading data:",T),$.error("Erro ao carregar dados")}finally{o(!1)}};m.useEffect(()=>{if(l){const T=t.find(k=>k.id===l);b(T),j(T,h),T&&v([{id:Date.now(),method:(it==null?void 0:it[0])??"Dinheiro",amount:T.price*h,machine:""}])}else b(null),x(0),v([])},[l,t]),m.useEffect(()=>{if(p){j(p,h);const T=p.price*h;y.length===1&&v([{...y[0],amount:T}])}},[h,p]);const j=(T,k)=>{x(T?T.price*k:0)},S=()=>{const T=y.reduce((P,I)=>P+I.amount,0),k=g-T;if(k<=0){$.warning("Valor total já foi coberto pelos métodos de pagamento");return}v([...y,{id:Date.now(),method:(it==null?void 0:it[0])??"Dinheiro",amount:k,machine:""}])},N=(T,k,P)=>{v(y.map(I=>I.id===T?{...I,[k]:k==="amount"?Number(P)||0:P,...k==="method"&&P!=="Cartão de Crédito"&&P!=="Cartão de Débito"?{machine:""}:{}}:I))},C=T=>{v(y.filter(k=>k.id!==T))},_=()=>y.reduce((T,k)=>T+k.amount,0),R=async T=>{var I;if(T.preventDefault(),!l){$.error("Selecione um produto");return}if(h<=0){$.error("A quantidade deve ser maior que zero");return}if(p&&h>p.stock){$.error(`Quantidade indisponível. Estoque atual: ${p.stock}`);return}if(y.length===0){$.error("Adicione pelo menos um método de pagamento");return}const k=_();if(Math.abs(k-g)>.01){$.error("O valor total dos pagamentos deve ser igual ao valor da venda");return}if(y.filter(z=>z.method==="Cartão de Crédito"||z.method==="Cartão de Débito").some(z=>!z.machine)){$.error("Selecione a máquina para todos os pagamentos com cartão");return}try{const z=d&&((I=s.find(B=>B.id===d))==null?void 0:I.name)||"Cliente não identificado",D={productId:l,productName:p.name,quantity:Number.parseInt(h),unitPrice:p.price,total:g,customerId:d||null,customerName:z,paymentMethods:y,date:new Date().toISOString()};await Nx(D),$.success("Venda registrada com sucesso"),e("/sales")}catch(z){console.error("Error creating sale:",z),$.error("Erro ao registrar venda")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Nova Venda"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre uma nova Venda no sistema"})]}),a.jsx(on,{children:i?a.jsx("div",{className:"text-center py-4",children:"Carregando..."}):a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-700 mb-1",children:"Produto *"}),a.jsxs("select",{id:"product",value:l,onChange:T=>c(T.target.value),required:!0,className:"input-field",children:[a.jsx("option",{value:"",children:"Selecione um produto"}),t.map(T=>a.jsxs("option",{value:T.id,children:[T.name," - ",q(T.price)," (Estoque: ",T.stock,")"]},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente (opcional)"}),a.jsxs("select",{id:"customer",value:d,onChange:T=>u(T.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade *"}),a.jsx("input",{type:"number",id:"quantity",value:h,onChange:T=>f(Number.parseInt(T.target.value)||0),min:"1",max:(p==null?void 0:p.stock)||1,required:!0,className:"input-field"}),p&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Estoque disponível: ",p.stock]})]})]}),p&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Detalhes da Venda"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Produto"}),a.jsx("p",{className:"font-medium",children:p.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Preço Unitário"}),a.jsx("p",{className:"font-medium",children:q(p.price)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Quantidade"}),a.jsx("p",{className:"font-medium",children:h})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),a.jsx("p",{className:"font-medium text-lg text-blue-600",children:q(g)})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Métodos de Pagamento"}),a.jsx("button",{type:"button",onClick:S,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"Adicionar Método"})]}),a.jsx("div",{className:"space-y-3",children:y.map(T=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Método"}),a.jsx("select",{value:T.method,onChange:k=>N(T.id,"method",k.target.value),className:"input-field",children:it.map(k=>a.jsx("option",{value:k,children:k},k))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:T.amount,onChange:k=>N(T.id,"amount",k.target.value),className:"input-field"})]}),(T.method==="Cartão de Crédito"||T.method==="Cartão de Débito")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máquina"}),a.jsxs("select",{value:T.machine,onChange:k=>N(T.id,"machine",k.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Selecione a máquina"}),Xu.map(k=>a.jsx("option",{value:k.name,children:k.name},k.id))]})]})]}),y.length>1&&a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>C(T.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remover"})})]},T.id))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm",children:[a.jsx("span",{children:"Total Pago:"}),a.jsx("span",{className:_()===g?"text-green-600":"text-red-600",children:q(_())})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"btn-primary",disabled:!p||Math.abs(_()-g)>.01,children:"Registrar Venda"})})]})})]})};function F5(){const{id:e}=_n(),t=qe(),[n,s]=m.useState([]),[r,i]=m.useState(!0);m.useEffect(()=>{(async()=>{try{i(!0);const u=await Ii();s(u||[])}catch(u){console.error("Erro ao carregar vendas:",u)}finally{i(!1)}})()},[]);const o=m.useMemo(()=>Yu(n),[n]),l=m.useMemo(()=>{try{return decodeURIComponent(e||"")}catch{return e||""}},[e]),c=m.useMemo(()=>o.find(u=>u.id===l),[o,l]);if(r)return a.jsx("div",{className:"p-6",children:"Carregando..."});if(!c)return a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-gray-50",children:[a.jsx(Y0,{className:"h-4 w-4"}),"Voltar"]})}),a.jsxs("div",{className:"rounded-md border bg-white p-6 shadow",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Venda não encontrada"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verifique o link ou tente novamente pela lista de vendas."})]})]});const d=c.items.reduce((u,h)=>u+(h.qty||0),0);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-start gap-3",children:a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Detalhes da Venda"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Acompanhe as vendas e emita recibos"})]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{onClick:()=>Qu({...c,payments:c.paymentMethods},{logoUrl:Rs}),className:"inline-flex items-center gap-2 rounded-md btn-primary px-3 py-2 text-sm font-medium text-white hover:bg-primary",title:"Gerar Recibo",children:[a.jsx(X0,{className:"h-5 w-5"}),"Gerar Recibo"]})})]}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cliente"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.customerName})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Data - Hora"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(c.date).toLocaleString()})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total da venda"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:q(c.total)})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Itens vendidos"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Quantidade total: ",d]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Qtd"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Unitário"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:c.items.map((u,h)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:u.name}),a.jsx("td",{className:"px-6 py-3 text-right text-sm text-gray-900",children:u.qty}),a.jsx("td",{className:"px-6 py-3 text-right text-sm text-gray-900",children:q(u.unitPrice)}),a.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:q(u.total)})]},h))}),a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-700",colSpan:3,children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm font-semibold text-gray-900",children:q(c.total)})]})})]})})]}),a.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4 md:grid-cols-2",children:a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-2",children:"Formas de pagamento"}),c.paymentMethods&&c.paymentMethods.length>0?a.jsx("ul",{className:"text-sm text-gray-800 space-y-1",children:c.paymentMethods.map((u,h)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("span",{children:[u.method,u.machine?` (${u.machine})`:""]}),a.jsx("span",{className:"font-medium",children:q(u.amount)})]},h))}):a.jsx("p",{className:"text-sm text-gray-500",children:"Não especificado"})]})})]})}function $5({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M1.72 5.47a.75.75 0 0 1 1.06 0L9 11.69l3.756-3.756a.75.75 0 0 1 .985-.066 12.698 12.698 0 0 1 4.575 6.832l.308 1.149 2.277-3.943a.75.75 0 1 1 1.299.75l-3.182 5.51a.75.75 0 0 1-1.025.275l-5.511-3.181a.75.75 0 0 1 .75-1.3l3.943 2.277-.308-1.149a11.194 11.194 0 0 0-3.528-5.617l-3.809 3.81a.75.75 0 0 1-1.06 0L1.72 6.53a.75.75 0 0 1 0-1.061Z",clipRule:"evenodd"}))}const z5=m.forwardRef($5),B5=z5;function V5({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M15.22 6.268a.75.75 0 0 1 .968-.431l5.942 2.28a.75.75 0 0 1 .431.97l-2.28 5.94a.75.75 0 1 1-1.4-.537l1.63-4.251-1.086.484a11.2 11.2 0 0 0-5.45 5.173.75.75 0 0 1-1.199.19L9 12.312l-6.22 6.22a.75.75 0 0 1-1.06-1.061l6.75-6.75a.75.75 0 0 1 1.06 0l3.606 3.606a12.695 12.695 0 0 1 5.68-4.974l1.086-.483-4.251-1.632a.75.75 0 0 1-.432-.97Z",clipRule:"evenodd"}))}const U5=m.forwardRef(V5),H5=U5;function W5({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M12 7.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}),m.createElement("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 14.625v-9.75ZM8.25 9.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM18.75 9a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75V9.75a.75.75 0 0 0-.75-.75h-.008ZM4.5 9.75A.75.75 0 0 1 5.25 9h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H5.25a.75.75 0 0 1-.75-.75V9.75Z",clipRule:"evenodd"}),m.createElement("path",{d:"M2.25 18a.75.75 0 0 0 0 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 0 0-.75-.75H2.25Z"}))}const q5=m.forwardRef(W5),K5=q5;function Q5({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const Y5=m.forwardRef(Q5),X5=Y5;function Z5({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const G5=m.forwardRef(Z5),J5=G5;function ek({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{d:"M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"}))}const tk=m.forwardRef(ek),nk=tk;function sk({title:e,titleId:t,...n},s){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?m.createElement("title",{id:t},e):null,m.createElement("path",{fillRule:"evenodd",d:"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}),m.createElement("path",{d:"m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"}),m.createElement("path",{fillRule:"evenodd",d:"m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const rk=m.forwardRef(sk),ik=rk;function ok(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const ak=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),lk=({kind:e,threshold:t})=>{const n={out:{label:"Esgotado",cls:"bg-red-100 text-red-700 border-red-200"},low:{label:"Estoque Baixo",cls:"bg-yellow-100 text-yellow-700 border-yellow-200"},in:{label:"Em Estoque",cls:"bg-green-100 text-green-700 border-green-200"}},s=n[e]||n.in;return a.jsx("span",{className:`inline-flex items-center rounded-md border px-2.5 py-1 text-xs font-medium ${s.cls}`,children:s.label})};function ck({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const hc=e=>Number.isFinite(e==null?void 0:e.lowStock)?Number(e.lowStock):5,dk=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState("all"),[o,l]=m.useState(""),c=ok(o,350),[d,u]=as(),h=Number(d.get("page"))||1,f=Number(d.get("pageSize"))||10,g=d.get("q")||"",x=d.get("status")||"all",[p,b]=m.useState(h),[y,v]=m.useState(f);m.useEffect(()=>{g&&l(g),["all","low","out"].includes(x)&&i(x),w()},[]);const w=async()=>{try{s(!0);const z=await Sr();t(z||[])}finally{s(!1)}},j=m.useMemo(()=>{let z=e;r==="out"?z=z.filter(E=>E.stock===0):r==="low"&&(z=z.filter(E=>E.stock>0&&E.stock<=hc(E)));const D=c.trim().toLowerCase(),B=D?z.filter(E=>String(E.name||"").toLowerCase().includes(D)||String(E.brand||"").toLowerCase().includes(D)||String(E.compatible_model||"").toLowerCase().includes(D)):z,K=new Map;e.forEach((E,F)=>K.set(E.id,F));const M=E=>{const F=(E==null?void 0:E.createdAt)??(E==null?void 0:E.created_at)??null;if(F){const W=new Date(F).getTime();if(Number.isFinite(W))return W}if(typeof(E==null?void 0:E.id)=="string"&&/^[a-f0-9]{24}$/i.test(E.id)){const W=parseInt(E.id.slice(0,8),16)*1e3;if(Number.isFinite(W))return W}return Number.NEGATIVE_INFINITY};return[...B].sort((E,F)=>{const W=M(F),L=M(E);if(W!==L)return W-L;const Y=K.get(F.id)??-1,H=K.get(E.id)??-1;return Y-H})},[e,r,c]),S=j.length,N=e.length,C=m.useMemo(()=>e.filter(z=>z.stock>0&&z.stock<=hc(z)).length,[e]),_=m.useMemo(()=>e.filter(z=>z.stock===0).length,[e]);m.useEffect(()=>{b(1)},[c,y,r]);const R=Math.max(1,Math.ceil(S/y)),T=Math.min(Math.max(1,p),R),k=(T-1)*y,P=Math.min(k+y,S),I=j.slice(k,P);return m.useEffect(()=>{const z=new URLSearchParams(d);z.set("page",String(T)),z.set("pageSize",String(y)),o?z.set("q",o):z.delete("q"),r&&r!=="all"?z.set("status",r):z.delete("status"),u(z,{replace:!0})},[T,y,o,r,d,u]),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Controle de Estoque"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Acompanhe níveis, itens baixos e esgotados"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-6",children:[{key:"all",label:`Todos (${N})`},{key:"low",label:`Baixos (${C})`},{key:"out",label:`Esgotados (${_})`}].map(z=>a.jsx("button",{onClick:()=>i(z.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${r===z.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:z.label},z.key))})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx(ak,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por produto, marca ou modelo",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:o,onChange:z=>l(z.target.value),"aria-label":"Buscar itens do estoque"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:y,onChange:z=>v(Number(z.target.value)),children:[10,20,50,100].map(z=>a.jsx("option",{value:z,children:z},z))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/products/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Produto"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Itens de Estoque"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Resumo por status e busca aplicada"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total em Estoque"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S}),a.jsxs("p",{className:"text-xs text-gray-500",children:[N," itens no total"]})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Marca"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Modelo Compatível"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Estoque"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Alerta"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:I.length>0?I.map(z=>{const D=hc(z),B=z.stock===0?"out":z.stock<=D?"low":"in";return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:z.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:z.brand}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:z.compatible_model}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:B!=="in"?a.jsxs("div",{className:"flex items-center",children:[a.jsx(J5,{className:`mr-1 h-5 w-5 ${B==="out"?"text-red-500":"text-yellow-500"}`}),a.jsx("span",{className:"font-medium",children:z.stock})]}):z.stock}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:D}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx(lk,{kind:B,threshold:D})})]},z.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum produto encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:S>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:k+1}),"–",a.jsx("strong",{children:P})," de ",a.jsx("strong",{children:S})," itens"]}):a.jsx("span",{children:"Nenhum registro"})}),R>1&&a.jsx(ck,{currentPage:T,totalPages:R,onChange:z=>b(z),className:"justify-center",windowSize:1})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function eo(e){return e+.5|0}const Fn=(e,t,n)=>Math.max(Math.min(e,n),t);function Jr(e){return Fn(eo(e*2.55),0,255)}function Zn(e){return Fn(eo(e*255),0,255)}function xn(e){return Fn(eo(e/2.55)/100,0,1)}function tm(e){return Fn(eo(e*100),0,100)}const Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dd=[..."0123456789ABCDEF"],uk=e=>Dd[e&15],hk=e=>Dd[(e&240)>>4]+Dd[e&15],ko=e=>(e&240)>>4===(e&15),fk=e=>ko(e.r)&&ko(e.g)&&ko(e.b)&&ko(e.a);function mk(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Mt[e[1]]*17,g:255&Mt[e[2]]*17,b:255&Mt[e[3]]*17,a:t===5?Mt[e[4]]*17:255}:(t===7||t===9)&&(n={r:Mt[e[1]]<<4|Mt[e[2]],g:Mt[e[3]]<<4|Mt[e[4]],b:Mt[e[5]]<<4|Mt[e[6]],a:t===9?Mt[e[7]]<<4|Mt[e[8]]:255})),n}const pk=(e,t)=>e<255?t(e):"";function gk(e){var t=fk(e)?uk:hk;return e?"#"+t(e.r)+t(e.g)+t(e.b)+pk(e.a,t):void 0}const xk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dx(e,t,n){const s=t*Math.min(n,1-n),r=(i,o=(i+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function yk(e,t,n){const s=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function vk(e,t,n){const s=Dx(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function bk(e,t,n,s,r){return e===r?(t-n)/s+(t<n?6:0):t===r?(n-e)/s+2:(e-t)/s+4}function Zu(e){const n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=bk(n,s,r,u,i),c=c*60+.5),[c|0,d||0,l]}function Gu(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Zn)}function Ju(e,t,n){return Gu(Dx,e,t,n)}function wk(e,t,n){return Gu(vk,e,t,n)}function jk(e,t,n){return Gu(yk,e,t,n)}function Rx(e){return(e%360+360)%360}function Nk(e){const t=xk.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Jr(+t[5]):Zn(+t[5]));const r=Rx(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=wk(r,i,o):t[1]==="hsv"?s=jk(r,i,o):s=Ju(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function kk(e,t){var n=Zu(e);n[0]=Rx(n[0]+t),n=Ju(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Sk(e){if(!e)return;const t=Zu(e),n=t[0],s=tm(t[1]),r=tm(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${r}%, ${xn(e.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const nm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},sm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _k(){const e={},t=Object.keys(sm),n=Object.keys(nm);let s,r,i,o,l;for(s=0;s<t.length;s++){for(o=l=t[s],r=0;r<n.length;r++)i=n[r],l=l.replace(i,nm[i]);i=parseInt(sm[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let So;function Ck(e){So||(So=_k(),So.transparent=[0,0,0,0]);const t=So[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ek=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Mk(e){const t=Ek.exec(e);let n=255,s,r,i;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Jr(o):Fn(o*255,0,255)}return s=+t[1],r=+t[3],i=+t[5],s=255&(t[2]?Jr(s):Fn(s,0,255)),r=255&(t[4]?Jr(r):Fn(r,0,255)),i=255&(t[6]?Jr(i):Fn(i,0,255)),{r:s,g:r,b:i,a:n}}}function Tk(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const fc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ys=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Pk(e,t,n){const s=Ys(xn(e.r)),r=Ys(xn(e.g)),i=Ys(xn(e.b));return{r:Zn(fc(s+n*(Ys(xn(t.r))-s))),g:Zn(fc(r+n*(Ys(xn(t.g))-r))),b:Zn(fc(i+n*(Ys(xn(t.b))-i))),a:e.a+n*(t.a-e.a)}}function _o(e,t,n){if(e){let s=Zu(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Ju(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Lx(e,t){return e&&Object.assign(t||{},e)}function rm(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Zn(e[3]))):(t=Lx(e,{r:0,g:0,b:0,a:1}),t.a=Zn(t.a)),t}function Dk(e){return e.charAt(0)==="r"?Mk(e):Nk(e)}class Fi{constructor(t){if(t instanceof Fi)return t;const n=typeof t;let s;n==="object"?s=rm(t):n==="string"&&(s=mk(t)||Ck(t)||Dk(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Lx(this._rgb);return t&&(t.a=xn(t.a)),t}set rgb(t){this._rgb=rm(t)}rgbString(){return this._valid?Tk(this._rgb):void 0}hexString(){return this._valid?gk(this._rgb):void 0}hslString(){return this._valid?Sk(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let i;const o=n===i?.5:n,l=2*o-1,c=s.a-r.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*r.r+.5,s.g=255&d*s.g+i*r.g+.5,s.b=255&d*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=Pk(this._rgb,t._rgb,n)),this}clone(){return new Fi(this.rgb)}alpha(t){return this._rgb.a=Zn(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=eo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _o(this._rgb,2,t),this}darken(t){return _o(this._rgb,2,-t),this}saturate(t){return _o(this._rgb,1,t),this}desaturate(t){return _o(this._rgb,1,-t),this}rotate(t){return kk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function un(){}const Rk=(()=>{let e=0;return()=>e++})();function fe(e){return e==null}function Ce(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ue(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ue(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function bt(e,t){return Ue(e)?e:t}function de(e,t){return typeof e>"u"?t:e}const Lk=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function be(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function pe(e,t,n,s){let r,i,o;if(Ce(e))if(i=e.length,s)for(r=i-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<i;r++)t.call(n,e[r],r);else if(ue(e))for(o=Object.keys(e),i=o.length,r=0;r<i;r++)t.call(n,e[o[r]],o[r])}function Ha(e,t){let n,s,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Wa(e){if(Ce(e))return e.map(Wa);if(ue(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=Wa(e[n[r]]);return t}return e}function Ax(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Ak(e,t,n,s){if(!Ax(e))return;const r=t[e],i=n[e];ue(r)&&ue(i)?$i(r,i,s):t[e]=Wa(i)}function $i(e,t,n){const s=Ce(t)?t:[t],r=s.length;if(!ue(e))return e;n=n||{};const i=n.merger||Ak;let o;for(let l=0;l<r;++l){if(o=s[l],!ue(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],e,o,n)}return e}function fi(e,t){return $i(e,t,{merger:Ok})}function Ok(e,t,n){if(!Ax(e))return;const s=t[e],r=n[e];ue(s)&&ue(r)?fi(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Wa(r))}const im={"":e=>e,x:e=>e.x,y:e=>e.y};function Ik(e){const t=e.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Fk(e){const t=Ik(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function _r(e,t){return(im[t]||(im[t]=Fk(t)))(e)}function eh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const zi=e=>typeof e<"u",ts=e=>typeof e=="function",om=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function $k(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const We=Math.PI,cn=2*We,qa=Number.POSITIVE_INFINITY,zk=We/180,Nt=We/2,us=We/4,am=We*2/3,$n=Math.log10,Gn=Math.sign;function la(e,t,n){return Math.abs(e-t)<n}function lm(e){const t=Math.round(e);e=la(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor($n(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Bk(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function Vk(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ka(e){return!Vk(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Uk(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Ox(e,t,n){let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function zn(e){return e*(We/180)}function th(e){return e*(180/We)}function cm(e){if(!Ue(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Hk(e,t){const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*We&&(i+=cn),{angle:i,distance:r}}function Wk(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sn(e){return(e%cn+cn)%cn}function qk(e,t,n,s){const r=sn(e),i=sn(t),o=sn(n),l=sn(i-r),c=sn(o-r),d=sn(r-i),u=sn(r-o);return r===i||r===o||s&&i===o||l>c&&d<u}function qt(e,t,n){return Math.max(t,Math.min(n,e))}function Kk(e){return qt(e,-32768,32767)}function cr(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function nh(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Rd=(e,t,n,s)=>nh(e,n,s?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Qk=(e,t,n)=>nh(e,n,s=>e[s][t]>=n);function Yk(e,t,n){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>n;)r--;return s>0||r<e.length?e.slice(s,r):e}const Ix=["push","pop","shift","splice","unshift"];function Xk(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ix.forEach(n=>{const s="_onData"+eh(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function dm(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(Ix.forEach(i=>{delete e[i]}),delete e._chartjs)}function Fx(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $x=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function zx(e,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,$x.call(window,()=>{s=!1,e.apply(t,n)}))}}function Zk(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const sh=e=>e==="start"?"left":e==="end"?"right":"center",Je=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Gk=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Co=e=>e===0||e===1,um=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*cn/n)),hm=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*cn/n)+1,mi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Nt)+1,easeOutSine:e=>Math.sin(e*Nt),easeInOutSine:e=>-.5*(Math.cos(We*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Co(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Co(e)?e:um(e,.075,.3),easeOutElastic:e=>Co(e)?e:hm(e,.075,.3),easeInOutElastic(e){return Co(e)?e:e<.5?.5*um(e*2,.1125,.45):.5+.5*hm(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-mi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?mi.easeInBounce(e*2)*.5:mi.easeOutBounce(e*2-1)*.5+.5};function Bx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function fm(e){return Bx(e)?e:new Fi(e)}function mc(e){return Bx(e)?e:new Fi(e).saturate(.5).darken(.1).hexString()}const Jk=["x","y","borderWidth","radius","tension"],eS=["color","borderColor","backgroundColor"];function tS(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:eS},numbers:{type:"number",properties:Jk}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nS(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mm=new Map;function sS(e,t){t=t||{};const n=e+JSON.stringify(t);let s=mm.get(n);return s||(s=new Intl.NumberFormat(e,t),mm.set(n,s)),s}function rh(e,t,n){return sS(t,n).format(e)}const Vx={values(e){return Ce(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let r,i=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),i=rS(e,n)}const o=$n(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),rh(e,s,c)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor($n(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?Vx.numeric.call(this,e,t,n):""}};function rS(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Ml={formatters:Vx};function iS(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ml.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Os=Object.create(null),Ld=Object.create(null);function pi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function pc(e,t,n){return typeof t=="string"?$i(pi(e,t),n):$i(pi(e,""),t)}class oS{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>mc(r.backgroundColor),this.hoverBorderColor=(s,r)=>mc(r.borderColor),this.hoverColor=(s,r)=>mc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return pc(this,t,n)}get(t){return pi(this,t)}describe(t,n){return pc(Ld,t,n)}override(t,n){return pc(Os,t,n)}route(t,n,s,r){const i=pi(this,t),o=pi(this,s),l="_"+n;Object.defineProperties(i,{[l]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[l],d=o[r];return ue(c)?Object.assign({},d,c):de(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(n=>n(this))}}var Re=new oS({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tS,nS,iS]);function aS(e){return!e||fe(e.size)||fe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Qa(e,t,n,s,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>s&&(s=i),s}function lS(e,t,n,s){s=s||{};let r=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(r=s.data={},i=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const l=n.length;let c,d,u,h,f;for(c=0;c<l;c++)if(h=n[c],h!=null&&!Ce(h))o=Qa(e,r,i,o,h);else if(Ce(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!Ce(f)&&(o=Qa(e,r,i,o,f));e.restore();const g=i.length/2;if(g>n.length){for(c=0;c<g;c++)delete r[i[c]];i.splice(0,g)}return o}function hs(e,t,n){const s=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function pm(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function gm(e,t,n,s){Ux(e,t,n,s,null)}function Ux(e,t,n,s,r){let i,o,l,c,d,u,h,f;const g=t.pointStyle,x=t.rotation,p=t.radius;let b=(x||0)*zk;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(b),e.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),g){default:r?e.ellipse(n,s,r/2,p,0,0,cn):e.arc(n,s,p,0,cn),e.closePath();break;case"triangle":u=r?r/2:p,e.moveTo(n+Math.sin(b)*u,s-Math.cos(b)*p),b+=am,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*p),b+=am,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*p),e.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(b+us)*c,h=Math.cos(b+us)*(r?r/2-d:c),l=Math.sin(b+us)*c,f=Math.sin(b+us)*(r?r/2-d:c),e.arc(n-h,s-l,d,b-We,b-Nt),e.arc(n+f,s-o,d,b-Nt,b),e.arc(n+h,s+l,d,b,b+Nt),e.arc(n-f,s+o,d,b+Nt,b+We),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*p,u=r?r/2:c,e.rect(n-u,s-c,2*u,2*c);break}b+=us;case"rectRot":h=Math.cos(b)*(r?r/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(r?r/2:p),e.moveTo(n-h,s-l),e.lineTo(n+f,s-o),e.lineTo(n+h,s+l),e.lineTo(n-f,s+o),e.closePath();break;case"crossRot":b+=us;case"cross":h=Math.cos(b)*(r?r/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(r?r/2:p),e.moveTo(n-h,s-l),e.lineTo(n+h,s+l),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o);break;case"star":h=Math.cos(b)*(r?r/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(r?r/2:p),e.moveTo(n-h,s-l),e.lineTo(n+h,s+l),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o),b+=us,h=Math.cos(b)*(r?r/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,f=Math.sin(b)*(r?r/2:p),e.moveTo(n-h,s-l),e.lineTo(n+h,s+l),e.moveTo(n+f,s-o),e.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(b)*p,l=Math.sin(b)*p,e.moveTo(n-o,s-l),e.lineTo(n+o,s+l);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(b)*(r?r/2:p),s+Math.sin(b)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function dr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ih(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function oh(e){e.restore()}function cS(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),fe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function dS(e,t,n,s,r){if(r.strikethrough||r.underline){const i=e.measureText(s),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,d=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function uS(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Is(e,t,n,s,r,i={}){const o=Ce(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=r.string,cS(e,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&uS(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),fe(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,n,s,i.maxWidth)),e.fillText(d,n,s,i.maxWidth),dS(e,n,s,d,i),s+=Number(r.lineHeight);e.restore()}function Bi(e,t){const{x:n,y:s,w:r,h:i,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*We,We,!0),e.lineTo(n,s+i-o.bottomLeft),e.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,We,Nt,!0),e.lineTo(n+r-o.bottomRight,s+i),e.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Nt,0,!0),e.lineTo(n+r,s+o.topRight),e.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Nt,!0),e.lineTo(n+o.topLeft,s)}const hS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mS(e,t){const n=(""+e).match(hS);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const pS=e=>+e||0;function Hx(e,t){const n={},s=ue(t),r=s?Object.keys(t):t,i=ue(e)?s?o=>de(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=pS(i(o));return n}function Wx(e){return Hx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _s(e){return Hx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function st(e){const t=Wx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Be(e,t){e=e||{},t=t||Re.font;let n=de(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=de(e.style,t.style);s&&!(""+s).match(fS)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:de(e.family,t.family),lineHeight:mS(de(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:de(e.weight,t.weight),string:""};return r.string=aS(r),r}function Eo(e,t,n,s){let r=!0,i,o,l;for(i=0,o=e.length;i<o;++i)if(l=e[i],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t),r=!1),n!==void 0&&Ce(l)&&(l=l[n%l.length],r=!1),l!==void 0))return s&&!r&&(s.cacheable=!1),l}function gS(e,t,n){const{min:s,max:r}=e,i=Lk(t,(r-s)/2),o=(l,c)=>n&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Us(e,t){return Object.assign(Object.create(e),t)}function ah(e,t=[""],n,s,r=()=>e[0]){const i=n||e;typeof s>"u"&&(s=Yx("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:r,override:l=>ah([l,...e],t,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return Kx(l,c,()=>kS(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return ym(l).includes(c)},ownKeys(l){return ym(l)},set(l,c,d){const u=l._storage||(l._storage=r());return l[c]=u[c]=d,delete l._keys,!0}})}function Cr(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:qx(e,s),setContext:i=>Cr(e,i,n,s),override:i=>Cr(e.override(i),t,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return Kx(i,o,()=>yS(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function qx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:s,isScriptable:ts(n)?n:()=>n,isIndexable:ts(s)?s:()=>s}}const xS=(e,t)=>e?e+eh(t):t,lh=(e,t)=>ue(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Kx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function yS(e,t,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=e;let l=s[t];return ts(l)&&o.isScriptable(t)&&(l=vS(t,l,e,n)),Ce(l)&&l.length&&(l=bS(t,l,e,o.isIndexable)),lh(t,l)&&(l=Cr(l,r,i&&i[t],o)),l}function vS(e,t,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:l}=n;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||s);return l.delete(e),lh(e,c)&&(c=ch(r._scopes,r,e,c)),c}function bS(e,t,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(ue(t[0])){const c=t,d=r._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=ch(d,r,e,u);t.push(Cr(h,i,o&&o[e],l))}}return t}function Qx(e,t,n){return ts(e)?e(t,n):e}const wS=(e,t)=>e===!0?t:typeof e=="string"?_r(t,e):void 0;function jS(e,t,n,s,r){for(const i of t){const o=wS(n,i);if(o){e.add(o);const l=Qx(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==s)return l}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function ch(e,t,n,s){const r=t._rootScopes,i=Qx(t._fallback,n,s),o=[...e,...r],l=new Set;l.add(s);let c=xm(l,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=xm(l,o,i,c,s),c===null)?!1:ah(Array.from(l),[""],r,i,()=>NS(t,n,s))}function xm(e,t,n,s,r){for(;n;)n=jS(e,t,n,s,r);return n}function NS(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return Ce(r)&&ue(n)?n:r||{}}function kS(e,t,n,s){let r;for(const i of t)if(r=Yx(xS(i,e),n),typeof r<"u")return lh(e,r)?ch(n,s,e,r):r}function Yx(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function ym(e){let t=e._keys;return t||(t=e._keys=SS(e._scopes)),t}function SS(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function dh(){return typeof window<"u"&&typeof document<"u"}function uh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ya(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Tl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function _S(e,t){return Tl(e).getPropertyValue(t)}const CS=["top","right","bottom","left"];function Cs(e,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=CS[r];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ES=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function MS(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=s;let o=!1,l,c;if(ES(r,i,e.target))l=r,c=i;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function vs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,r=Tl(n),i=r.boxSizing==="border-box",o=Cs(r,"padding"),l=Cs(r,"border","width"),{x:c,y:d,box:u}=MS(e,n),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:g,height:x}=t;return i&&(g-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((d-f)/x*n.height/s)}}function TS(e,t,n){let s,r;if(t===void 0||n===void 0){const i=e&&uh(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const o=i.getBoundingClientRect(),l=Tl(i),c=Cs(l,"border","width"),d=Cs(l,"padding");t=o.width-d.width-c.width,n=o.height-d.height-c.height,s=Ya(l.maxWidth,i,"clientWidth"),r=Ya(l.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||qa,maxHeight:r||qa}}const Mo=e=>Math.round(e*10)/10;function PS(e,t,n,s){const r=Tl(e),i=Cs(r,"margin"),o=Ya(r.maxWidth,e,"clientWidth")||qa,l=Ya(r.maxHeight,e,"clientHeight")||qa,c=TS(e,t,n);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const f=Cs(r,"border","width"),g=Cs(r,"padding");d-=g.width+f.width,u-=g.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=Mo(Math.min(d,o,c.maxWidth)),u=Mo(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Mo(d/2)),(t!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Mo(Math.floor(u*s))),{width:d,height:u}}function vm(e,t,n){const s=t||1,r=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(e.currentDevicePixelRatio=s,o.height=r,o.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const DS=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};dh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function bm(e,t){const n=_S(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const RS=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},LS=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function xr(e,t,n){return e?RS(t,n):LS()}function Xx(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Zx(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function To(e,t,n){return e.options.clip?e[n]:t[n]}function AS(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:To(n,t,"left"),right:To(n,t,"right"),top:To(s,t,"top"),bottom:To(s,t,"bottom")}:t}function OS(e,t){const n=t._clip;if(n.disabled)return!1;const s=AS(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class IS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(l=>l({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$x.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(r.draw(),this._notify(r,s,t,"progress")),i.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var hn=new IS;const wm="transparent",FS={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=fm(e||wm),r=s.valid&&fm(t||wm);return r&&r.valid?r.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class $S{constructor(t,n,s,r){const i=n[s];r=Eo([t.to,r,i,t.from]);const o=Eo([t.from,i,r]);this._active=!0,this._fn=t.fn||FS[t.type||typeof o],this._easing=mi[t.easing]||mi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Eo([t.to,n,r,t.from]),this._from=Eo([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||n<s),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class Gx{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ue(t))return;const n=Object.keys(Re.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!ue(i))return;const o={};for(const l of n)o[l]=i[l];(Ce(i.properties)&&i.properties||[r]).forEach(l=>{(l===r||!s.has(l))&&s.set(l,o)})})}_animateOptions(t,n){const s=n.options,r=BS(t,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&zS(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(n),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,n));continue}const u=n[d];let h=i[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}i[d]=h=new $S(f,t,d,u),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return hn.add(this._chart,s),!0}}function zS(e,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const i=e[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function BS(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function jm(e,t){const n=e&&e.options||{},s=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:r,end:s?r:i}}function VS(e,t,n){if(n===!1)return!1;const s=jm(e,n),r=jm(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function US(e){let t,n,s,r;return ue(e)?(t=e.top,n=e.right,s=e.bottom,r=e.left):t=n=s=r=e,{top:t,right:n,bottom:s,left:r,disabled:e===!1}}function Jx(e,t){const n=[],s=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Nm(e,t,n,s={}){const r=e.keys,i=s.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=r.length;o<l;++o){if(c=+r[o],c===n){if(u=!0,s.all)continue;break}d=e.values[c],Ue(d)&&(i||t===0||Gn(t)===Gn(d))&&(t+=d)}return!u&&!s.all?0:t}function HS(e,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[r]:u,[i]:e[u]};return l}function gc(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function WS(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function qS(e){const{min:t,max:n,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function KS(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function km(e,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Sm(e,t){const{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=WS(i,o,s),h=t.length;let f;for(let g=0;g<h;++g){const x=t[g],{[c]:p,[d]:b}=x,y=x._stacks||(x._stacks={});f=y[d]=KS(r,u,p),f[l]=b,f._top=km(f,o,!0,s.type),f._bottom=km(f,o,!1,s.type);const v=f._visualValues||(f._visualValues={});v[l]=b}}function xc(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function QS(e,t){return Us(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function YS(e,t,n){return Us(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ur(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const yc=e=>e==="reset"||e==="none",_m=(e,t)=>t?e:Object.assign({},e),XS=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Jx(n,!0),values:null};class gi{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=gc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ur(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,g,x)=>h==="x"?f:h==="r"?x:g,i=n.xAxisID=de(s.xAxisID,xc(t,"x")),o=n.yAxisID=de(s.yAxisID,xc(t,"y")),l=n.rAxisID=de(s.rAxisID,xc(t,"r")),c=n.indexAxis,d=n.iAxisID=r(c,i,o,l),u=n.vAxisID=r(c,o,i,l);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dm(this._data,this),t._stacked&&Ur(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ue(n)){const r=this._cachedMeta;this._data=HS(n,r)}else if(s!==n){if(s){dm(s,this);const r=this._cachedMeta;Ur(r),r._parsed=[]}n&&Object.isExtensible(n)&&Xk(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=gc(n.vScale,n),n.stack!==s.stack&&(r=!0,Ur(n),n.stack=s.stack),this._resyncElements(t),(r||i!==n._stacked)&&(Sm(this,n._parsed),n._stacked=gc(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=t===0&&n===r.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{Ce(r[t])?f=this.parseArrayData(s,r,t,n):ue(r[t])?f=this.parseObjectData(s,r,t,n):f=this.parsePrimitiveData(s,r,t,n);const g=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<n;++u)s._parsed[u+t]=h=f[u],c&&(g()&&(c=!1),d=h);s._sorted=c}o&&Sm(this,f)}parsePrimitiveData(t,n,s,r){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(r);let f,g,x;for(f=0,g=r;f<g;++f)x=f+s,h[f]={[l]:u||i.parse(d[x],x),[c]:o.parse(n[x],x)};return h}parseArrayData(t,n,s,r){const{xScale:i,yScale:o}=t,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=n[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,n,s,r){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,g;for(u=0,h=r;u<h;++u)f=u+s,g=n[f],d[u]={x:i.parse(_r(g,l),f),y:o.parse(_r(g,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,i=this._cachedMeta,o=n[t.axis],l={keys:Jx(r,!0),values:n._stacks[t.axis]._visualValues};return Nm(l,o,i.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const l=r&&s._stacks[n.axis];r&&l&&(r.values=l,o=Nm(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&t===s.iScale,o=r.length,l=this._getOtherScale(t),c=XS(n,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=qS(l);let f,g;function x(){g=r[f];const p=g[l.axis];return!Ue(g[t.axis])||u>p||h<p}for(f=0;f<o&&!(!x()&&(this.updateRangeFromParsed(d,t,g,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(d,t,g,c);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][t.axis],Ue(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=US(de(this.options.clip,VS(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=YS(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=QS(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=t+"-"+n,l=i[o],c=this.enableOptionSharing&&zi(s);if(l)return _m(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),g=Object.keys(Re.elements[t]),x=()=>this.getContext(s,r,n),p=d.resolveNamedOptions(f,g,x,h);return p.$shared&&(p.$shared=c,i[o]=Object.freeze(_m(p,c))),p}_resolveAnimations(t,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,l=i[o];if(l)return l;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,s,n))}const d=new Gx(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||yc(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(t,n,s,r){yc(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!yc(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,s=!0){const r=this._cachedMeta,i=r.data,o=t+n;let l;const c=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&Ur(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}se(gi,"defaults",{}),se(gi,"datasetElementType",null),se(gi,"dataElementType",null);function ZS(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Fx(s.sort((r,i)=>r-i))}return e._cache.$bar}function GS(e){const t=e.iScale,n=ZS(t,e.type);let s=t._length,r,i,o,l;const c=()=>{o===32767||o===-32768||(zi(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),c();for(l=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),c();return s}function JS(e,t,n,s){const r=n.barThickness;let i,o;return fe(r)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:t.pixels[e]-i/2}}function e_(e,t,n,s){const r=t.pixels,i=r[e];let o=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:n.barPercentage,start:d}}function t_(e,t,n,s){const r=n.parse(e[0],s),i=n.parse(e[1],s),o=Math.min(r,i),l=Math.max(r,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[n.axis]=d,t._custom={barStart:c,barEnd:d,start:r,end:i,min:o,max:l}}function ey(e,t,n,s){return Ce(e)?t_(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Cm(e,t,n,s){const r=e.iScale,i=e.vScale,o=r.getLabels(),l=r===i,c=[];let d,u,h,f;for(d=n,u=n+s;d<u;++d)f=t[d],h={},h[r.axis]=l||r.parse(o[d],d),c.push(ey(f,h,i,d));return c}function vc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function n_(e,t,n){return e!==0?Gn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function s_(e){let t,n,s,r,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:t,top:r,bottom:i}}function r_(e,t,n,s){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=s_(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?r=d:(n._bottom||0)===s?r=u:(i[Em(u,o,l,c)]=!0,r=d)),i[Em(r,o,l,c)]=!0,e.borderSkipped=i}function Em(e,t,n,s){return s?(e=i_(e,t,n),e=Mm(e,n,t)):e=Mm(e,t,n),e}function i_(e,t,n){return e===t?n:e===n?t:e}function Mm(e,t,n){return e==="start"?t:e==="end"?n:e}function o_(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class ca extends gi{parsePrimitiveData(t,n,s,r){return Cm(t,n,s,r)}parseArrayData(t,n,s,r){return Cm(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,g,x,p;for(f=s,g=s+r;f<g;++f)p=n[f],x={},x[i.axis]=i.parse(_r(p,d),f),h.push(ey(_r(p,u),x,o,f));return h}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(t),o=i._custom,l=vc(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let g=n;g<n+s;g++){const x=this.getParsed(g),p=i||fe(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),y=(x._stacks||{})[l.axis],v={horizontal:d,base:p.base,enableBorderRadius:!y||vc(x._custom)||o===y._top||o===y._bottom,x:d?p.head:b.center,y:d?b.center:p.head,height:d?b.size:Math.abs(p.size),width:d?Math.abs(p.size):b.size};f&&(v.options=h||this.resolveDataElementOptions(g,t[g].active?"active":r));const w=v.options||t[g].options;r_(v,w,y,o),o_(v,w,u.ratio),this.updateElement(t[g],g,v,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(g=>g[s.axis]===c),f=h&&h[u.vScale.axis];if(fe(f)||isNaN(f))return!0};for(const u of r)if(!(n!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[de(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=t.barThickness;return{min:l||GS(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(t),d=c._custom,u=vc(d);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,x,p;g!==h&&(f=g-h,g=h),u&&(h=d.barStart,g=d.barEnd-d.barStart,h!==0&&Gn(h)!==Gn(d.barEnd)&&(f=0),f+=h);const b=!fe(i)&&!u?i:f;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=n.getPixelForValue(f+g):x=y,p=x-y,Math.abs(p)<o){p=n_(p,n,l)*o,h===l&&(y-=p/2);const v=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),j=Math.min(v,w),S=Math.max(v,w);y=Math.max(Math.min(y,S),j),x=y+p,s&&!u&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(x)-n.getValueForPixel(y))}if(y===n.getPixelForValue(l)){const v=Gn(p)*n.getLineWidthForValue(l)/2;y+=v,p-=v}return{size:p,base:y,head:x,center:x+p/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,i=r.skipNull,o=de(r.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(n.grouped){const u=i?this._getStackCount(t):n.stackCount,h=r.barThickness==="flex"?e_(t,n,r,u*d):JS(t,n,r,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(de(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+g;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(o,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}se(ca,"id","bar"),se(ca,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),se(ca,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hh{constructor(t){se(this,"options");this.options=t||{}}static override(t){Object.assign(hh.prototype,t)}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}var a_={_date:hh};function l_(e,t,n,s){const{controller:r,data:i,_sorted:o}=e,l=r._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const d=l._reversePixels?Qk:Rd;if(s){if(r._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(i,t,n-h),g=d(i,t,n+h);return{lo:f.lo,hi:g.hi}}}}else{const u=d(i,t,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=e,g=f.slice(0,u.lo+1).reverse().findIndex(p=>!fe(p[h.axis]));u.lo-=Math.max(0,g);const x=f.slice(u.hi).findIndex(p=>!fe(p[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function to(e,t,n,s,r){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=l_(i[l],t,o,r);for(let g=h;g<=f;++g){const x=u[g];x.skip||s(x,d,g)}}}function c_(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,r){const i=t?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function bc(e,t,n,s,r){const i=[];return!r&&!e.isPointInArea(t)||to(e,n,t,function(l,c,d){!r&&!dr(l,e.chartArea,0)||l.inRange(t.x,t.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function d_(e,t,n,s){let r=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Hk(o,{x:t.x,y:t.y});qk(h,d,u)&&r.push({element:o,datasetIndex:l,index:c})}return to(e,n,t,i),r}function u_(e,t,n,s,r,i){let o=[];const l=c_(n);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const g=u.inRange(t.x,t.y,r);if(s&&!g)return;const x=u.getCenterPoint(r);if(!(!!i||e.isPointInArea(x))&&!g)return;const b=l(t,x);b<c?(o=[{element:u,datasetIndex:h,index:f}],c=b):b===c&&o.push({element:u,datasetIndex:h,index:f})}return to(e,n,t,d),o}function wc(e,t,n,s,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?d_(e,t,n,r):u_(e,t,n,s,r,i)}function Tm(e,t,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return to(e,n,t,(c,d,u)=>{c[o]&&c[o](t[n],r)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,r))}),s&&!l?[]:i}var h_={evaluateInteractionItems:to,modes:{index(e,t,n,s){const r=vs(t,e),i=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?bc(e,r,i,s,o):wc(e,r,i,!1,s,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,n,s){const r=vs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?bc(e,r,i,s,o):wc(e,r,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,n,s){const r=vs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return bc(e,r,i,s,o)},nearest(e,t,n,s){const r=vs(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return wc(e,r,i,n.intersect,s,o)},x(e,t,n,s){const r=vs(t,e);return Tm(e,r,"x",n.intersect,s)},y(e,t,n,s){const r=vs(t,e);return Tm(e,r,"y",n.intersect,s)}}};const ty=["left","top","right","bottom"];function Hr(e,t){return e.filter(n=>n.pos===t)}function Pm(e,t){return e.filter(n=>ty.indexOf(n.pos)===-1&&n.box.axis===t)}function Wr(e,t){return e.sort((n,s)=>{const r=t?s:n,i=t?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function f_(e){const t=[];let n,s,r,i,o,l;for(n=0,s=(e||[]).length;n<s;++n)r=e[n],{position:i,options:{stack:o,stackWeight:l=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:l});return t}function m_(e){const t={};for(const n of e){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!ty.includes(r))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function p_(e,t){const n=m_(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,d=n[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&t.availableWidth,l.height=r):(l.width=s,l.height=u?u*r:c&&t.availableHeight)}return n}function g_(e){const t=f_(e),n=Wr(t.filter(d=>d.box.fullSize),!0),s=Wr(Hr(t,"left"),!0),r=Wr(Hr(t,"right")),i=Wr(Hr(t,"top"),!0),o=Wr(Hr(t,"bottom")),l=Pm(t,"x"),c=Pm(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(l),chartArea:Hr(t,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(l)}}function Dm(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function ny(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function x_(e,t,n,s){const{pos:r,box:i}=n,o=e.maxPadding;if(!ue(r)){n.size&&(e[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[r]+=n.size}i.getPadding&&ny(o,i.getPadding());const l=Math.max(0,t.outerWidth-Dm(o,e,"left","right")),c=Math.max(0,t.outerHeight-Dm(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function y_(e){const t=e.maxPadding;function n(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function v_(e,t){const n=t.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(t[o],n[o])}),i}return s(e?["left","right"]:["top","bottom"])}function ei(e,t,n,s){const r=[];let i,o,l,c,d,u;for(i=0,o=e.length,d=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,v_(l.horizontal,t));const{same:h,other:f}=x_(t,n,l,s);d|=h&&r.length,u=u||f,c.fullSize||r.push(l)}return d&&ei(r,t,n,s)||u}function Po(e,t,n,s,r){e.top=n,e.left=t,e.right=t+s,e.bottom=n+r,e.width=s,e.height=r}function Rm(e,t,n,s){const r=n.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,d=s[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,f=d.size||c.height;zi(d.start)&&(o=d.start),c.fullSize?Po(c,r.left,o,n.outerWidth-r.right-r.left,f):Po(c,t.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,f=d.size||c.width;zi(d.start)&&(i=d.start),c.fullSize?Po(c,i,r.top,f,n.outerHeight-r.bottom-r.top):Po(c,i,t.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}t.x=i,t.y=o}var Ot={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const r=st(e.options.layout.padding),i=Math.max(t-r.width,0),o=Math.max(n-r.height,0),l=g_(e.boxes),c=l.vertical,d=l.horizontal;pe(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);ny(f,st(s));const g=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),x=p_(c.concat(d),h);ei(l.fullSize,g,h,x),ei(c,g,h,x),ei(d,g,h,x)&&ei(c,g,h,x),y_(g),Rm(l.leftAndTop,g,h,x),g.x+=g.w,g.y+=g.h,Rm(l.rightAndBottom,g,h,x),e.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},pe(l.chartArea,p=>{const b=p.box;Object.assign(b,e.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class sy{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class b_ extends sy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const da="$chartjs",w_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lm=e=>e===null||e==="";function j_(e,t){const n=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[da]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lm(r)){const i=bm(e,"width");i!==void 0&&(e.width=i)}if(Lm(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=bm(e,"height");i!==void 0&&(e.height=i)}return e}const ry=DS?{passive:!0}:!1;function N_(e,t,n){e&&e.addEventListener(t,n,ry)}function k_(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,ry)}function S_(e,t){const n=w_[e.type]||e.type,{x:s,y:r}=vs(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Xa(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function __(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Xa(l.addedNodes,s),o=o&&!Xa(l.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function C_(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Xa(l.removedNodes,s),o=o&&!Xa(l.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Vi=new Map;let Am=0;function iy(){const e=window.devicePixelRatio;e!==Am&&(Am=e,Vi.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function E_(e,t){Vi.size||window.addEventListener("resize",iy),Vi.set(e,t)}function M_(e){Vi.delete(e),Vi.size||window.removeEventListener("resize",iy)}function T_(e,t,n){const s=e.canvas,r=s&&uh(s);if(!r)return;const i=zx((l,c)=>{const d=r.clientWidth;n(l,c),d<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(r),E_(e,i),o}function jc(e,t,n){n&&n.disconnect(),t==="resize"&&M_(e)}function P_(e,t,n){const s=e.canvas,r=zx(i=>{e.ctx!==null&&n(S_(i,e))},e);return N_(s,t,r),r}class D_ extends sy{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(j_(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[da])return!1;const s=n[da].initial;["height","width"].forEach(i=>{const o=s[i];fe(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[da],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:__,detach:C_,resize:T_}[n]||P_;r[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:jc,detach:jc,resize:jc}[n]||k_)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return PS(t,n,s,r)}isAttached(t){const n=t&&uh(t);return!!(n&&n.isConnected)}}function R_(e){return!dh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?b_:D_}class ns{constructor(){se(this,"x");se(this,"y");se(this,"active",!1);se(this,"options");se(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Ka(this.x)&&Ka(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}se(ns,"defaults",{}),se(ns,"defaultRoutes");function L_(e,t){const n=e.options.ticks,s=A_(e),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?I_(t):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>r)return F_(t,d,i,o/r),d;const u=O_(i,t,r);if(o>0){let h,f;const g=o>1?Math.round((c-l)/(o-1)):null;for(Do(t,d,u,fe(g)?0:l-g,l),h=0,f=o-1;h<f;h++)Do(t,d,u,i[h],i[h+1]);return Do(t,d,u,c,fe(g)?t.length:c+g),d}return Do(t,d,u),d}function A_(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(s,r))}function O_(e,t,n){const s=$_(e),r=t.length/n;if(!s)return Math.max(r,1);const i=Bk(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function I_(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function F_(e,t,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===i&&(t.push(e[o]),r++,i=n[r*s])}function Do(e,t,n,s,r){const i=de(s,0),o=Math.min(de(r,e.length),e.length);let l=0,c,d,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)l++,u=Math.round(i+l*n);for(d=Math.max(i,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(i+l*n))}function $_(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const z_=e=>e==="left"?"right":e==="right"?"left":e,Om=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Im=(e,t)=>Math.min(t||e,e);function Fm(e,t){const n=[],s=e.length/t,r=e.length;let i=0;for(;i<r;i+=s)n.push(e[Math.floor(i)]);return n}function B_(e,t,n){const s=e.ticks.length,r=Math.min(t,s-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(r),d;if(!(n&&(s===1?d=Math.max(c-i,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(r-1))/2,c+=r<t?d:-d,c<i-l||c>o+l)))return c}function V_(e,t){pe(e,n=>{const s=n.gc,r=s.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function qr(e){return e.drawTicks?e.tickLength:0}function $m(e,t){if(!e.display)return 0;const n=Be(e.font,t),s=st(e.padding);return(Ce(e.text)?e.text.length:1)*n.lineHeight+s.height}function U_(e,t){return Us(e,{scale:t,type:"scale"})}function H_(e,t,n){return Us(e,{tick:n,index:t,type:"tick"})}function W_(e,t,n){let s=sh(e);return(n&&t!=="right"||!n&&t==="right")&&(s=z_(s)),s}function q_(e,t,n,s){const{top:r,left:i,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,g,x;const p=o-r,b=l-i;if(e.isHorizontal()){if(g=Je(s,i,l),ue(n)){const y=Object.keys(n)[0],v=n[y];x=u[y].getPixelForValue(v)+p-t}else n==="center"?x=(d.bottom+d.top)/2+p-t:x=Om(e,n,t);f=l-i}else{if(ue(n)){const y=Object.keys(n)[0],v=n[y];g=u[y].getPixelForValue(v)-b+t}else n==="center"?g=(d.left+d.right)/2-b+t:g=Om(e,n,t);x=Je(s,o,r),h=n==="left"?-Nt:Nt}return{titleX:g,titleY:x,maxWidth:f,rotation:h}}class Hs extends ns{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=bt(t,Number.POSITIVE_INFINITY),n=bt(n,Number.NEGATIVE_INFINITY),s=bt(s,Number.POSITIVE_INFINITY),r=bt(r,Number.NEGATIVE_INFINITY),{min:bt(t,s),max:bt(n,r),minDefined:Ue(t),maxDefined:Ue(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:bt(n,bt(s,n)),max:bt(s,bt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gS(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?Fm(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=L_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s],i.label=be(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Im(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,l,c,d;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,g=qt(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/s:g/(s-1),h+6>l&&(l=g/(s-(t.offset?.5:1)),c=this.maxHeight-qr(t.grid)-n.padding-$m(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=th(Math.min(Math.asin(qt((u.highest.height+6)/l,-1,1)),Math.asin(qt(c/d,-1,1))-Math.asin(qt(f/d,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=$m(r,n.options.font);if(l?(t.width=this.maxWidth,t.height=qr(i)+c):(t.height=this.maxHeight,t.width=qr(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,x=zn(this.labelRotation),p=Math.cos(x),b=Math.sin(x);if(l){const y=s.mirror?0:b*h.width+p*f.height;t.height=Math.min(this.maxHeight,t.height+y+g)}else{const y=s.mirror?0:p*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+y+g)}this._calculatePadding(d,u,b,p)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?d?(f=r*t.width,g=s*n.height):(f=s*t.height,g=r*n.width):i==="start"?g=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,g=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;i==="start"?(u=0,h=t.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)fe(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Fm(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(n/Im(n,s));let d=0,u=0,h,f,g,x,p,b,y,v,w,j,S;for(h=0;h<n;h+=c){if(x=t[h].label,p=this._resolveTickFontOptions(h),r.font=b=p.string,y=i[b]=i[b]||{data:{},gc:[]},v=p.lineHeight,w=j=0,!fe(x)&&!Ce(x))w=Qa(r,y.data,y.gc,w,x),j=v;else if(Ce(x))for(f=0,g=x.length;f<g;++f)S=x[f],!fe(S)&&!Ce(S)&&(w=Qa(r,y.data,y.gc,w,S),j+=v);o.push(w),l.push(j),d=Math.max(w,d),u=Math.max(j,u)}V_(i,n);const N=o.indexOf(d),C=l.indexOf(u),_=R=>({width:o[R]||0,height:l[R]||0});return{first:_(0),last:_(n-1),widest:_(N),highest:_(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Kk(this._alignToPixels?hs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=H_(this.getContext(),t,s))}return this.$context||(this.$context=U_(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=zn(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*r?l/s:c/r:c*r<l*s?c/s:l/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:l}=r,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=qr(i),g=[],x=l.setContext(this.getContext()),p=x.display?x.width:0,b=p/2,y=function(B){return hs(s,B,p)};let v,w,j,S,N,C,_,R,T,k,P,I;if(o==="top")v=y(this.bottom),C=this.bottom-f,R=v-b,k=y(t.top)+b,I=t.bottom;else if(o==="bottom")v=y(this.top),k=t.top,I=y(t.bottom)-b,C=v+b,R=this.top+f;else if(o==="left")v=y(this.right),N=this.right-f,_=v-b,T=y(t.left)+b,P=t.right;else if(o==="right")v=y(this.left),T=t.left,P=y(t.right)-b,N=v+b,_=this.left+f;else if(n==="x"){if(o==="center")v=y((t.top+t.bottom)/2+.5);else if(ue(o)){const B=Object.keys(o)[0],K=o[B];v=y(this.chart.scales[B].getPixelForValue(K))}k=t.top,I=t.bottom,C=v+b,R=C+f}else if(n==="y"){if(o==="center")v=y((t.left+t.right)/2);else if(ue(o)){const B=Object.keys(o)[0],K=o[B];v=y(this.chart.scales[B].getPixelForValue(K))}N=v-b,_=N-f,T=t.left,P=t.right}const z=de(r.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/z));for(w=0;w<h;w+=D){const B=this.getContext(w),K=i.setContext(B),M=l.setContext(B),E=K.lineWidth,F=K.color,W=M.dash||[],L=M.dashOffset,Y=K.tickWidth,H=K.tickColor,oe=K.tickBorderDash||[],me=K.tickBorderDashOffset;j=B_(this,w,c),j!==void 0&&(S=hs(s,j,E),d?N=_=T=P=S:C=R=k=I=S,g.push({tx1:N,ty1:C,tx2:_,ty2:R,x1:T,y1:k,x2:P,y2:I,width:E,color:F,borderDash:W,borderDashOffset:L,tickWidth:Y,tickColor:H,tickBorderDash:oe,tickBorderDashOffset:me}))}return this._ticksLength=h,this._borderValue=v,g}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=qr(s.grid),g=f+u,x=h?-u:g,p=-zn(this.labelRotation),b=[];let y,v,w,j,S,N,C,_,R,T,k,P,I="middle";if(r==="top")N=this.bottom-x,C=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+x,C=this._getXAxisLabelAlignment();else if(r==="left"){const D=this._getYAxisLabelAlignment(f);C=D.textAlign,S=D.x}else if(r==="right"){const D=this._getYAxisLabelAlignment(f);C=D.textAlign,S=D.x}else if(n==="x"){if(r==="center")N=(t.top+t.bottom)/2+g;else if(ue(r)){const D=Object.keys(r)[0],B=r[D];N=this.chart.scales[D].getPixelForValue(B)+g}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(t.left+t.right)/2-g;else if(ue(r)){const D=Object.keys(r)[0],B=r[D];S=this.chart.scales[D].getPixelForValue(B)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?I="top":c==="end"&&(I="bottom"));const z=this._getLabelSizes();for(y=0,v=l.length;y<v;++y){w=l[y],j=w.label;const D=i.setContext(this.getContext(y));_=this.getPixelForTick(y)+i.labelOffset,R=this._resolveTickFontOptions(y),T=R.lineHeight,k=Ce(j)?j.length:1;const B=k/2,K=D.color,M=D.textStrokeColor,E=D.textStrokeWidth;let F=C;o?(S=_,C==="inner"&&(y===v-1?F=this.options.reverse?"left":"right":y===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?d==="near"||p!==0?P=-k*T+T/2:d==="center"?P=-z.highest.height/2-B*T+T:P=-z.highest.height+T/2:d==="near"||p!==0?P=T/2:d==="center"?P=z.highest.height/2-B*T:P=z.highest.height-k*T,h&&(P*=-1),p!==0&&!D.showLabelBackdrop&&(S+=T/2*Math.sin(p))):(N=_,P=(1-k)*T/2);let W;if(D.showLabelBackdrop){const L=st(D.backdropPadding),Y=z.heights[y],H=z.widths[y];let oe=P-L.top,me=0-L.left;switch(I){case"middle":oe-=Y/2;break;case"bottom":oe-=Y;break}switch(C){case"center":me-=H/2;break;case"right":me-=H;break;case"inner":y===v-1?me-=H:y>0&&(me-=H/2);break}W={left:me,top:oe,width:H+L.width,height:Y+L.height,color:D.backdropColor}}b.push({label:j,font:R,textOffset:P,options:{rotation:p,color:K,strokeColor:M,strokeWidth:E,textAlign:F,textBaseline:I,translation:[S,N],backdrop:W}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-zn(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let d,u;return n==="left"?r?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,i,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const c=r[i];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=hs(t,this.left,o)-o/2,u=hs(t,this.right,l)+l/2,h=f=c):(h=hs(t,this.top,o)-o/2,f=hs(t,this.bottom,l)+l/2,d=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(d,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&ih(s,r);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Is(s,d,0,u,c,l)}r&&oh(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Be(s.font),o=st(s.padding),l=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ue(n)?(c+=o.bottom,Ce(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=q_(this,c,n,l);Is(t,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:W_(l,n,r),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=de(t.grid&&t.grid.z,-1),r=de(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Hs.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];l[s]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Be(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ro{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;Y_(n)&&(s=this.register(n));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,K_(t,o,s),this.override&&Re.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in Re[r]&&(delete Re[r][s],this.override&&delete Os[s])}}function K_(e,t,n){const s=$i(Object.create(null),[n?Re.get(n):{},Re.get(t),e.defaults]);Re.set(t,s),e.defaultRoutes&&Q_(t,e.defaultRoutes),e.descriptors&&Re.describe(t,e.descriptors)}function Q_(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),i=[e].concat(s).join("."),o=t[n].split("."),l=o.pop(),c=o.join(".");Re.route(i,r,c,l)})}function Y_(e){return"id"in e&&"defaults"in e}class X_{constructor(){this.controllers=new Ro(gi,"datasets",!0),this.elements=new Ro(ns,"elements"),this.plugins=new Ro(Object,"plugins"),this.scales=new Ro(Hs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):pe(r,o=>{const l=s||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,n,s){const r=eh(t);be(s["before"+r],[],s),n[t](s),be(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var nn=new X_;class Z_{constructor(){this._init=[]}notify(t,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,r){r=r||{};for(const i of t){const o=i.plugin,l=o[s],c=[n,r,i.options];if(be(l,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=de(s.options&&s.options.plugins,{}),i=G_(s);return r===!1&&!n?[]:eC(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function G_(e){const t={},n=[],s=Object.keys(nn.plugins.items);for(let i=0;i<s.length;i++)n.push(nn.getPlugin(s[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function J_(e,t){return!t&&e===!1?null:e===!0?{}:e}function eC(e,{plugins:t,localIds:n},s,r){const i=[],o=e.getContext();for(const l of t){const c=l.id,d=J_(s[c],r);d!==null&&i.push({plugin:l,options:tC(e.config,{plugin:l,local:n[c]},d,o)})}return i}function tC(e,{plugin:t,local:n},s,r){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(s,i);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ad(e,t){const n=Re.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function nC(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function sC(e,t){return e===t?"_index_":"_value_"}function zm(e){if(e==="x"||e==="y"||e==="r")return e}function rC(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Od(e,...t){if(zm(e))return e;for(const n of t){const s=n.axis||rC(n.position)||e.length>1&&zm(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Bm(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function iC(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Bm(e,"x",n[0])||Bm(e,"y",n[0])}return{}}function oC(e,t){const n=Os[e.type]||{scales:{}},s=t.scales||{},r=Ad(e.type,t),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!ue(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Od(o,l,iC(o,e),Re.scales[l.type]),d=sC(c,r),u=n.scales||{};i[o]=fi(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Ad(l,t),u=(Os[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=nC(h,c),g=o[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),fi(i[g],[{axis:f},s[g],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];fi(l,[Re.scales[l.type],Re.scale])}),i}function oy(e){const t=e.options||(e.options={});t.plugins=de(t.plugins,{}),t.scales=oC(e,t)}function ay(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function aC(e){return e=e||{},e.data=ay(e.data),oy(e),e}const Vm=new Map,ly=new Set;function Lo(e,t){let n=Vm.get(e);return n||(n=t(),Vm.set(e,n),ly.add(n)),n}const Kr=(e,t,n)=>{const s=_r(t,n);s!==void 0&&e.add(s)};class lC{constructor(t){this._config=aC(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ay(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),oy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Lo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Lo(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Lo(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Lo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:i}=this,o=this._cachedScopes(t,s),l=o.get(n);if(l)return l;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(h=>Kr(c,t,h))),u.forEach(h=>Kr(c,r,h)),u.forEach(h=>Kr(c,Os[i]||{},h)),u.forEach(h=>Kr(c,Re,h)),u.forEach(h=>Kr(c,Ld,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),ly.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,Os[n]||{},Re.datasets[n]||{},{type:n},Re,Ld]}resolveNamedOptions(t,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=Um(this._resolverCache,t,r);let c=o;if(dC(o,n)){i.$shared=!1,s=ts(s)?s():s;const d=this.createResolver(t,s,l);c=Cr(o,s,d)}for(const d of n)i[d]=c[d];return i}createResolver(t,n,s=[""],r){const{resolver:i}=Um(this._resolverCache,t,s);return ue(n)?Cr(i,n,void 0,r):i}}function Um(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=n.join();let i=s.get(r);return i||(i={resolver:ah(t,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},s.set(r,i)),i}const cC=e=>ue(e)&&Object.getOwnPropertyNames(e).some(t=>ts(e[t]));function dC(e,t){const{isScriptable:n,isIndexable:s}=qx(e);for(const r of t){const i=n(r),o=s(r),l=(o||i)&&e[r];if(i&&(ts(l)||cC(l))||o&&Ce(l))return!0}return!1}var uC="4.5.0";const hC=["top","bottom","left","right","chartArea"];function Hm(e,t){return e==="top"||e==="bottom"||hC.indexOf(e)===-1&&t==="x"}function Wm(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function qm(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),be(n&&n.onComplete,[e],t)}function fC(e){const t=e.chart,n=t.options.animation;be(n&&n.onProgress,[e],t)}function cy(e){return dh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ua={},Km=e=>{const t=cy(e);return Object.values(ua).filter(n=>n.canvas===t).pop()};function mC(e,t,n){const s=Object.keys(e);for(const r of s){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}function pC(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var Mn;let Pl=(Mn=class{static register(...t){nn.add(...t),Qm()}static unregister(...t){nn.remove(...t),Qm()}constructor(t,n){const s=this.config=new lC(n),r=cy(t),i=Km(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||R_(r)),this.platform.updateConfig(s);const l=this.platform.acquireContext(r,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Rk(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Z_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zk(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ua[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}hn.listen(this,"complete",qm),hn.listen(this,"progress",fC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return fe(t)?n&&i?i:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pm(this.canvas,this.ctx),this}stop(){return hn.stop(this),this}resize(t,n){hn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,vm(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),be(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const l=n[o],c=Od(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),pe(i,o=>{const l=o.options,c=l.id,d=Od(c,l),u=de(l.type,o.dtype);(l.position===void 0||Hm(l.position,d)!==Hm(o.dposition))&&(l.position=o.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=nn.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,t)}),pe(r,(o,l)=>{o||delete s[l]}),pe(s,o=>{Ot.configure(this,o,o.options),Ot.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Wm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||Ad(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=nn.getController(l),{datasetElementType:d,dataElementType:u}=Re.datasets[l];Object.assign(c,{dataElementType:nn.getElement(u),datasetElementType:d&&nn.getElement(d)}),o.controller=new c(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){pe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||pe(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Wm("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){pe(this.scales,t=>{Ot.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!om(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;mC(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!om(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ot.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],pe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,ts(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hn.has(this)?this.attached&&!hn.running(this)&&hn.start(this):(this.draw(),qm({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=OS(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&ih(n,r),t.controller.draw(),r&&oh(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return dr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const i=h_.modes[n];return typeof i=="function"?i(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Us(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);zi(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),hn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pm(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ua[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),t[i]=o},r=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};pe(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,d)=>{n.addEventListener(this,c,d),t[c]=d},r=(c,d)=>{t[c]&&(n.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){pe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},pe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let i,o,l,c;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Ha(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,t),l=s?t:i(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:i}=this,o=n,l=this._getActiveElements(t,r,s,o),c=$k(t),d=pC(t,this._lastEvent,s,c);s&&(this._lastEvent=null,be(i.onHover,[t,l,this],this),c&&be(i.onClick,[t,l,this],this));const u=!Ha(l,r);return(u||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=d,u}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}},se(Mn,"defaults",Re),se(Mn,"instances",ua),se(Mn,"overrides",Os),se(Mn,"registry",nn),se(Mn,"version",uC),se(Mn,"getChart",Km),Mn);function Qm(){return pe(Pl.instances,e=>e._plugins.invalidate())}function dy(e,t){const{x:n,y:s,base:r,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=o/2,l=Math.min(n,r),c=Math.max(n,r),d=s-h,u=s+h):(h=i/2,l=n-h,c=n+h,d=Math.min(s,r),u=Math.max(s,r)),{left:l,top:d,right:c,bottom:u}}function Bn(e,t,n,s){return e?0:qt(t,n,s)}function gC(e,t,n){const s=e.options.borderWidth,r=e.borderSkipped,i=Wx(s);return{t:Bn(r.top,i.top,0,n),r:Bn(r.right,i.right,0,t),b:Bn(r.bottom,i.bottom,0,n),l:Bn(r.left,i.left,0,t)}}function xC(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=_s(r),o=Math.min(t,n),l=e.borderSkipped,c=s||ue(r);return{topLeft:Bn(!c||l.top||l.left,i.topLeft,0,o),topRight:Bn(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Bn(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Bn(!c||l.bottom||l.right,i.bottomRight,0,o)}}function yC(e){const t=dy(e),n=t.right-t.left,s=t.bottom-t.top,r=gC(e,n/2,s/2),i=xC(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Nc(e,t,n,s){const r=t===null,i=n===null,l=e&&!(r&&i)&&dy(e,s);return l&&(r||cr(t,l.left,l.right))&&(i||cr(n,l.top,l.bottom))}function vC(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function bC(e,t){e.rect(t.x,t.y,t.w,t.h)}function kc(e,t,n={}){const s=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+i,h:e.h+o,radius:e.radius}}class ha extends ns{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=yC(this),l=vC(o.radius)?Bi:bC;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,kc(o,n,i)),t.clip(),l(t,kc(i,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),l(t,kc(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return Nc(this,t,n,s)}inXRange(t,n){return Nc(this,t,null,n)}inYRange(t,n){return Nc(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}se(ha,"id","bar"),se(ha,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),se(ha,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ym=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},wC=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Xm extends ns{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=be(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=Be(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Ym(s,i);let d,u;n.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,r,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+l;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((x,p)=>{const b=s+n/2+i.measureText(x.text).width;(p===0||d[d.length-1]+b+2*l>o)&&(h+=u,d[d.length-(p>0?0:1)]=0,g+=u,f++),c[p]={left:0,top:g,row:f,width:b,height:r},d[d.length-1]+=b+l}),h}_fitCols(t,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,f=0,g=0,x=0,p=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:v,itemHeight:w}=jC(s,n,i,b,r);y>0&&g+w+2*l>u&&(h+=f+l,d.push({width:f,height:g}),x+=f+l,p++,f=g=0),c[y]={left:x,top:g,col:p,width:v,height:w},f=Math.max(f,v),g+=w+l}),h+=f,d.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=xr(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Je(s,this.left+r,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,c=Je(s,this.left+r,this.right-this.lineWidths[l])),d.top+=this.top+t+r,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+r}else{let l=0,c=Je(s,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,c=Je(s,this.top+t+r,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ih(t,this),this._draw(),oh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=t,l=Re.color,c=xr(t.rtl,this.left,this.width),d=Be(o.font),{padding:u}=o,h=d.size,f=h/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:p,itemHeight:b}=Ym(o,h),y=function(N,C,_){if(isNaN(x)||x<=0||isNaN(p)||p<0)return;r.save();const R=de(_.lineWidth,1);if(r.fillStyle=de(_.fillStyle,l),r.lineCap=de(_.lineCap,"butt"),r.lineDashOffset=de(_.lineDashOffset,0),r.lineJoin=de(_.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=de(_.strokeStyle,l),r.setLineDash(de(_.lineDash,[])),o.usePointStyle){const T={radius:p*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:R},k=c.xPlus(N,x/2),P=C+f;Ux(r,T,k,P,o.pointStyleWidth&&x)}else{const T=C+Math.max((h-p)/2,0),k=c.leftForLtr(N,x),P=_s(_.borderRadius);r.beginPath(),Object.values(P).some(I=>I!==0)?Bi(r,{x:k,y:T,w:x,h:p,radius:P}):r.rect(k,T,x,p),r.fill(),R!==0&&r.stroke()}r.restore()},v=function(N,C,_){Is(r,_.text,N,C+b/2,d,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},w=this.isHorizontal(),j=this._computeTitleHeight();w?g={x:Je(i,this.left+u,this.right-s[0]),y:this.top+u+j,line:0}:g={x:this.left+u,y:Je(i,this.top+j+u,this.bottom-n[0].height),line:0},Xx(this.ctx,t.textDirection);const S=b+u;this.legendItems.forEach((N,C)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const _=r.measureText(N.text).width,R=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),T=x+f+_;let k=g.x,P=g.y;c.setWidth(this.width),w?C>0&&k+T+u>this.right&&(P=g.y+=S,g.line++,k=g.x=Je(i,this.left+u,this.right-s[g.line])):C>0&&P+S>this.bottom&&(k=g.x=k+n[g.line].width+u,g.line++,P=g.y=Je(i,this.top+j+u,this.bottom-n[g.line].height));const I=c.x(k);if(y(I,P,N),k=Gk(R,k+x+f,w?k+T:this.right,t.rtl),v(c.x(k),P,N),w)g.x+=T+u;else if(typeof N.text!="string"){const z=d.lineHeight;g.y+=uy(N,z)+u}else g.y+=S}),Zx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Be(n.font),r=st(n.padding);if(!n.display)return;const i=xr(t.rtl,this.left,this.width),o=this.ctx,l=n.position,c=s.size/2,d=r.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=Je(t.align,h,this.right-f);else{const x=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);u=d+Je(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const g=Je(l,h,h+f);o.textAlign=i.textAlign(sh(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Is(o,n.text,g,u,s)}_computeTitleHeight(){const t=this.options.title,n=Be(t.font),s=st(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,i;if(cr(t,this.left,this.right)&&cr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],cr(t,r.left,r.left+r.width)&&cr(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!SC(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=wC(r,s);r&&!i&&be(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!i&&be(n.onHover,[t,s,this],this)}else s&&be(n.onClick,[t,s,this],this)}}function jC(e,t,n,s,r){const i=NC(s,e,t,n),o=kC(r,s,t.lineHeight);return{itemWidth:i,itemHeight:o}}function NC(e,t,n,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),t+n.size/2+s.measureText(r).width}function kC(e,t,n){let s=e;return typeof t.text!="string"&&(s=uy(t,n)),s}function uy(e,t){const n=e.text?e.text.length:0;return t*n}function SC(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var _C={id:"legend",_element:Xm,start(e,t,n){const s=e.legend=new Xm({ctx:e.ctx,options:n,chart:e});Ot.configure(e,s,n),Ot.addBox(e,s)},stop(e){Ot.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Ot.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(n?0:void 0),u=st(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class hy extends ns{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Ce(s.text)?s.text.length:1;this._padding=st(s.padding);const i=r*Be(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Je(l,s,i),h=n+t,d=i-s):(o.position==="left"?(u=s+t,h=Je(l,r,n),c=We*-.5):(u=i-t,h=Je(l,n,r),c=We*.5),d=r-n),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Be(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Is(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:d,textAlign:sh(n.align),textBaseline:"middle",translation:[o,l]})}}function CC(e,t){const n=new hy({ctx:e.ctx,options:t,chart:e});Ot.configure(e,n,t),Ot.addBox(e,n),e.titleBlock=n}var EC={id:"title",_element:hy,start(e,t,n){CC(e,n)},stop(e){const t=e.titleBlock;Ot.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Ot.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ti={average(e){if(!e.length)return!1;let t,n,s=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Wk(t,d);u<r&&(r=u,l=c)}}if(l){const c=l.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function en(e,t){return t&&(Ce(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function fn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function MC(e,t){const{element:n,datasetIndex:s,index:r}=t,i=e.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(r);return{chart:e,label:o,parsed:i.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:l,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function Zm(e,t){const n=e.chart.ctx,{body:s,footer:r,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=Be(t.bodyFont),d=Be(t.titleFont),u=Be(t.footerFont),h=i.length,f=r.length,g=s.length,x=st(t.padding);let p=x.height,b=0,y=s.reduce((j,S)=>j+S.before.length+S.lines.length+S.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){const j=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=g*j+(y-g)*c.lineHeight+(y-1)*t.bodySpacing}f&&(p+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let v=0;const w=function(j){b=Math.max(b,n.measureText(j).width+v)};return n.save(),n.font=d.string,pe(e.title,w),n.font=c.string,pe(e.beforeBody.concat(e.afterBody),w),v=t.displayColors?o+2+t.boxPadding:0,pe(s,j=>{pe(j.before,w),pe(j.lines,w),pe(j.after,w)}),v=0,n.font=u.string,pe(e.footer,w),n.restore(),b+=x.width,{width:b,height:p}}function TC(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function PC(e,t,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&r+i+o>t.width||e==="right"&&r-i-o<0)return!0}function DC(e,t,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return s==="center"?d=r<=(l+c)/2?"left":"right":r<=i/2?d="left":r>=o-i/2&&(d="right"),PC(d,e,t,n)&&(d="center"),d}function Gm(e,t,n){const s=n.yAlign||t.yAlign||TC(e,n);return{xAlign:n.xAlign||t.xAlign||DC(e,t,n,s),yAlign:s}}function RC(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function LC(e,t,n){let{y:s,height:r}=e;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function Jm(e,t,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=n,d=r+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:g}=_s(o);let x=RC(t,l);const p=LC(t,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,f)+r:l==="right"&&(x+=Math.max(h,g)+r),{x:qt(x,0,s.width-t.width),y:qt(p,0,s.height-t.height)}}function Ao(e,t,n){const s=st(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function ep(e){return en([],fn(e))}function AC(e,t,n){return Us(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function tp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const fy={beforeTitle:un,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:un,beforeBody:un,beforeLabel:un,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return fe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:un,afterBody:un,beforeFooter:un,footer:un,afterFooter:un};function dt(e,t,n,s){const r=e[t].call(n,s);return typeof r>"u"?fy[t].call(n,s):r}class Id extends ns{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new Gx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=AC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=dt(s,"beforeTitle",this,t),i=dt(s,"title",this,t),o=dt(s,"afterTitle",this,t);let l=[];return l=en(l,fn(r)),l=en(l,fn(i)),l=en(l,fn(o)),l}getBeforeBody(t,n){return ep(dt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return pe(t,i=>{const o={before:[],lines:[],after:[]},l=tp(s,i);en(o.before,fn(dt(l,"beforeLabel",this,i))),en(o.lines,dt(l,"label",this,i)),en(o.after,fn(dt(l,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(t,n){return ep(dt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=dt(s,"beforeFooter",this,t),i=dt(s,"footer",this,t),o=dt(s,"afterFooter",this,t);let l=[];return l=en(l,fn(r)),l=en(l,fn(i)),l=en(l,fn(o)),l}_createItems(t){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(MC(this.chart,n[c]));return t.filter&&(l=l.filter((u,h,f)=>t.filter(u,h,f,s))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,s))),pe(l,u=>{const h=tp(t.callbacks,u);r.push(dt(h,"labelColor",this,u)),i.push(dt(h,"labelPointStyle",this,u)),o.push(dt(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const l=ti[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Zm(this,s),d=Object.assign({},l,c),u=Gm(this.chart,s,d),h=Jm(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const i=this.getCaretPosition(t,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=_s(l),{x:f,y:g}=t,{width:x,height:p}=n;let b,y,v,w,j,S;return i==="center"?(j=g+p/2,r==="left"?(b=f,y=b-o,w=j+o,S=j-o):(b=f+x,y=b+o,w=j-o,S=j+o),v=b):(r==="left"?y=f+Math.max(c,u)+o:r==="right"?y=f+x-Math.max(d,h)-o:y=this.caretX,i==="top"?(w=g,j=w-o,b=y-o,v=y+o):(w=g+p,j=w+o,b=y+o,v=y-o),S=w),{x1:b,x2:y,x3:v,y1:w,y2:j,y3:S}}drawTitle(t,n,s){const r=this.title,i=r.length;let o,l,c;if(i){const d=xr(s.rtl,this.x,this.width);for(t.x=Ao(this,s.titleAlign,s),n.textAlign=d.textAlign(s.titleAlign),n.textBaseline="middle",o=Be(s.titleFont),l=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=s.titleMarginBottom-l)}}_drawColorBox(t,n,s,r,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=Be(i.bodyFont),h=Ao(this,"left",i),f=r.x(h),g=c<u.lineHeight?(u.lineHeight-c)/2:0,x=n.y+g;if(i.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=r.leftForLtr(f,d)+d/2,y=x+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,gm(t,p,b,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,gm(t,p,b,y)}else{t.lineWidth=ue(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=r.leftForLtr(f,d),b=r.leftForLtr(r.xPlus(f,1),d-2),y=_s(o.borderRadius);Object.values(y).some(v=>v!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Bi(t,{x:p,y:x,w:d,h:c,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Bi(t,{x:b,y:x+1,w:d-2,h:c-2,radius:y}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(p,x,d,c),t.strokeRect(p,x,d,c),t.fillStyle=o.backgroundColor,t.fillRect(b,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=Be(s.bodyFont);let f=h.lineHeight,g=0;const x=xr(s.rtl,this.x,this.width),p=function(_){n.fillText(_,x.x(t.x+g),t.y+f/2),t.y+=f+i},b=x.textAlign(o);let y,v,w,j,S,N,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Ao(this,b,s),n.fillStyle=s.bodyColor,pe(this.beforeBody,p),g=l&&b!=="right"?o==="center"?d/2+u:d+2+u:0,j=0,N=r.length;j<N;++j){for(y=r[j],v=this.labelTextColors[j],n.fillStyle=v,pe(y.before,p),w=y.lines,l&&w.length&&(this._drawColorBox(n,t,j,x,s),f=Math.max(h.lineHeight,c)),S=0,C=w.length;S<C;++S)p(w[S]),f=h.lineHeight;pe(y.after,p)}g=0,f=h.lineHeight,pe(this.afterBody,p),t.y-=i}drawFooter(t,n,s){const r=this.footer,i=r.length;let o,l;if(i){const c=xr(s.rtl,this.x,this.width);for(t.x=Ao(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Be(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:x}=_s(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+h,c),o==="top"&&this.drawCaret(t,n,s,r),n.lineTo(l+d-f,c),n.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(t,n,s,r),n.lineTo(l+d,c+u-x),n.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(l+g,c+u),n.quadraticCurveTo(l,c+u,l,c+u-g),o==="center"&&i==="left"&&this.drawCaret(t,n,s,r),n.lineTo(l,c+h),n.quadraticCurveTo(l,c,l+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=ti[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Zm(this,t),c=Object.assign({},o,this._size),d=Gm(n,t,c),u=Jm(t,c,d,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=st(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,r,n),Xx(t,n.textDirection),i.y+=o.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),Zx(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Ha(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,n,s),l=this._positionChanged(o,t),c=n||!Ha(o,i)||l;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:r,options:i}=this,o=ti[i.position].call(this,t,n);return o!==!1&&(s!==o.x||r!==o.y)}}se(Id,"positioners",ti);var OC={id:"tooltip",_element:Id,positioners:ti,afterInit(e,t,n){n&&(e.tooltip=new Id({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const IC=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function FC(e,t,n,s){const r=e.indexOf(t);if(r===-1)return IC(e,t,n,s);const i=e.lastIndexOf(t);return r!==i?n:r}const $C=(e,t)=>e===null?null:qt(Math.round(e),0,t);function np(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Fd extends Hs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(fe(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:FC(s,t,de(n,t),this._addedLabels),$C(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return np.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}se(Fd,"id","category"),se(Fd,"defaults",{ticks:{callback:np}});function zC(e,t){const n=[],{bounds:r,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,g=i||1,x=u-1,{min:p,max:b}=t,y=!fe(o),v=!fe(l),w=!fe(d),j=(b-p)/(h+1);let S=lm((b-p)/x/g)*g,N,C,_,R;if(S<1e-14&&!y&&!v)return[{value:p},{value:b}];R=Math.ceil(b/S)-Math.floor(p/S),R>x&&(S=lm(R*S/x/g)*g),fe(c)||(N=Math.pow(10,c),S=Math.ceil(S*N)/N),r==="ticks"?(C=Math.floor(p/S)*S,_=Math.ceil(b/S)*S):(C=p,_=b),y&&v&&i&&Uk((l-o)/i,S/1e3)?(R=Math.round(Math.min((l-o)/S,u)),S=(l-o)/R,C=o,_=l):w?(C=y?o:C,_=v?l:_,R=d-1,S=(_-C)/R):(R=(_-C)/S,la(R,Math.round(R),S/1e3)?R=Math.round(R):R=Math.ceil(R));const T=Math.max(cm(S),cm(C));N=Math.pow(10,fe(c)?T:c),C=Math.round(C*N)/N,_=Math.round(_*N)/N;let k=0;for(y&&(f&&C!==o?(n.push({value:o}),C<o&&k++,la(Math.round((C+k*S)*N)/N,o,sp(o,j,e))&&k++):C<o&&k++);k<R;++k){const P=Math.round((C+k*S)*N)/N;if(v&&P>l)break;n.push({value:P})}return v&&f&&_!==l?n.length&&la(n[n.length-1].value,l,sp(l,j,e))?n[n.length-1].value=l:n.push({value:l}):(!v||_===l)&&n.push({value:_}),n}function sp(e,t,{horizontal:n,minRotation:s}){const r=zn(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class Za extends Hs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return fe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=n?r:c,l=c=>i=s?i:c;if(t){const c=Gn(r),d=Gn(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(r-c)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=zC(r,i);return t.bounds==="ticks"&&Ox(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return rh(t,this.chart.options.locale,this.options.ticks.format)}}class $d extends Za{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ue(t)?t:0,this.max=Ue(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=zn(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}se($d,"id","linear"),se($d,"defaults",{ticks:{callback:Ml.formatters.numeric}});const Ui=e=>Math.floor($n(e)),ms=(e,t)=>Math.pow(10,Ui(e)+t);function rp(e){return e/Math.pow(10,Ui(e))===1}function ip(e,t,n){const s=Math.pow(10,n),r=Math.floor(e/s);return Math.ceil(t/s)-r}function BC(e,t){const n=t-e;let s=Ui(n);for(;ip(e,t,s)>10;)s++;for(;ip(e,t,s)<10;)s--;return Math.min(s,Ui(e))}function VC(e,{min:t,max:n}){t=bt(e.min,t);const s=[],r=Ui(t);let i=BC(t,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=r>i?Math.pow(10,r):0,d=Math.round((t-c)*o)/o,u=Math.floor((t-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),f=bt(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;f<n;)s.push({value:f,major:rp(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((c+u+h*Math.pow(10,i))*o)/o;const g=bt(e.max,f);return s.push({value:g,major:rp(g),significand:h}),s}class op extends Hs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=Za.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return Ue(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ue(t)?Math.max(0,t):null,this.max=Ue(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=t===ms(this.min,0)?ms(this.min,-1):ms(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,r=this.max;const i=l=>s=t?s:l,o=l=>r=n?r:l;s===r&&(s<=0?(i(1),o(10)):(i(ms(s,-1)),o(ms(r,1)))),s<=0&&i(ms(r,-1)),r<=0&&o(ms(s,1)),this.min=s,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=VC(n,this);return t.bounds==="ticks"&&Ox(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":rh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$n(t),this._valueRange=$n(this.max)-$n(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($n(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}se(op,"id","logarithmic"),se(op,"defaults",{ticks:{callback:Ml.formatters.logarithmic,major:{enabled:!0}}});function zd(e){const t=e.ticks;if(t.display&&e.display){const n=st(t.backdropPadding);return de(t.font&&t.font.size,Re.font.size)+n.height}return 0}function UC(e,t,n){return n=Ce(n)?n:[n],{w:lS(e,t.string,n),h:n.length*t.lineHeight}}function ap(e,t,n,s,r){return e===s||e===r?{start:t-n/2,end:t+n/2}:e<s||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function HC(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],r=[],i=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?We/i:0;for(let c=0;c<i;c++){const d=o.setContext(e.getPointLabelContext(c));r[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+r[c],l),h=Be(d.font),f=UC(e.ctx,h,e._pointLabels[c]);s[c]=f;const g=sn(e.getIndexAngle(c)+l),x=Math.round(th(g)),p=ap(x,u.x,f.w,0,180),b=ap(x,u.y,f.h,90,270);WC(n,t,g,p,b)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=QC(e,s,r)}function WC(e,t,n,s,r){const i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,c=0;s.start<t.l?(l=(t.l-s.start)/i,e.l=Math.min(e.l,t.l-l)):s.end>t.r&&(l=(s.end-t.r)/i,e.r=Math.max(e.r,t.r+l)),r.start<t.t?(c=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function qC(e,t,n){const s=e.drawingArea,{extra:r,additionalAngle:i,padding:o,size:l}=n,c=e.getPointPosition(t,s+r+o,i),d=Math.round(th(sn(c.angle+Nt))),u=ZC(c.y,l.h,d),h=YC(d),f=XC(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+l.w,bottom:u+l.h}}function KC(e,t){if(!t)return!0;const{left:n,top:s,right:r,bottom:i}=e;return!(dr({x:n,y:s},t)||dr({x:n,y:i},t)||dr({x:r,y:s},t)||dr({x:r,y:i},t))}function QC(e,t,n){const s=[],r=e._pointLabels.length,i=e.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:zd(i)/2,additionalAngle:o?We/r:0};let d;for(let u=0;u<r;u++){c.padding=n[u],c.size=t[u];const h=qC(e,u,c);s.push(h),l==="auto"&&(h.visible=KC(h,d),h.visible&&(d=h))}return s}function YC(e){return e===0||e===180?"center":e<180?"left":"right"}function XC(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function ZC(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function GC(e,t,n){const{left:s,top:r,right:i,bottom:o}=n,{backdropColor:l}=t;if(!fe(l)){const c=_s(t.borderRadius),d=st(t.backdropPadding);e.fillStyle=l;const u=s-d.left,h=r-d.top,f=i-s+d.width,g=o-r+d.height;Object.values(c).some(x=>x!==0)?(e.beginPath(),Bi(e,{x:u,y:h,w:f,h:g,radius:c}),e.fill()):e.fillRect(u,h,f,g)}}function JC(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let r=t-1;r>=0;r--){const i=e._pointLabelItems[r];if(!i.visible)continue;const o=s.setContext(e.getPointLabelContext(r));GC(n,o,i);const l=Be(o.font),{x:c,y:d,textAlign:u}=i;Is(n,e._pointLabels[r],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function my(e,t,n,s){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,cn);else{let i=e.getPointPosition(0,t);r.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=e.getPointPosition(o,t),r.lineTo(i.x,i.y)}}function eE(e,t,n,s,r){const i=e.ctx,o=t.circular,{color:l,lineWidth:c}=t;!o&&!s||!l||!c||n<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),my(e,n,o,s),i.closePath(),i.stroke(),i.restore())}function tE(e,t,n){return Us(e,{label:n,index:t,type:"pointLabel"})}class Oo extends Za{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=st(zd(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ue(t)&&!isNaN(t)?t:0,this.max=Ue(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zd(this.options))}generateTickLabels(t){Za.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const r=be(this.options.pointLabels.callback,[n,s],this);return r||r===0?r:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?HC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,r))}getIndexAngle(t){const n=cn/(this._pointLabels.length||1),s=this.options.startAngle||0;return sn(t*n+zn(s))}getDistanceFromCenterForValue(t){if(fe(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(fe(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return tE(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const r=this.getIndexAngle(t)-Nt+s;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:r,bottom:i}=this._pointLabelItems[t];return{left:n,top:s,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),my(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:r,border:i}=n,o=this._pointLabels.length;let l,c,d;if(n.pointLabels.display&&JC(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),g=r.setContext(f),x=i.setContext(f);eE(this,g,c,o,x)}}),s.display){for(t.save(),l=o-1;l>=0;l--){const u=s.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const d=s.setContext(this.getContext(c)),u=Be(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,o=t.measureText(l.label).width,t.fillStyle=d.backdropColor;const h=st(d.backdropPadding);t.fillRect(-o/2-h.left,-i-u.size/2-h.top,o+h.width,u.size+h.height)}Is(t,l.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}se(Oo,"id","radialLinear"),se(Oo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ml.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),se(Oo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),se(Oo,"descriptors",{angleLines:{_fallback:"grid"}});const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ht=Object.keys(Dl);function lp(e,t){return e-t}function cp(e,t){if(fe(t))return null;const n=e._adapter,{parser:s,round:r,isoWeekday:i}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Ue(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Ka(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function dp(e,t,n,s){const r=ht.length;for(let i=ht.indexOf(e);i<r-1;++i){const o=Dl[ht[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(l*o.size))<=s)return ht[i]}return ht[r-1]}function nE(e,t,n,s,r){for(let i=ht.length-1;i>=ht.indexOf(n);i--){const o=ht[i];if(Dl[o].common&&e._adapter.diff(r,s,o)>=t-1)return o}return ht[n?ht.indexOf(n):0]}function sE(e){for(let t=ht.indexOf(e)+1,n=ht.length;t<n;++t)if(Dl[ht[t]].common)return ht[t]}function up(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:r}=nh(n,t),i=n[s]>=t?n[s]:n[r];e[i]=!0}}function rE(e,t,n,s){const r=e._adapter,i=+r.startOf(t[0].value,s),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+r.add(l,1,s))c=n[l],c>=0&&(t[c].major=!0);return t}function hp(e,t,n){const s=[],r={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],r[l]=o,s.push({value:l,major:!1});return i===0||!n?s:rE(e,s,r,n)}class Ga extends Hs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new a_._date(t.adapters.date);r.init(n),fi(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:cp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Ue(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Ue(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,l=Yk(r,i,o);return this._unit=n.unit||(s.autoSkip?dp(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):nE(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:sE(this._unit),this.initOffsets(r),t.reverse&&l.reverse(),hp(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=qt(n,0,o),s=qt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||dp(i.minUnit,n,s,this._getLabelCapacity(n)),l=de(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=Ka(c)||c===!0,u={};let h=n,f,g;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(s,n,o)>1e5*l)throw new Error(n+" and "+s+" are too far apart with stepSize of "+l+" "+o);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+t.add(f,l,o),g++)up(u,f,x);return(f===s||r.bounds==="ticks"||g===1)&&up(u,f,x),Object.keys(u).sort(lp).map(p=>+p)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return be(o,[t,n,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=s[n],g=d&&h&&f&&f.major;return this._adapter.format(t,r||(g?h:u))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=zn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,hp(this,[t],this._majorUnit),r),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(cp(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Fx(t.sort(lp))}}se(Ga,"id","time"),se(Ga,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Io(e,t,n){let s=0,r=e.length-1,i,o,l,c;n?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=Rd(e,"pos",t)),{pos:i,time:l}=e[s],{pos:o,time:c}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=Rd(e,"time",t)),{time:i,pos:l}=e[s],{time:o,pos:c}=e[r]);const d=o-i;return d?l+(c-l)*(t-i)/d:l}class fp extends Ga{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Io(n,this.min),this._tableRange=Io(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],i=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=n&&d<=s&&r.push(d);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,l=r.length;o<l;++o)u=r[o+1],c=r[o-1],d=r[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Io(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Io(this._table,s*this._tableRange+this._minPos,!0)}}se(fp,"id","timeseries"),se(fp,"defaults",Ga.defaults);const py="label";function mp(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function iE(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function gy(e,t){e.labels=t}function xy(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:py;const s=[];e.datasets=t.map(r=>{const i=e.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function oE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:py;const n={labels:[],datasets:[]};return gy(n,e.labels),xy(n,e.datasets,t),n}function aE(e,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,g=m.useRef(null),x=m.useRef(null),p=()=>{g.current&&(x.current=new Pl(g.current,{type:o,data:oE(l,i),options:c&&{...c},plugins:d}),mp(t,x.current))},b=()=>{mp(t,null),x.current&&(x.current.destroy(),x.current=null)};return m.useEffect(()=>{!r&&x.current&&c&&iE(x.current,c)},[r,c]),m.useEffect(()=>{!r&&x.current&&gy(x.current.config.data,l.labels)},[r,l.labels]),m.useEffect(()=>{!r&&x.current&&l.datasets&&xy(x.current.config.data,l.datasets,i)},[r,l.datasets]),m.useEffect(()=>{x.current&&(r?(b(),setTimeout(p)):x.current.update(h))},[r,c,l.labels,l.datasets,h]),m.useEffect(()=>{x.current&&(b(),setTimeout(p))},[o]),m.useEffect(()=>(p(),()=>b()),[]),ae.createElement("canvas",{ref:g,role:"img",height:n,width:s,...f},u)}const lE=m.forwardRef(aE);function cE(e,t){return Pl.register(t),m.forwardRef((n,s)=>ae.createElement(lE,{...n,ref:s,type:e}))}const Fo=cE("bar",ca);Pl.register(Fd,$d,ha,EC,OC,_C);const _t=e=>String(e).padStart(2,"0"),$o=()=>{const e=new Date;return`${e.getFullYear()}-${_t(e.getMonth()+1)}-${_t(e.getDate())}`},zo=e=>{const t=new Date,n=new Date;n.setDate(t.getDate()-(e-1));const s=r=>`${r.getFullYear()}-${_t(r.getMonth()+1)}-${_t(r.getDate())}`;return{start:s(n),end:s(t)}},pp=()=>{const e=new Date;return`${e.getFullYear()}-${_t(e.getMonth()+1)}`},yy=e=>{const[t,n]=e.split("-").map(Number);return`${t}-${_t(n)}-01`},vy=e=>{const[t,n]=e.split("-").map(Number),s=new Date(t,n,0).getDate();return`${t}-${_t(n)}-${_t(s)}`},Lt=(e,t=!1)=>t?`${e}T23:59:59`:`${e}T00:00:00`;function dE(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const gp=(e="")=>{const t=String(e).toLowerCase();return t==="sale"||t==="venda"?"Venda":t==="service"||t==="servico"||t==="serviço"?"Serviço":t==="expense"||t==="despesa"?"Despesa":e||"—"},Bo=e=>a.jsx("input",{className:"w-full h-10 px-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/10 focus:border-gray-900 text-sm placeholder:text-gray-400 border-gray-200",...e}),uE=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),xp=e=>a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:a.jsx("path",{d:"M6 9l6 6 6-6"})}),Bd=e=>{const t=new Date(e);return isNaN(t)?String(e||""):(t.setSeconds(0,0),t.toISOString().slice(0,16))},Vd=(e="")=>String(e).toLowerCase().replace(/\s+/g," ").replace(/r\$\s?/g,"").trim(),hE=(e=[])=>e.map(t=>`${t.method}${t.machine?` (${t.machine})`:""}: ${Number(t.amount||0).toFixed(2)}`).join(" | "),Ud=(e,t)=>{const[n,s,r]=e.split("-").map(Number),i=new Date(n,s-1,r);return i.setDate(i.getDate()+t),`${i.getFullYear()}-${_t(i.getMonth()+1)}-${_t(i.getDate())}`};function fE(e=[]){const t=new Map,n=(c=[])=>c.map(d=>`${d.method}|${d.machine||""}|${Number(d.amount||0).toFixed(2)}`).join("||"),s=c=>{const d=Array.isArray(c.paymentMethods)?c.paymentMethods:Array.isArray(c.payments)?c.payments:null;if(!d)return;const u=new Date(c.date).toISOString();return`${c.customerId||""}#${u}#${n(d)}`},r=c=>Vd(c.payment||""),i=c=>c.saleGroupId||c.groupId||c.quoteId||c.saleId||`${c.customerId||""}#${Bd(c.date)}#${r(c)}#${c.customerName||""}`,o=[];e.forEach((c,d)=>{const u=(c.type||"").toLowerCase();if(u!=="sale"&&u!=="venda"){o.push({...c,_order:d});return}const h=i(c),f=t.get(h),g={...c,in:Number(c.in||0),out:Number(c.out||0),_count:1,_payments:new Set(c.payment?[String(c.payment)]:[]),_order:d,viewId:c.saleGroupId||c.groupId||c.quoteId||c.saleId||s(c)||h};f?(f.in+=Number(c.in||0),f.out+=Number(c.out||0),f._count+=1,c.payment&&f._payments.add(String(c.payment))):t.set(h,g)});const l=Array.from(t.values()).map(c=>{const d=c._payments.size?Array.from(c._payments).join(" | "):c.payment||"—",u=c._count>1?` (+${c._count-1} itens)`:"",{_count:h,_payments:f,_order:g,...x}=c;return{...x,payment:d,description:c.description?`${c.description}${u}`:`Venda${u}`,_order:g}});return[...o,...l].sort((c,d)=>c._order-d._order).map(({_order:c,...d})=>d)}function mE({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=Math.max(2,e-r),c=Math.min(t-1,e+r);o.push(1),l>2&&o.push("…");for(let d=l;d<=c;d++)o.push(d);return c<t-1&&o.push("…"),t>1&&o.push(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"«"}),a.jsx("button",{onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Próxima"}),a.jsx("button",{onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"»"})]})}const yp=e=>`${e.getFullYear()}-${_t(e.getMonth()+1)}-${_t(e.getDate())}`;function pE(e,t){const n={search:t};if(e.mode==="day"){const c=Ud(e.date,-1);return{...n,from:Lt(c),to:Lt(c,!0)}}if(e.mode==="month"){const[c,d]=e.month.split("-").map(Number),u=d===1?c-1:c,h=d===1?12:d-1,f=`${u}-${_t(h)}`;return{...n,from:Lt(yy(f)),to:Lt(vy(f),!0)}}const s=new Date(e.startDate),r=new Date(e.endDate),i=r-s+24*60*60*1e3,o=new Date(s.getTime()-i),l=new Date(r.getTime()-i);return{...n,from:Lt(yp(o)),to:Lt(yp(l),!0)}}const gE=(e,t)=>{const n=Number(e||0),s=Number(t||0);return!isFinite(n)||!isFinite(s)||s===0?null:(n-s)/Math.abs(s)*100},xE=(e,t)=>Math.abs(Number(e||0)).toFixed(t),yE=e=>`${xE(e,1)}%`,Vo=e=>e==="day"?"em relação a ontem":e==="month"?"em relação ao mês anterior":"em relação ao período anterior";function Uo({title:e,valueText:t,icon:n,iconClass:s,curr:r,prev:i,label:o,valueClassName:l="text-gray-900"}){const c=gE(r,i),d=(c??0)>=0;return a.jsxs("div",{className:"bg-white border border-gray-100 shadow rounded-md p-5",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("span",{className:`h-9 w-9 rounded-full inline-flex items-center justify-center ${s}`,children:a.jsx(n,{className:"h-5 w-5"})})]}),a.jsx("div",{className:`mt-1 text-2xl font-semibold ${l}`,children:t}),c===null?a.jsx("div",{className:"mt-1 text-sm text-gray-400",children:"Sem base de comparação"}):a.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[d?a.jsx(H5,{className:"h-4 w-4 text-green-600 mr-1"}):a.jsx(B5,{className:"h-4 w-4 text-red-600 mr-1"}),a.jsx("span",{className:d?"text-green-600 font-medium":"text-red-600 font-medium",children:yE(c)}),a.jsxs("span",{className:"ml-1 text-gray-500",children:[d?"acima":"abaixo"," ",o]})]})]})}function vE(){var ne,ye,te,Se,re,Ae,je,ls,fh;const[e,t]=m.useState({mode:"day",date:$o(),month:pp(),startDate:$o(),endDate:$o(),search:""}),n=dE(e.search,300),[s,r]=m.useState({dailySales:[],dailyServices:[],dailyExpenses:[],monthlySales:[],monthlyServices:[],monthlyExpenses:[],ledger:[],totals:{revenueSales:0,revenueServices:0,revenue:0,expenses:0,net:0}}),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[d,u]=m.useState("all"),[h,f]=m.useState(null);m.useEffect(()=>{(async()=>{try{const A=await Ii(),G=Yu(A),he=new Map;for(const ve of G){he.set(String(ve.id),ve.id);const Bt=String(ve.customerId||"").toLowerCase(),cs=String(ve.customerName||"").toLowerCase(),Xe=Bd(ve.date),qs=Vd(hE(ve.paymentMethods||[])),mh=Number(ve.total||0).toFixed(2);he.set(`${Bt}|${Xe}|${qs}`,ve.id),he.set(`${cs}|${Xe}|${qs}`,ve.id),he.set(`${Bt}|${Xe}|${mh}`,ve.id),he.set(`${cs}|${Xe}|${mh}`,ve.id)}f(he)}catch(A){console.error("Falha ao montar índice de vendas:",A),f(new Map)}})()},[]);const g=A=>{if(!h)return null;if(A.viewId&&h.has(String(A.viewId)))return h.get(String(A.viewId));const G=String(A.customerId||"").toLowerCase(),he=String(A.customerName||"").toLowerCase(),ve=Bd(A.date),Bt=Vd(A.payment||""),cs=Number(A.in||0).toFixed(2),Xe=[`${G}|${ve}|${Bt}`,`${he}|${ve}|${Bt}`,`${G}|${ve}|${cs}`,`${he}|${ve}|${cs}`,String(A.viewId||"")];for(const qs of Xe)if(qs&&h.has(qs))return h.get(qs);return null},x=()=>{const A={search:n};return e.mode==="day"?{...A,from:Lt(e.date),to:Lt(e.date,!0)}:e.mode==="month"?{...A,from:Lt(yy(e.month)),to:Lt(vy(e.month),!0)}:{...A,from:Lt(e.startDate),to:Lt(e.endDate,!0)}},[p,b]=m.useState({revenueSales:0,revenueServices:0,expenses:0,net:0});m.useEffect(()=>{(async()=>{try{o(!0);const A=await Yf(x());r(A||{});const G=pE(e,n),he=await Yf(G);b((he==null?void 0:he.totals)||{revenueSales:0,revenueServices:0,expenses:0,net:0})}finally{o(!1)}})()},[e.mode,e.date,e.month,e.startDate,e.endDate,n]);const y=m.useMemo(()=>[...Array.isArray(s.ledger)?s.ledger:[]].sort((G,he)=>new Date(G.date)-new Date(he.date)||G.type.localeCompare(he.type)),[s.ledger]),v=m.useMemo(()=>fE(y),[y]),w=m.useMemo(()=>{const A=n.trim().toLowerCase();return A?v.filter(G=>`${G.type} ${G.description} ${G.customerName} ${G.payment}`.toLowerCase().includes(A)):v},[v,n]),j=m.useMemo(()=>d==="in"?w.filter(A=>Number(A.in||0)>0):d==="out"?w.filter(A=>Number(A.out||0)>0):w,[w,d]),S=m.useMemo(()=>{let A=0;return j.map(G=>(A+=Number(G.in||0)-Number(G.out||0),{...G,balance:A}))},[j]),N=m.useMemo(()=>[...S].sort((A,G)=>new Date(G.date).getTime()-new Date(A.date).getTime()||String(G.type).localeCompare(String(A.type))||String(G.id).localeCompare(String(A.id))),[S]),C=m.useMemo(()=>{const A=j.reduce((he,ve)=>he+Number(ve.in||0),0),G=j.reduce((he,ve)=>he+Number(ve.out||0),0);return{in:A,out:G,net:A-G}},[j]),[_,R]=m.useState(10),[T,k]=m.useState(1);m.useEffect(()=>k(1),[N,_,d]);const P=N.length,I=Math.max(1,Math.ceil(P/_)),z=Math.min(Math.max(1,T),I),D=(z-1)*_,B=Math.min(D+_,P),K=N.slice(D,B),M={labels:(s.dailySales??[]).map(A=>A.date),datasets:[{label:"Vendas (R$)",data:(s.dailySales??[]).map(A=>A.total),backgroundColor:"rgba(59,130,246,.6)",borderColor:"rgb(59,130,246)",borderWidth:1},{label:"Serviços (R$)",data:(s.dailyServices??[]).map(A=>A.total),backgroundColor:"rgba(234,88,12,.6)",borderColor:"rgb(234,88,12)",borderWidth:1}]},E={labels:(s.dailyExpenses??[]).map(A=>A.date),datasets:[{label:"Despesas (R$)",data:(s.dailyExpenses??[]).map(A=>A.total),backgroundColor:"rgba(239,68,68,.6)",borderColor:"rgb(239,68,68)",borderWidth:1}]},F={labels:(s.monthlySales??[]).map(A=>A.month),datasets:[{label:"Vendas (R$)",data:(s.monthlySales??[]).map(A=>A.total),backgroundColor:"rgba(16,185,129,.6)",borderColor:"rgb(16,185,129)",borderWidth:1},{label:"Serviços (R$)",data:(s.monthlyServices??[]).map(A=>A.total),backgroundColor:"rgba(99,102,241,.6)",borderColor:"rgb(99,102,241)",borderWidth:1}]},W={labels:(s.monthlyExpenses??[]).map(A=>A.month),datasets:[{label:"Despesas (R$)",data:(s.monthlyExpenses??[]).map(A=>A.total),backgroundColor:"rgba(244,63,94,.6)",borderColor:"rgb(244,63,94)",borderWidth:1}]},L={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0},x:{ticks:{autoSkip:!0,maxRotation:0}}}},[Y,H]=m.useState(!1),oe=m.useRef(null);m.useEffect(()=>{const A=G=>{var he,ve;(ve=(he=oe.current)==null?void 0:he.parentElement)!=null&&ve.contains(G.target)||H(!1)};return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[]);const me=()=>{t(A=>({...A,mode:"day",date:$o()})),H(!1)},zt=()=>{t(A=>({...A,mode:"month",month:pp()})),H(!1)},Ws=()=>t(A=>({...A,mode:"day",date:Ud(A.date,-1)})),U=()=>t(A=>({...A,mode:"day",date:Ud(A.date,1)})),X=m.useRef(null);if(m.useEffect(()=>{const A=G=>{var he;(G.ctrlKey||G.metaKey)&&G.key.toLowerCase()==="g"&&(G.preventDefault(),(he=X.current)==null||he.focus())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]),i)return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Relatórios"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Carregando…"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-5 gap-4",children:[...Array(5)].map((A,G)=>a.jsx("div",{className:"h-24 rounded-lg bg-gray-100 animate-pulse"},G))}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx("div",{className:"h-80 rounded-lg bg-gray-100 animate-pulse"}),a.jsx("div",{className:"h-80 rounded-lg bg-gray-100 animate-pulse"})]})]});e.mode==="day"?e.date:e.mode==="month"?e.month:`${e.startDate}${e.endDate}`,s.totals;const J=Number(((ne=s.totals)==null?void 0:ne.net)||0);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Relatórios"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Painel central de desempenho: Vendas, Serviços e Despesas"})]}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/70",children:a.jsxs("div",{className:"px-3 py-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("div",{className:"flex items-center gap-6",children:[{k:"day",l:"Dia"},{k:"month",l:"Mês"},{k:"range",l:"Período"}].map(A=>a.jsxs("button",{onClick:()=>t(G=>({...G,mode:A.k})),className:`relative pb-2 text-sm font-medium ${e.mode===A.k?"text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:[A.l,e.mode===A.k&&a.jsx("span",{className:"absolute -bottom-px left-0 right-0 h-0.5 bg-red-600 rounded-full"})]},A.k))}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.mode==="day"?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Ws,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Dia anterior",children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{ref:oe,type:"button",onClick:()=>H(A=>!A),className:"inline-flex items-center gap-2 rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm hover:bg-gray-50",children:[a.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center border border-gray-300 rounded-[3px] text-[10px]",children:"▦"}),e.mode==="day"?"Hoje":e.mode==="month"?"Mês atual":"Período",a.jsx(xp,{className:"h-4 w-4 text-gray-400"})]}),Y&&a.jsxs("div",{className:"absolute right-0 z-10 mt-2 w-72 rounded-lg border border-gray-200 bg-white p-3 shadow-lg",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1 pb-2",children:"Rápido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:me,children:"Hoje"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:zt,children:"Mês atual"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:()=>{const A=zo(7);t(G=>({...G,mode:"range",startDate:A.start,endDate:A.end})),H(!1)},children:"Últimos 7 dias"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:()=>{const A=zo(30);t(G=>({...G,mode:"range",startDate:A.start,endDate:A.end})),H(!1)},children:"Últimos 30 dias"})]}),a.jsx("div",{className:"my-3 h-px bg-gray-100"}),e.mode==="day"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1",children:"Dia"}),a.jsx(Bo,{type:"date",value:e.date,onChange:A=>t(G=>({...G,date:A.target.value}))})]})]})]}),a.jsx("button",{onClick:U,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Próximo dia",children:a.jsx(xl,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsxs("button",{ref:oe,type:"button",onClick:()=>H(A=>!A),className:"inline-flex items-center gap-2 rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm hover:bg-gray-50",children:[a.jsx("span",{className:"inline-flex h-4 w-4 items-center justify-center border border-gray-300 rounded-[3px] text-[10px]",children:"▦"}),e.mode==="day"?"Hoje":e.mode==="month"?"Mês atual":"Período",a.jsx(xp,{className:"h-4 w-4 text-gray-400"})]}),Y&&a.jsxs("div",{className:"absolute right-0 z-10 mt-2 w-72 rounded-lg border border-gray-200 bg-white p-3 shadow-lg",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1 pb-2",children:"Rápido"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:me,children:"Hoje"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:zt,children:"Mês atual"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:()=>{const A=zo(7);t(G=>({...G,mode:"range",startDate:A.start,endDate:A.end})),H(!1)},children:"Últimos 7 dias"}),a.jsx("button",{className:"rounded-md border px-2 py-2 text-left text-sm hover:bg-gray-50",onClick:()=>{const A=zo(30);t(G=>({...G,mode:"range",startDate:A.start,endDate:A.end})),H(!1)},children:"Últimos 30 dias"})]}),a.jsx("div",{className:"my-3 h-px bg-gray-100"}),e.mode==="month"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1",children:"Mês"}),a.jsx(Bo,{type:"month",value:e.month,onChange:A=>t(G=>({...G,month:A.target.value}))})]}),e.mode==="range"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1",children:"Início"}),a.jsx(Bo,{type:"date",value:e.startDate,onChange:A=>t(G=>({...G,startDate:A.target.value}))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-semibold text-gray-500 px-1",children:"Fim"}),a.jsx(Bo,{type:"date",value:e.endDate,min:e.startDate,onChange:A=>t(G=>({...G,endDate:A.target.value}))})]})]})]})]}),a.jsxs("div",{className:"relative w-72",children:[a.jsx(uE,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{ref:X,type:"text",placeholder:"Search or type a command (Ctrl + G)",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:e.search,onChange:A=>t(G=>({...G,search:A.target.value}))})]}),a.jsxs("button",{type:"button",onClick:()=>{c(!0);try{const G=[["Data","Tipo","Descrição","Cliente","Pagamento","Entrada","Saída","Saldo"].join(",")];S.forEach(Xe=>{G.push([`"${Xe.date?Xs(Xe.date):""}"`,`"${gp(Xe.type)}"`,`"${(Xe.description||"").replaceAll('"','""')}"`,`"${(Xe.customerName||"").replaceAll('"','""')}"`,`"${(Xe.payment||"").replaceAll('"','""')}"`,Xe.in??0,Xe.out??0,Xe.balance??0].join(","))});const he=new Blob([G.join(`
`)],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(he),Bt=document.createElement("a"),cs=e.mode==="day"?e.date:e.mode==="month"?e.month:`${e.startDate}_a_${e.endDate}`;Bt.href=ve,Bt.download=`fluxo_caixa_${d}_${cs}.csv`,document.body.appendChild(Bt),Bt.click(),Bt.remove(),URL.revokeObjectURL(ve)}finally{c(!1)}},disabled:l||P===0,className:"inline-flex items-center gap-2 rounded-md bg-green-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green disabled:opacity-60",children:[a.jsx(Q0,{className:"h-5 w-5"}),"Exportar"]})]})]})}),a.jsxs("div",{className:"mt-2 text-sm text-black-500",children:["Período atual:"," ",a.jsx("strong",{children:e.mode==="day"?Xs(e.date):e.mode==="month"?e.month:`${Xs(e.startDate)} a ${Xs(e.endDate)}`})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Uo,{title:"Vendas do Período",valueText:q(((ye=s.totals)==null?void 0:ye.revenueSales)||0),icon:nk,iconClass:"bg-indigo-100 text-indigo-600",curr:((te=s.totals)==null?void 0:te.revenueSales)||0,prev:(p==null?void 0:p.revenueSales)||0,label:Vo(e.mode)}),a.jsx(Uo,{title:"Serviços do Período",valueText:q(((Se=s.totals)==null?void 0:Se.revenueServices)||0),icon:ik,iconClass:"bg-amber-100 text-amber-600",curr:((re=s.totals)==null?void 0:re.revenueServices)||0,prev:(p==null?void 0:p.revenueServices)||0,label:Vo(e.mode)}),a.jsx(Uo,{title:"Despesas do Período",valueText:q(((Ae=s.totals)==null?void 0:Ae.expenses)||0),icon:K5,iconClass:"bg-rose-100 text-rose-600",curr:((je=s.totals)==null?void 0:je.expenses)||0,prev:(p==null?void 0:p.expenses)||0,label:Vo(e.mode),valueClassName:"text-red-600"}),a.jsx(Uo,{title:"Saldo (Receitas - Despesas)",valueText:q(((ls=s.totals)==null?void 0:ls.net)||0),icon:X5,iconClass:"bg-emerald-100 text-emerald-600",curr:((fh=s.totals)==null?void 0:fh.net)||0,prev:(p==null?void 0:p.net)||0,label:Vo(e.mode),valueClassName:J>=0?"text-emerald-600":"text-red-600"})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(on,{title:"Receita Diária (Vendas + Serviços)",children:a.jsx("div",{className:"h-80",children:a.jsx(Fo,{data:M,options:L})})}),a.jsx(on,{title:"Despesas Diárias",children:a.jsx("div",{className:"h-80",children:a.jsx(Fo,{data:E,options:L})})}),a.jsx(on,{title:"Receita Mensal (últimos 6 meses)",children:a.jsx("div",{className:"h-80",children:a.jsx(Fo,{data:F,options:L})})}),a.jsx(on,{title:"Despesas Mensais (últimos 6 meses)",children:a.jsx("div",{className:"h-80",children:a.jsx(Fo,{data:W,options:L})})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Fluxo de Contabilidade"}),a.jsx("div",{className:"inline-flex rounded-md border border-gray-200 overflow-hidden w-max",children:[{k:"all",label:"Todos"},{k:"in",label:"Entradas"},{k:"out",label:"Saídas"}].map(A=>a.jsx("button",{onClick:()=>u(A.k),className:`px-3 py-1.5 text-sm ${d===A.k?"btn-primary text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:A.label},A.k))})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Totais do período exibido"}),a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsxs("span",{className:"mr-3",children:["Entrada: ",a.jsx("strong",{children:q(C.in)})]}),a.jsxs("span",{className:"mr-3",children:["Saída:"," ",a.jsx("strong",{className:"text-red-600",children:q(C.out)})]}),a.jsxs("span",{children:["Saldo:"," ",a.jsx("strong",{className:C.net<0?"text-red-600":"text-gray-900",children:q(C.net)})]})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Exibindo ",P===0?0:D+1,"–",B," de ",P]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left  text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),a.jsx("th",{className:"px-6 py-3 text-left  text-xs font-medium uppercase tracking-wider text-gray-500",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left  text-xs font-medium uppercase tracking-wider text-gray-500",children:"Descrição"}),a.jsx("th",{className:"px-6 py-3 text-left  text-xs font-medium uppercase tracking-wider text-gray-500",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left  text-xs font-medium uppercase tracking-wider text-gray-500",children:"Pagamento"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Entrada"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Saída"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Saldo"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:K.length>0?K.map(A=>{const he=(A.type||"").toLowerCase()==="sale"||(A.type||"").toLowerCase()==="venda"?g(A):null;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-3 text-sm text-gray-700 whitespace-nowrap",children:A.date?Xs(A.date):"—"}),a.jsx("td",{className:"px-6 py-3 text-sm font-medium",children:gp(A.type)}),a.jsx("td",{className:"px-6 py-3 text-sm",children:A.description}),a.jsx("td",{className:"px-6 py-3 text-sm",children:A.customerName||"—"}),a.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:A.payment||"—"}),a.jsx("td",{className:"px-6 py-3 text-sm text-right text-green-700",children:A.in?q(A.in):"—"}),a.jsx("td",{className:"px-6 py-3 text-sm text-right text-red-600",children:A.out?q(A.out):"—"}),a.jsx("td",{className:`px-6 py-3 text-sm text-right ${A.balance<0?"text-red-600":"text-gray-900"}`,children:q(A.balance)}),a.jsx("td",{className:"px-6 py-3 text-sm text-center",children:he?a.jsx(Ee,{to:`/sales/view/${encodeURIComponent(he)}`,className:"inline-flex p-1 text-gray-700 hover:text-gray-900",title:"Ver detalhes da venda",children:a.jsx(Xi,{className:"h-5 w-5"})}):a.jsx("span",{className:"text-gray-400",children:"—"})})]},A.id||`${A.type}-${A.date}-${A.description}`)}):a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"Nenhum lançamento no período"})})})]})}),a.jsxs("div",{className:"flex flex-col gap-3 border-t bg-white px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Itens por página"}),a.jsx("select",{className:"rounded-md border border-gray-200 bg-white px-2 py-1 text-sm text-gray-700 shadow-sm",value:_,onChange:A=>R(Number(A.target.value)),children:[10,20,50,100].map(A=>a.jsx("option",{value:A,children:A},A))})]}),a.jsx(mE,{currentPage:z,totalPages:I,onChange:A=>k(A),className:"justify-center",windowSize:1}),a.jsx("div",{className:"text-sm text-gray-600",children:P>0?a.jsxs(a.Fragment,{children:["Exibindo ",a.jsx("strong",{children:D+1}),"–",a.jsx("strong",{children:B})," de ",a.jsx("strong",{children:P})]}):"Nenhum registro"})]})]})})]})}const Z={red:"#ea1d2c",redDark:"#d81b28",border:"#d9d9d9",text:"#2b2b2b",muted:"#7a7a7a",bgApp:"#f3f3f3",card:"#ffffff",rightPanel:"#f1f1f1"},vp=86,by="pdv_parked_sales_v1",wy={products:[],customers:[],filteredProducts:[],isLoading:!0,searchTerm:"",cart:[],selectedCustomerId:"",quickCustomerName:"",showQuickCustomer:!1,payments:[],discountValue:0,discountPct:0,surchargeValue:0,printReceipt:!0,notes:"",parked:[]};function bp(){try{const e=localStorage.getItem(by);return e?JSON.parse(e):[]}catch{return[]}}function Sc(e){localStorage.setItem(by,JSON.stringify(e))}function bE(e,t){switch(t.type){case"SET_DATA":{const{products:n,customers:s}=t.payload,r=n.filter(i=>Number(i.stock)>0);return{...e,products:n,customers:s,filteredProducts:r,isLoading:!1,parked:bp()}}case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_SEARCH":{const n=t.payload.trim().toLowerCase(),s=n?e.products.filter(r=>`${r.name} ${r.brand} ${r.code??""}`.toLowerCase().includes(n)):e.products.filter(r=>Number(r.stock)>0);return{...e,searchTerm:t.payload,filteredProducts:s}}case"ADD_TO_CART":{const n=t.payload,s=e.cart.find(r=>r.id===n.id);if(s){if(s.quantity>=n.stock)return $.warning(`Estoque máximo atingido para ${n.name}`),e;const r=e.cart.map(i=>i.id===n.id?{...i,quantity:i.quantity+1,total:(i.quantity+1)*i.price}:i);return{...e,cart:r}}return{...e,cart:[...e.cart,{id:n.id,name:n.name,brand:n.brand,price:Number(n.price)||0,quantity:1,stock:Number(n.stock)||0,total:Number(n.price)||0}]}}case"REMOVE_FROM_CART":return{...e,cart:e.cart.filter(n=>n.id!==t.payload)};case"UPDATE_QTY":{const{id:n,qty:s}=t.payload;if(s<=0)return e;const r=e.cart.find(o=>o.id===n);if(!r)return e;if(s>r.stock)return $.warning(`Estoque máximo atingido para ${r.name}`),e;const i=e.cart.map(o=>o.id===n?{...o,quantity:s,total:s*o.price}:o);return{...e,cart:i}}case"CLEAR_CART":return{...e,cart:[]};case"SET_CUSTOMER":return{...e,selectedCustomerId:t.payload};case"SET_QUICK_CUSTOMER":return{...e,quickCustomerName:t.payload};case"TOGGLE_QUICK_CUSTOMER":return{...e,showQuickCustomer:!e.showQuickCustomer};case"ADD_PAYMENT":{const n=t.payload,s=typeof n=="object"&&n!==null,r=Number((s?n.amount:n)||0);if(r<=0)return $.info("Nada a adicionar — total já coberto."),e;const i={id:Date.now(),method:s&&n.method?n.method:"Dinheiro",amount:Number(r.toFixed(2)),machine:"",installments:1};return{...e,payments:[...e.payments,i]}}case"UPDATE_PAYMENT":{const{id:n,field:s,value:r}=t.payload,i=e.payments.map(o=>o.id===n?{...o,[s]:s==="amount"||s==="installments"?Number(r)||0:r,...s==="method"&&r!=="Cartão de Crédito"&&r!=="Cartão de Débito"?{machine:"",installments:1}:{}}:o);return{...e,payments:i}}case"REMOVE_PAYMENT":return{...e,payments:e.payments.filter(n=>n.id!==t.payload)};case"CLEAR_PAYMENTS":return{...e,payments:[]};case"SET_DISCOUNT_VALUE":return{...e,discountValue:Number(t.payload)||0,discountPct:0};case"SET_DISCOUNT_PCT":return{...e,discountPct:Number(t.payload)||0};case"SET_SURCHARGE":return{...e,surchargeValue:Number(t.payload)||0};case"SET_PRINT":return{...e,printReceipt:!!t.payload};case"SET_NOTES":return{...e,notes:t.payload};case"LOAD_PARKED":return{...e,parked:bp()};case"PARK_CURRENT":{const n={cart:e.cart,payments:e.payments,selectedCustomerId:e.selectedCustomerId,discountValue:e.discountValue,discountPct:e.discountPct,surchargeValue:e.surchargeValue,notes:e.notes},r=[{id:Date.now(),createdAt:new Date().toISOString(),snapshot:n},...e.parked];return Sc(r),$.success("Venda estacionada!"),{...e,parked:r}}case"RESUME_PARKED":{const n=t.payload,s=e.parked.find(i=>i.id===n);if(!s)return e;const r=e.parked.filter(i=>i.id!==n);return Sc(r),{...e,...s.snapshot,parked:r}}case"DELETE_PARKED":{const n=t.payload,s=e.parked.filter(r=>r.id!==n);return Sc(s),{...e,parked:s}}case"RESET_ALL":return{...wy,products:e.products,customers:e.customers,filteredProducts:e.filteredProducts,parked:e.parked,isLoading:!1};default:return e}}function wE({currentStep:e,setCurrentStep:t}){const n=ae.useMemo(()=>[{label:"Produto (Alt+Z)",key:"produto"},{label:"Cliente (Alt+C)",key:"cliente"},{label:"Pagamento (Alt+B)",key:"pagamento"}],[]),s=18;return a.jsx("div",{style:{display:"flex",background:"#fff",borderRadius:8,marginBottom:10,overflow:"hidden",padding:4,border:`1px solid ${Z.border}`},children:n.map((r,i)=>{const o=e===r.key;return a.jsxs("div",{onClick:()=>t(r.key),style:{flex:1,position:"relative",padding:"10px 16px",textAlign:"center",fontWeight:800,fontSize:14,color:o?"#fff":"#666",background:o?Z.red:"#e1e1e1",cursor:"pointer",userSelect:"none",transition:"background .2s ease",borderTopLeftRadius:i===0?6:0,borderBottomLeftRadius:i===0?6:0,borderTopRightRadius:i===n.length-1?6:0,borderBottomRightRadius:i===n.length-1?6:0,zIndex:o?3:1},children:[r.label,o&&i<n.length-1&&a.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:"calc(100% - 1px)",width:s,background:Z.red,clipPath:"polygon(0 0, 100% 50%, 0 100%)",zIndex:4,pointerEvents:"none"}})]},r.key)})})}function ot({label:e,icon:t,children:n,outlined:s,danger:r,onClick:i,style:o,title:l,disabled:c}){const d={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,borderRadius:8,padding:"10px 14px",fontSize:14,fontWeight:700,cursor:c?"not-allowed":"pointer",opacity:c?.6:1,border:s?`1.5px solid ${Z.red}`:"none",background:s?"#fff":Z.red,color:s?Z.red:"#fff",transition:"filter .15s ease",boxShadow:s?"none":"0 2px 4px rgba(0,0,0,0.08)",...o};return a.jsxs("button",{type:"button",onClick:c?void 0:i,title:l,style:d,onMouseDown:u=>u.currentTarget.style.filter="brightness(.95)",onMouseUp:u=>u.currentTarget.style.filter="none",onMouseLeave:u=>u.currentTarget.style.filter="none",disabled:c,children:[t,e??n]})}const Tt=ae.forwardRef(({style:e,...t},n)=>a.jsx("input",{ref:n,...t,style:{width:"100%",border:`1px solid ${Z.border}`,borderRadius:8,padding:"10px 12px",outline:"none",fontSize:14,color:Z.text,background:"#fff",...e}}));function jy({checked:e,onChange:t,id:n}){return a.jsx("input",{id:n,type:"checkbox",checked:!!e,onChange:s=>t&&t(s.target.checked),style:{width:18,height:18,accentColor:Z.red,cursor:"pointer"}})}function jE({state:e,dispatch:t,firstFiltered:n,totalDue:s,totalPayments:r,searchRef:i,barcodeReader:o,setBarcodeReader:l}){const c=m.useMemo(()=>[...e.filteredProducts||[]].sort((d,u)=>String((d==null?void 0:d.name)||"").localeCompare(String((u==null?void 0:u.name)||""),"pt-BR",{sensitivity:"base"})),[e.filteredProducts]);return a.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[a.jsx(Tt,{ref:i,placeholder:"F4 para focar — pesquise por nome, marca ou código (Enter adiciona 1º)",value:e.searchTerm,onChange:d=>t({type:"SET_SEARCH",payload:d.target.value}),onKeyDown:d=>{d.key==="Enter"&&n&&t({type:"ADD_TO_CART",payload:n})},style:{flex:1}}),a.jsx(ot,{title:"F2 — adiciona método com o restante",onClick:()=>t({type:"ADD_PAYMENT",payload:Math.max(0,s-r)}),icon:a.jsx(a2,{style:{width:18,height:18}}),outlined:!0,style:{padding:"10px 12px"}}),a.jsx(ot,{title:"Estacionar venda atual",onClick:()=>{t({type:"PARK_CURRENT"}),t({type:"RESET_ALL"})},outlined:!0,style:{background:"#fff",color:"#333",borderColor:Z.border},icon:a.jsx(D2,{style:{width:18,height:18}})}),a.jsx(ot,{title:"Recarregar estacionadas",onClick:()=>t({type:"LOAD_PARKED"}),outlined:!0,style:{background:"#fff",color:"#333",borderColor:Z.border},icon:a.jsx(qw,{style:{width:18,height:18}})})]}),a.jsxs("label",{htmlFor:"barcodeReader",style:{display:"flex",alignItems:"center",gap:8,marginBottom:10,color:"#555",fontSize:14},children:[a.jsx(jy,{id:"barcodeReader",checked:o,onChange:l}),"Leitor de código de barras"]}),a.jsxs("div",{style:{border:`1px solid ${Z.border}`,borderRadius:8,display:"flex",flexDirection:"column",overflow:"hidden",background:"#fff",minHeight:0,flex:1},children:[a.jsxs("div",{style:{padding:10,borderBottom:`1px solid ${Z.border}`,fontWeight:800,display:"flex",justifyContent:"space-between"},children:[a.jsxs("span",{children:["Produtos (",e.filteredProducts.length,")"]}),a.jsx("span",{style:{color:Z.muted,fontWeight:600},children:"Enter adiciona o primeiro"})]}),a.jsx("div",{style:{flex:1,minHeight:0,overflowY:"auto"},children:e.isLoading?a.jsx("div",{style:{padding:16,color:Z.muted},children:"Carregando…"}):c.length?c.map(d=>a.jsxs("div",{onClick:()=>t({type:"ADD_TO_CART",payload:d}),style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderBottom:`1px solid ${Z.border}`,cursor:"pointer",background:"#fff"},children:[a.jsxs("div",{style:{minWidth:0},children:[a.jsx("div",{style:{fontWeight:700,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.name}),a.jsxs("div",{style:{fontSize:12,color:Z.muted},children:[a.jsx("span",{style:{background:"#f3f3f3",padding:"2px 6px",borderRadius:6,marginRight:6},children:d.brand}),"Est.: ",d.stock," ",d.code?` • ${d.code}`:""]})]}),a.jsx("div",{style:{fontWeight:800},children:q(d.price)})]},d.id)):a.jsxs("div",{style:{padding:16,color:Z.muted,display:"flex",alignItems:"center",gap:8},children:[a.jsx(I2,{style:{width:18,height:18}})," Nenhum produto encontrado."]})})]})]})}const NE=ae.memo(jE);function kE({style:e,...t}){return a.jsx("textarea",{...t,style:{width:"100%",border:`1px solid ${Z.border}`,borderRadius:8,padding:"10px 12px",outline:"none",fontSize:14,color:Z.text,background:"#fff",resize:"vertical",...e}})}function Hd({options:e=[],value:t,onChange:n,style:s,placeholder:r}){const i="data:image/svg+xml;utf8,"+encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");return a.jsxs("select",{value:t??"",onChange:o=>n&&n(o.target.value||""),style:{width:"100%",border:`1px solid ${Z.border}`,borderRadius:8,padding:"10px 36px 10px 12px",outline:"none",fontSize:14,color:Z.text,backgroundColor:"#fff",appearance:"none",backgroundImage:`url("${i}")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",...s},children:[a.jsx("option",{value:"",children:r||"Selecione"}),e.map(o=>a.jsx("option",{value:o.value??o.code??o.id,children:o.label??o.name},o.value??o.code??o.id))]})}function SE({state:e,dispatch:t,handleQuickCustomerAdd:n}){return a.jsxs("div",{children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:10,alignItems:"end",marginBottom:10},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:6,color:"#444",fontSize:14},children:"Cliente (opcional)"}),a.jsx(Hd,{value:e.selectedCustomerId,onChange:s=>t({type:"SET_CUSTOMER",payload:s}),options:e.customers.map(s=>({value:s.id,label:s.name})),placeholder:"Selecione um cliente"})]}),a.jsx(ot,{title:"Cadastro rápido",onClick:()=>t({type:"TOGGLE_QUICK_CUSTOMER"}),icon:a.jsx(Z2,{style:{width:18,height:18}}),style:{background:"#16a34a"},children:"Novo"})]}),e.showQuickCustomer&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:10,marginBottom:10},children:[a.jsx(Tt,{placeholder:"Nome rápido do cliente",value:e.quickCustomerName,onChange:s=>t({type:"SET_QUICK_CUSTOMER",payload:s.target.value}),onKeyDown:s=>s.key==="Enter"&&n()}),a.jsx(ot,{onClick:n,style:{background:"#16a34a"},children:"Salvar"})]}),a.jsx(kE,{rows:3,placeholder:"Observações na venda (opcional)",value:e.notes,onChange:s=>t({type:"SET_NOTES",payload:s.target.value}),style:{marginTop:10}})]})}const _E=ae.memo(SE);function CE({open:e,onClose:t,title:n,footer:s,children:r}){return e?a.jsx("div",{role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,.35)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:t,children:a.jsxs("div",{style:{width:520,maxWidth:"92vw",background:"#fff",borderRadius:10,boxShadow:"0 10px 28px rgba(0,0,0,.25)",overflow:"hidden"},onClick:i=>i.stopPropagation(),children:[a.jsx("div",{style:{padding:"12px 16px",borderBottom:`1px solid ${Z.border}`,fontWeight:800},children:n}),a.jsx("div",{style:{padding:16},children:r}),a.jsx("div",{style:{padding:12,borderTop:`1px solid ${Z.border}`,display:"flex",gap:8,justifyContent:"flex-end"},children:s})]})}):null}const EE="/assets/maquininha2-89040dfe.png",ME="/assets/pix-113e452d.svg",TE="/assets/real-d49b0dc5.png";async function PE(){try{const t=await(await fetch("http://localhost:8080/gerar-carne",{method:"GET"})).blob(),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="carne-pagamento-12x.pdf",document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(n)}catch{$.error("Falha ao gerar carnê")}}function DE({state:e,dispatch:t,subtotal:n,discount:s,surcharge:r,totalDue:i,totalPayments:o,change:l}){const[c,d]=m.useState(!1);return a.jsxs("div",{children:[a.jsx("h5",{style:{margin:"0 0 6px",fontWeight:800},children:"Totais"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10,marginBottom:8},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Subtotal"}),a.jsx(Tt,{type:"text",value:q(n),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Desconto (R$)"}),a.jsx(Tt,{step:"0.01",min:"0",value:e.discountPct>0?0:e.discountValue,onChange:u=>t({type:"SET_DISCOUNT_VALUE",payload:u.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Desconto (%)"}),a.jsx(Tt,{step:"0.1",min:"0",max:"100",value:e.discountPct,onChange:u=>t({type:"SET_DISCOUNT_PCT",payload:u.target.value})})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:10},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Acréscimo (R$)"}),a.jsx(Tt,{step:"0.01",min:"0",value:e.surchargeValue,onChange:u=>t({type:"SET_SURCHARGE",payload:u.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Total a pagar"}),a.jsx(Tt,{type:"text",value:q(i),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontWeight:800,display:"block",marginBottom:6},children:"Total pago"}),a.jsx(Tt,{type:"text",value:q(o),readOnly:!0})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"12px 0 8px"},children:[a.jsx("h5",{style:{margin:0,fontWeight:800},children:"Forma de Pagamento"}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,color:"#555",fontSize:14},children:[a.jsx(jy,{checked:e.printReceipt,onChange:u=>t({type:"SET_PRINT",payload:u})}),"Imprimir recibo"]})]}),a.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"space-between",marginBottom:10,flexWrap:"wrap"},children:[a.jsx(ot,{outlined:!0,label:"Dinheiro (F2)",icon:a.jsx("img",{src:TE,alt:"Real Icon",style:{width:28,height:28}}),onClick:()=>{const u=Math.max(0,i-o);if(!u)return $.info("Sem restante.");t({type:"ADD_PAYMENT",payload:u})},style:{flex:1,minWidth:160,maxWidth:200,background:"#fff",borderColor:Z.red,color:Z.red}}),a.jsx(ot,{outlined:!0,label:"PIX — Gerar QR Code",icon:a.jsx("img",{src:ME,alt:"Pix Icon",style:{width:28,height:28}}),onClick:()=>{const u=Math.max(0,i-o);if(!u)return $.info("Sem restante.");t({type:"ADD_PAYMENT",payload:{amount:u,method:"PIX"}}),$.success("PIX adicionado (simulado). Integração real do QR fica no backend.")},style:{flex:1,minWidth:160,maxWidth:230,background:"#fff",borderColor:Z.red,color:Z.red}}),a.jsx(ot,{outlined:!0,label:"Maquininha — Débito/Crédito",icon:a.jsx("img",{src:EE,alt:"POS",style:{width:40}}),onClick:()=>{const u=Math.max(0,i-o);if(!u)return $.info("Sem restante.");t({type:"ADD_PAYMENT",payload:{amount:u,method:"Cartão de Crédito"}}),$.info("Selecione a máquina e, se crédito, informe as parcelas.")},style:{flex:1,minWidth:180,maxWidth:240,background:"#fff",borderColor:Z.red,color:Z.red}})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,minHeight:0},children:[a.jsx("div",{style:{display:"grid",gap:10,maxHeight:"40vh",overflowY:"auto",paddingRight:4},children:e.payments.map(u=>a.jsxs("div",{style:{border:`1px solid ${Z.border}`,borderRadius:8,padding:12},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:10},children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:6,fontSize:13,color:"#555"},children:"Método"}),a.jsx(Hd,{value:u.method,onChange:h=>t({type:"UPDATE_PAYMENT",payload:{id:u.id,field:"method",value:h}}),options:it.map(h=>({value:h,label:h}))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:6,fontSize:13,color:"#555"},children:"Valor"}),a.jsx(Tt,{step:"0.01",min:"0",value:u.amount,onChange:h=>t({type:"UPDATE_PAYMENT",payload:{id:u.id,field:"amount",value:h.target.value}})})]}),(u.method==="Cartão de Crédito"||u.method==="Cartão de Débito")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:6,fontSize:13,color:"#555"},children:"Máquina"}),a.jsx(Hd,{value:u.machine,onChange:h=>t({type:"UPDATE_PAYMENT",payload:{id:u.id,field:"machine",value:h}}),options:Xu.map(h=>({value:h.name,label:h.name})),placeholder:"Selecione a máquina"})]}),u.method==="Cartão de Crédito"&&a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",marginBottom:6,fontSize:13,color:"#555"},children:"Parcelas"}),a.jsx(Tt,{value:u.installments,onChange:h=>t({type:"UPDATE_PAYMENT",payload:{id:u.id,field:"installments",value:h.target.value}})})]})]})]}),a.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between"},children:[a.jsx("button",{type:"button",onClick:()=>t({type:"UPDATE_PAYMENT",payload:{id:u.id,field:"amount",value:Math.max(0,i-o+u.amount)}}),style:{fontSize:12,color:"#555"},children:"Usar restante"}),a.jsx("button",{type:"button",onClick:()=>t({type:"REMOVE_PAYMENT",payload:u.id}),style:{color:Z.red,fontWeight:700},children:"Remover"})]})]},u.id))}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("small",{style:{color:"#666"},children:"Dica: F2 adiciona o restante automaticamente."}),a.jsx("div",{style:{display:"flex",gap:8},children:a.jsx(ot,{outlined:!0,title:"Limpar pagamentos",onClick:()=>t({type:"CLEAR_PAYMENTS"}),icon:a.jsx(ej,{style:{width:14,height:14}}),style:{height:28,padding:"2px 8px",fontSize:12,borderRadius:4}})})]})]}),a.jsxs(CE,{open:c,onClose:()=>d(!1),title:"Confirme os Dados do Carnê",footer:a.jsxs(a.Fragment,{children:[a.jsx(ot,{outlined:!0,label:"Cancelar",onClick:()=>d(!1),style:{borderColor:Z.border,color:"#555"}}),a.jsx(ot,{label:"Confirmar e Baixar",onClick:async()=>{await PE(),d(!1)}})]}),children:[a.jsx("h5",{style:{marginTop:0,marginBottom:8,fontWeight:800},children:"Resumo do Carnê"}),a.jsx("ul",{style:{marginLeft:18,lineHeight:1.6},children:a.jsxs("li",{children:["Total: ",q(i)]})})]})]})}const RE=ae.memo(DE);function LE(){const[e,t]=m.useReducer(bE,wy),[n,s]=m.useState("produto"),[r,i]=m.useState(!1),o=m.useRef(null),l=qe(),[c,d]=m.useState({}),u=(k,P)=>{const I=Math.max(1,Number((P??"").trim()||"1"));t({type:"UPDATE_QTY",payload:{id:k,qty:I}}),d(z=>{const D={...z};return delete D[k],D})};m.useEffect(()=>{(async()=>{try{t({type:"SET_LOADING",payload:!0});const[k,P]=await Promise.all([Sr(),_l()]);t({type:"SET_DATA",payload:{products:k,customers:P}})}catch(k){console.error(k),$.error("Erro ao carregar dados")}finally{t({type:"SET_LOADING",payload:!1})}})()},[]);const h=m.useMemo(()=>e.cart.reduce((k,P)=>k+P.total,0),[e.cart]),f=m.useMemo(()=>{const k=Math.max(0,Math.min(100,e.discountPct||0));return Number((h*k/100).toFixed(2))},[h,e.discountPct]),g=e.discountPct>0?f:Math.min(e.discountValue||0,h),x=Math.max(0,e.surchargeValue||0),p=m.useMemo(()=>Math.max(0,Number((h-g+x).toFixed(2))),[h,g,x]),b=m.useMemo(()=>e.payments.reduce((k,P)=>k+(Number(P.amount)||0),0),[e.payments]),y=Number((p-b).toFixed(2)),v=y<0?Math.abs(y):0,w=m.useRef({totalDue:0,totalPayments:0});m.useEffect(()=>{w.current={totalDue:p,totalPayments:b}},[p,b]);const j=m.useRef(null),S=k=>j.current=k,N=async()=>{var P;const k=(P=e.quickCustomerName)==null?void 0:P.trim();if(!k)return $.error("Digite o nome do cliente.");try{const I=await kx({name:k});$.success("Cliente adicionado"),t({type:"SET_DATA",payload:{products:e.products,customers:[...e.customers,I]}}),t({type:"SET_CUSTOMER",payload:I.id}),t({type:"SET_QUICK_CUSTOMER",payload:""}),e.showQuickCustomer&&t({type:"TOGGLE_QUICK_CUSTOMER"})}catch(I){console.error(I),$.error("Erro ao adicionar cliente")}},C=()=>e.cart.length===0?($.error("Carrinho vazio."),!1):e.payments.length===0?($.error("Adicione um método de pagamento."),!1):b+.001<p?($.error("Pagamentos devem cobrir o total."),!1):e.payments.filter(P=>P.method==="Cartão de Crédito"||P.method==="Cartão de Débito").some(P=>!P.machine)?($.error("Selecione a máquina para todos cartões."),!1):!0,_=async()=>{var I,z;if(!C())return;const k=e.selectedCustomerId&&((I=e.customers.find(D=>D.id===e.selectedCustomerId))==null?void 0:I.name)||"Cliente não identificado",P={customerId:e.selectedCustomerId||null,customerName:k,items:e.cart.map(D=>({productId:D.id,name:D.name,qty:D.quantity,unitPrice:D.price,total:D.total})),payments:e.payments,subtotal:h,discount:g,surcharge:x,total:p,change:v,notes:((z=e.notes)==null?void 0:z.trim())||void 0,date:new Date().toISOString()};try{await Nx(P),$.success("Venda finalizada!"),e.printReceipt&&Qu(P,{logoUrl:Rs}),s("produto"),setTimeout(()=>{var B;return(B=o.current)==null?void 0:B.focus()},0),t({type:"RESET_ALL"});const D=await Sr();t({type:"SET_DATA",payload:{products:D,customers:e.customers}})}catch(D){console.error(D),$.error("Erro ao finalizar venda")}};m.useEffect(()=>{S(_)},[_]),m.useEffect(()=>{const k=P=>{var B,K;const I=P.target,z=I==null?void 0:I.tagName;if(!(z==="INPUT"||z==="TEXTAREA"||z==="SELECT"||I!=null&&I.isContentEditable)){if(P.altKey&&(P.key==="z"||P.key==="Z")){P.preventDefault(),s("produto");return}if(P.altKey&&(P.key==="c"||P.key==="C")){P.preventDefault(),s("cliente");return}if(P.altKey&&(P.key==="b"||P.key==="B")){P.preventDefault(),s("pagamento");return}if(P.key==="F4")P.preventDefault(),(B=o.current)==null||B.focus();else if(P.key==="F2"){P.preventDefault();const{totalDue:M,totalPayments:E}=w.current;t({type:"ADD_PAYMENT",payload:Math.max(0,M-E)})}else P.key==="F3"?(P.preventDefault(),(K=j.current)==null||K.call(j)):P.altKey&&(P.key==="q"||P.key==="Q")?(P.preventDefault(),t({type:"RESET_ALL"})):P.key==="Escape"&&(P.preventDefault(),l("/"))}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[l]);const R=e.filteredProducts[0],T=()=>{switch(n){case"produto":return a.jsx(NE,{state:e,dispatch:t,firstFiltered:R,totalDue:p,totalPayments:b,searchRef:o,barcodeReader:r,setBarcodeReader:i});case"cliente":return a.jsx(_E,{state:e,dispatch:t,handleQuickCustomerAdd:N});case"pagamento":return a.jsx(RE,{state:e,dispatch:t,subtotal:h,discount:g,surcharge:x,totalDue:p,totalPayments:b,change:v});default:return null}};return a.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100dvh",overflow:"auto",background:Z.bgApp},children:[a.jsxs("div",{style:{background:Z.red,color:"white",padding:"8px 12px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0,0,0,.12)"},children:[a.jsx("div",{style:{height:50,width:150,position:"relative",overflow:"visible"},children:a.jsx("img",{src:Rs,alt:"Venda-PRO",style:{position:"absolute",left:0,top:"60%",transform:"translateY(-50%)",height:90,width:"100%",display:"block"}})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsxs("div",{style:{position:"relative",width:320,maxWidth:"48vw"},children:[a.jsx(_2,{style:{position:"absolute",right:36,top:"50%",transform:"translateY(-50%)",width:16,height:16,color:"#666"}}),a.jsx(Tt,{placeholder:"Buscar venda — (Alt+P)",style:{paddingRight:44,background:"#fff",borderColor:"#efefef",fontWeight:600},onFocus:()=>s("produto")})]}),a.jsx(ot,{outlined:!0,title:"Voltar ao Dashboard",icon:a.jsx(N2,{style:{width:18,height:18,color:Z.red}}),onClick:()=>l("/"),style:{background:"#fff",color:Z.red,borderColor:"#ffd8dc",padding:10,width:38,height:38,display:"inline-flex",alignItems:"center",justifyContent:"center"}})]})]}),a.jsxs("div",{style:{display:"flex",flexGrow:1,minHeight:0,gap:16,padding:8,marginBottom:vp},children:[a.jsxs("div",{style:{flexBasis:"43%",minWidth:420,minHeight:0,display:"flex",flexDirection:"column",background:Z.card,borderRadius:10,padding:10,border:`1px solid ${Z.border}`},children:[a.jsx(wE,{currentStep:n,setCurrentStep:s}),a.jsx("div",{style:{flex:1,minHeight:0,overflow:"hidden"},children:a.jsx("div",{style:{height:"100%",minHeight:0,overflowY:"auto",paddingRight:4},children:T()})})]}),a.jsxs("div",{style:{flexBasis:"57%",minWidth:520,minHeight:0,background:Z.rightPanel,borderRadius:10,border:`1px solid ${Z.border}`,display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{padding:12,borderBottom:`1px solid ${Z.border}`,fontWeight:800},children:"CAIXA"}),a.jsx("div",{style:{flex:1,minHeight:0,overflowY:"auto",padding:7,paddingBottom:vp},children:e.cart.length===0?a.jsxs("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"#888"},children:[a.jsx("div",{style:{color:Z.red,fontWeight:800,marginBottom:8},children:"Nenhum produto no carrinho"}),a.jsx(yl,{style:{width:120,height:120,color:"#c9c9c9"}})]}):a.jsx("div",{style:{display:"grid",gap:10},children:e.cart.map(k=>a.jsxs("div",{style:{border:`1px solid ${Z.border}`,borderRadius:10,padding:"8px 10px",background:"#fff"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[a.jsx("div",{style:{flex:1,minWidth:0,fontWeight:800,fontSize:15,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:k.name,children:k.name}),a.jsxs("div",{style:{display:"inline-flex",alignItems:"stretch",height:30,border:`1px solid ${Z.border}`,borderRadius:8,overflow:"hidden",background:"#fff"},children:[a.jsx("button",{type:"button",onClick:()=>{d(P=>{const I={...P};return delete I[k.id],I}),t({type:"UPDATE_QTY",payload:{id:k.id,qty:Math.max(1,k.quantity-1)}})},style:{width:34,height:30,display:"grid",placeItems:"center",background:"#fafafa",borderRight:`1px solid ${Z.border}`,lineHeight:1,fontSize:18,fontWeight:700,cursor:k.quantity<=1?"not-allowed":"pointer",opacity:k.quantity<=1?.5:1},"aria-label":"Diminuir",disabled:k.quantity<=1,children:"–"}),a.jsx(Tt,{value:c[k.id]??String(k.quantity),inputMode:"numeric",pattern:"[0-9]*",onWheel:P=>P.currentTarget.blur(),onChange:P=>{const I=P.target.value;/^\d*$/.test(I)&&d(z=>({...z,[k.id]:I}))},onBlur:()=>u(k.id,c[k.id]),onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),u(k.id,c[k.id]),P.currentTarget.blur())},style:{width:40,height:30,textAlign:"center",border:"none",borderRadius:0,background:"transparent",padding:0,fontWeight:700,outline:"none",appearance:"textfield",MozAppearance:"textfield"}}),a.jsx("button",{type:"button",onClick:()=>{d(P=>{const I={...P};return delete I[k.id],I}),t({type:"UPDATE_QTY",payload:{id:k.id,qty:k.quantity+1}})},style:{width:34,height:30,display:"grid",placeItems:"center",background:"#fafafa",borderLeft:`1px solid ${Z.border}`,lineHeight:1,fontSize:18,fontWeight:700,cursor:"pointer"},"aria-label":"Aumentar",children:"+"})]})]}),a.jsxs("div",{style:{marginTop:6,display:"flex",alignItems:"baseline",justifyContent:"space-between",gap:8},children:[a.jsxs("div",{style:{flex:1,minWidth:0,fontSize:12,color:Z.muted},children:[a.jsx("span",{style:{display:"inline-block",padding:"2px 6px",borderRadius:999,background:"#f5f5f5",border:`1px solid ${Z.border}`,marginRight:6,fontWeight:600},children:k.brand}),q(k.price)," • estoque ",k.stock]}),a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontWeight:900,letterSpacing:".2px"},children:q(k.total)}),a.jsx("button",{type:"button",onClick:()=>t({type:"REMOVE_FROM_CART",payload:k.id}),title:"Remover",style:{color:Z.red,opacity:.9},children:a.jsx(dn,{style:{width:16,height:16}})})]})]})]},k.id))})}),a.jsx("div",{style:{padding:12,background:"#fff",borderTop:`1px solid ${Z.border}`},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",rowGap:6,fontSize:14},children:[a.jsx("div",{children:"Subtotal"}),a.jsx("div",{style:{fontWeight:600},children:q(h)}),a.jsx("div",{children:"Desconto"}),a.jsxs("div",{children:["- ",q(g)]}),a.jsx("div",{children:"Acréscimo"}),a.jsxs("div",{children:["+ ",q(x)]}),a.jsx("div",{style:{gridColumn:"1 / span 2",borderTop:`1px dashed ${Z.border}`,marginTop:6}}),a.jsx("div",{style:{fontWeight:800},children:"Total a pagar"}),a.jsx("div",{style:{fontWeight:900},children:q(p)}),a.jsx("div",{children:"Total pago"}),a.jsx("div",{style:{fontWeight:600},children:q(b)}),v>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Troco"}),a.jsx("div",{style:{fontWeight:800},children:q(v)})]})]})})]})]}),a.jsxs("div",{style:{background:"#fff",padding:12,display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:`1px solid ${Z.border}`,boxShadow:"0 -2px 6px rgba(0,0,0,.06)",position:"fixed",bottom:0,left:0,right:0,zIndex:10},children:[a.jsx(ot,{label:"Finalizar venda (F3)",onClick:_,disabled:e.cart.length===0||b+.001<p,style:{background:Z.red,borderRadius:8,paddingLeft:18,paddingRight:18},icon:a.jsx(Z0,{style:{width:18,height:18}})}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:10,color:"#333"},children:[a.jsx("div",{style:{fontSize:18,fontWeight:600},children:"Total"}),a.jsx("div",{style:{fontSize:44,fontWeight:900,letterSpacing:".5px"},children:q(p)})]})]}),e.parked.length>0&&a.jsxs("div",{style:{position:"fixed",right:8,bottom:98,width:360,maxHeight:320,overflow:"auto",background:"#fff",border:`1px solid ${Z.border}`,borderRadius:10},children:[a.jsxs("div",{style:{padding:10,borderBottom:`1px solid ${Z.border}`,fontWeight:800,display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{children:"Vendas Estacionadas"}),a.jsx("span",{style:{color:"#7a7a7a",fontSize:12},children:e.parked.length})]}),a.jsx("div",{style:{padding:10,display:"grid",gap:8},children:e.parked.map(k=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Z.border}`,borderRadius:8,padding:8},children:[a.jsxs("div",{style:{fontSize:12},children:[a.jsxs("div",{style:{fontWeight:700},children:["#",k.id]}),a.jsxs("div",{style:{color:"#7a7a7a"},children:[new Date(k.createdAt).toLocaleString("pt-BR")," • ",k.snapshot.cart.length," itens"]})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx(ot,{onClick:()=>{t({type:"RESUME_PARKED",payload:k.id}),$.info("Venda retomada no checkout.")},style:{background:"#2563eb"},icon:a.jsx(z2,{style:{width:16,height:16}}),children:"Retomar"}),a.jsx(ot,{outlined:!0,onClick:()=>t({type:"DELETE_PARKED",payload:k.id}),children:"Excluir"})]})]},k.id))})]})]})}function AE(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const OE=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]});function IE({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const FE=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState(""),o=AE(r,300),[l,c]=as(),d=Number(l.get("page"))||1,u=Number(l.get("pageSize"))||10,h=l.get("q")||"",[f,g]=m.useState(d),[x,p]=m.useState(u);m.useEffect(()=>{h&&i(h),b()},[]);const b=async()=>{try{s(!0);const k=await _l();t(P=>{if(Array.isArray(k)&&k.length!==P.length){g(1);const I=new URLSearchParams(l);I.set("page","1"),I.set("pageSize",String(x)),r?I.set("q",r):I.delete("q"),c(I,{replace:!0})}return k||[]})}catch(k){console.error("Error loading customers:",k),$.error("Erro ao carregar clientes")}finally{s(!1)}},y=async k=>{if(window.confirm("Tem certeza que deseja excluir este cliente?"))try{await UN(k),t(P=>P.filter(I=>I.id!==k)),$.success("Cliente excluído com sucesso")}catch(P){console.error("Error deleting customer:",P),$.error("Erro ao excluir cliente")}},v=(k="")=>String(k).replace(/\D+/g,""),w=m.useMemo(()=>{const k=new Map;return e.forEach((P,I)=>k.set(P==null?void 0:P.id,I)),k},[e]),j=m.useMemo(()=>{const k=o.trim().toLowerCase(),P=v(o),I=k?e.filter(D=>{const B=String(D.name||"").toLowerCase().includes(k),K=String(D.document||"").toLowerCase().includes(k),M=P?v(D.phone).includes(P):!1;return B||K||M}):e,z=D=>{const B=(D==null?void 0:D.createdAt)??(D==null?void 0:D.created_at)??null;if(B){const K=Date.parse(B);if(Number.isFinite(K))return K}if(typeof(D==null?void 0:D.id)=="string"&&/^[a-f0-9]{24}$/i.test(D.id)){const K=parseInt(D.id.slice(0,8),16)*1e3;if(Number.isFinite(K))return K}return Number.NaN};return[...I].sort((D,B)=>{const K=z(B),M=z(D);if(!Number.isNaN(K)||!Number.isNaN(M)){if(Number.isNaN(M))return-1;if(Number.isNaN(K))return 1;if(K!==M)return K-M}const E=w.get(B==null?void 0:B.id)??-1,F=w.get(D==null?void 0:D.id)??-1;return E!==F?E-F:String(B.name||"").localeCompare(String(D.name||""),"pt-BR",{sensitivity:"base"})})},[e,o,w]);m.useEffect(()=>{g(1)},[o,x]);const S=j.length,N=Math.max(1,Math.ceil(S/x)),C=Math.min(Math.max(1,f),N),_=(C-1)*x,R=Math.min(_+x,S),T=j.slice(_,R);return m.useEffect(()=>{const k=new URLSearchParams(l);k.set("page",String(C)),k.set("pageSize",String(x)),r?k.set("q",r):k.delete("q"),c(k,{replace:!0})},[C,x,r,l,c]),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clientes"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie seus clientes e dados de contato"})]}),a.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-96",children:[a.jsx(OE,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, telefone ou documento",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:r,onChange:k=>i(k.target.value),"aria-label":"Campo de busca de clientes"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:x,onChange:k=>p(Number(k.target.value)),children:[10,20,50,100].map(k=>a.jsx("option",{value:k,children:k},k))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/customers/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Cliente"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsx("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lista de Clientes"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Resultados da busca e paginação"})]})}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Telefone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"CPF/CNPJ"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Endereço"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:T.length>0?T.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:k.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.phone||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.document||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.address||"-"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/customers/edit/${k.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar",children:a.jsx(Vs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>y(k.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},k.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum cliente encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:S>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:_+1}),"–",a.jsx("strong",{children:R})," de ",a.jsx("strong",{children:S})," clientes"]}):a.jsx("span",{children:"Nenhum registro"})}),N>1&&a.jsx(IE,{currentPage:C,totalPages:N,onChange:k=>g(k),className:"justify-center",windowSize:1})]})]})},Ny=({initialData:e={},onSubmit:t,onCancel:n,buttonText:s="Salvar",isSubmitting:r=!1})=>{const[i,o]=m.useState({name:e.name||"",phone:e.phone||"",document:e.document||"",address:e.address||"",notes:e.notes||""}),l=d=>{const{name:u,value:h}=d.target;o(f=>({...f,[u]:h}))},c=d=>{var u;d.preventDefault(),(u=i.name)!=null&&u.trim()&&(t==null||t(i))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"mb-1 block text-sm font-medium text-gray-700",children:"Nome *"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",value:i.name,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"mb-1 block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",placeholder:"(91) 99999-9999",value:i.phone,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"document",className:"mb-1 block text-sm font-medium text-gray-700",children:"CPF/CNPJ"}),a.jsx("input",{id:"document",name:"document",type:"text",autoComplete:"off",placeholder:"000.000.000-00",value:i.document,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"mb-1 block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{id:"address",name:"address",type:"text",autoComplete:"street-address",placeholder:"Rua, número, bairro, cidade",value:i.address,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"mb-1 block text-sm font-medium text-gray-700",children:"Observações"}),a.jsx("textarea",{id:"notes",name:"notes",rows:3,placeholder:"Observações sobre o cliente...",value:i.notes,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg.primary disabled:cursor-not-allowed disabled:opacity-60",children:r?"Salvando...":s})]})]})},$E=()=>{const e=qe(),[t,n]=m.useState(!1),s=async r=>{try{n(!0),await kx(r),$.success("Cliente adicionado com sucesso"),e("/customers")}catch(i){console.error("Error creating customer:",i),$.error("Erro ao adicionar cliente")}finally{n(!1)}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Novo Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre um novo cliente no sistema"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os campos abaixo e salve"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsx(Ny,{onSubmit:s,onCancel:()=>e(-1),buttonText:"Adicionar Cliente",isSubmitting:t})})]})]})},zE=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(null),[r,i]=m.useState(!0),[o,l]=m.useState(!1);m.useEffect(()=>{(async()=>{try{i(!0);const u=await BN(e);s(u||null)}catch(u){console.error("Error loading customer:",u),$.error("Erro ao carregar cliente"),t("/customers")}finally{i(!1)}})()},[e,t]);const c=async d=>{try{l(!0),await VN(e,d),$.success("Cliente atualizado com sucesso"),t("/customers")}catch(u){console.error("Error updating customer:",u),$.error("Erro ao atualizar cliente")}finally{l(!1)}};return r?a.jsx("div",{className:"flex h-64 items-center justify-center text-gray-600",children:"Carregando..."}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Atualize os dados do cliente e salve"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Campos obrigatórios marcados com *"})]}),a.jsx("div",{className:"px-6 py-6",children:n?a.jsx(Ny,{initialData:n,onSubmit:c,onCancel:()=>t(-1),buttonText:"Atualizar Cliente",isSubmitting:o}):a.jsx("div",{className:"text-center text-gray-600",children:"Cliente não encontrado"})})]})]})};function BE(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const VE=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]});function UE({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const _c=(e="")=>String(e).replace(/\D+/g,""),HE=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState(""),o=BE(r,300),[l,c]=as(),d=Number(l.get("page"))||1,u=Number(l.get("pageSize"))||10,h=l.get("q")||"",[f,g]=m.useState(d),[x,p]=m.useState(u);m.useEffect(()=>{h&&i(h),b()},[]);const b=async()=>{try{s(!0);const R=await Sx();t(R||[])}catch(R){console.error("Error loading suppliers:",R),$.error("Erro ao carregar fornecedores")}finally{s(!1)}},y=async R=>{if(window.confirm("Tem certeza que deseja excluir este fornecedor?"))try{await KN(R),t(T=>T.filter(k=>k.id!==R)),$.success("Fornecedor excluído com sucesso")}catch(T){console.error("Error deleting supplier:",T),$.error("Erro ao excluir fornecedor")}},v=m.useMemo(()=>{const R=o.trim().toLowerCase(),T=_c(o),k=R?e.filter(I=>{const z=String(I.name||"").toLowerCase().includes(R),D=String(I.email||"").toLowerCase().includes(R),B=T?_c(I.cnpj).includes(T):!1,K=T?_c(I.phone).includes(T):!1;return z||D||B||K}):e,P=I=>{const z=(I==null?void 0:I.updatedAt)??(I==null?void 0:I.createdAt)??(I==null?void 0:I.updated_at)??(I==null?void 0:I.created_at)??null;if(!z)return NaN;const D=new Date(z).getTime();return Number.isFinite(D)?D:NaN};return[...k].sort((I,z)=>{const D=P(z),B=P(I);if((!Number.isNaN(D)||!Number.isNaN(B))&&D!==B)return Number.isNaN(B)?-1:Number.isNaN(D)?1:D-B;const K=Number(z.id||0)-Number(I.id||0);return K!==0?K:String(z.name||"").localeCompare(String(I.name||""),"pt-BR",{sensitivity:"base"})})},[e,o]);m.useEffect(()=>{g(1)},[o,x]);const w=v.length,j=Math.max(1,Math.ceil(w/x)),S=Math.min(Math.max(1,f),j),N=(S-1)*x,C=Math.min(N+x,w),_=v.slice(N,C);return m.useEffect(()=>{const R=new URLSearchParams(l);R.set("page",String(S)),R.set("pageSize",String(x)),r?R.set("q",r):R.delete("q"),c(R,{replace:!0})},[S,x,r,l,c]),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Fornecedores"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie seus fornecedores e dados de contato"})]}),a.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-96",children:[a.jsx(VE,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, CNPJ, email ou telefone",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:r,onChange:R=>i(R.target.value),"aria-label":"Campo de busca de fornecedores"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:x,onChange:R=>p(Number(R.target.value)),children:[10,20,50,100].map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/suppliers/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Fornecedor"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lista de Fornecedores"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Resultados da busca e paginação"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total de Fornecedores"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Nome"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"CNPJ"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Telefone"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:_.length>0?_.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:R.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.cnpj||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.phone||"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.email||"-"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/suppliers/edit/${R.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar",children:a.jsx(Vs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>y(R.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},R.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum fornecedor encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:w>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:N+1}),"–",a.jsx("strong",{children:C})," de ",a.jsx("strong",{children:w})," fornecedores"]}):a.jsx("span",{children:"Nenhum registro"})}),j>1&&a.jsx(UE,{currentPage:S,totalPages:j,onChange:R=>g(R),className:"justify-center",windowSize:1})]})]})},wp=(e="")=>String(e).replace(/\D+/g,""),ky=({initialData:e={},onSubmit:t,onCancel:n,buttonText:s="Salvar",isSubmitting:r=!1})=>{const[i,o]=m.useState({name:e.name||"",cnpj:e.cnpj||"",phone:e.phone||"",email:e.email||"",address:e.address||"",notes:e.notes||""}),l=d=>{const{name:u,value:h}=d.target;o(f=>({...f,[u]:h}))},c=d=>{var u;d.preventDefault(),(u=i.name)!=null&&u.trim()&&(t==null||t({...i,cnpj:wp(i.cnpj),phone:wp(i.phone)}))};return a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"mb-1 block text-sm font-medium text-gray-700",children:"Nome do Fornecedor *"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:i.name,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cnpj",className:"mb-1 block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{id:"cnpj",name:"cnpj",type:"text",placeholder:"00.000.000/0000-00",value:i.cnpj,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"mb-1 block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{id:"phone",name:"phone",type:"tel",placeholder:"(91) 99999-9999",value:i.phone,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"mb-1 block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{id:"email",name:"email",type:"email",placeholder:"fornecedor@email.com",value:i.email,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"mb-1 block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{id:"address",name:"address",type:"text",placeholder:"Rua, número, bairro, cidade",value:i.address,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"notes",className:"mb-1 block text-sm font-medium text-gray-700",children:"Observações"}),a.jsx("textarea",{id:"notes",name:"notes",rows:3,placeholder:"Observações sobre o fornecedor...",value:i.notes,onChange:l,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:r?"Salvando...":s})]})]})},WE=()=>{const e=qe(),[t,n]=m.useState(!1),s=async r=>{try{n(!0),await WN(r),$.success("Fornecedor adicionado com sucesso"),e("/suppliers")}catch(i){console.error("Error creating supplier:",i),$.error("Erro ao adicionar fornecedor")}finally{n(!1)}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Novo Fornecedor"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre um novo fornecedor no sistema"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Fornecedor"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os campos abaixo e salve"})]}),a.jsx("div",{className:"px-6 py-6",children:a.jsx(ky,{onSubmit:s,onCancel:()=>e(-1),buttonText:"Adicionar Fornecedor",isSubmitting:t})})]})]})},qE=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(null),[r,i]=m.useState(!0),[o,l]=m.useState(!1);m.useEffect(()=>{(async()=>{try{i(!0);const u=await HN(e);s(u||null)}catch(u){console.error("Error loading supplier:",u),$.error("Erro ao carregar fornecedor"),t("/suppliers")}finally{i(!1)}})()},[e,t]);const c=async d=>{try{l(!0),await qN(e,d),$.success("Fornecedor atualizado com sucesso"),t("/suppliers")}catch(u){console.error("Error updating supplier:",u),$.error("Erro ao atualizar fornecedor")}finally{l(!1)}};return r?a.jsx("div",{className:"flex h-64 items-center justify-center text-gray-600",children:"Carregando..."}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Fornecedor"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Atualize os dados do fornecedor e salve"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Fornecedor"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Campos obrigatórios marcados com *"})]}),a.jsx("div",{className:"px-6 py-6",children:n?a.jsx(ky,{initialData:n,onSubmit:c,onCancel:()=>t(-1),buttonText:"Atualizar Fornecedor",isSubmitting:o}):a.jsx("div",{className:"text-center text-gray-600",children:"Fornecedor não encontrado"})})]})]})};function KE(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const QE=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),YE=({status:e})=>{if(!e)return a.jsx("span",{className:"text-gray-400",children:"—"});const t={converted:{label:"Convertido",cls:"bg-blue-100 text-blue-700 border-blue-200"},pending:{label:"Pendente",cls:"bg-yellow-100 text-yellow-700 border-yellow-200"}},n=(e||"").toLowerCase(),s=t[n]||{label:e,cls:"bg-gray-100 text-gray-700 border-gray-200"};return a.jsx("span",{className:`inline-flex items-center rounded-md border px-2.5 py-1 text-xs font-medium ${s.cls}`,children:s.label})};function XE({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const ZE=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState(""),o=KE(r,350),[l,c]=m.useState("all"),[d,u]=as(),h=Number(d.get("page"))||1,f=Number(d.get("pageSize"))||10,g=d.get("q")||"",x=d.get("status")||"all",[p,b]=m.useState(h),[y,v]=m.useState(f);m.useEffect(()=>{g&&i(g),["all","pending","converted"].includes(x)&&c(x),w()},[]);const w=async()=>{try{s(!0);const D=await QN();t(D)}catch(D){console.error("Error loading quotes:",D),$.error("Erro ao carregar orçamentos")}finally{s(!1)}},j=async D=>{if(window.confirm("Tem certeza que deseja excluir este orçamento?"))try{await ZN(D),t(B=>B.filter(K=>K.id!==D)),$.success("Orçamento excluído com sucesso")}catch(B){console.error("Error deleting quote:",B),$.error("Erro ao excluir orçamento")}},S=async D=>{if(window.confirm("Tem certeza que deseja converter este orçamento em venda?"))try{await _x(D.id),$.success("Orçamento convertido em venda com sucesso!"),w()}catch(B){console.error("Error converting quote to sale:",B),$.error("Erro ao converter orçamento em venda")}},N=m.useMemo(()=>{let D=e.filter(F=>l==="converted"?(F.status||"").toLowerCase()==="converted":l==="pending"?(F.status||"").toLowerCase()!=="converted":!0);const B=o.trim().toLowerCase(),K=B?D.filter(F=>{const W=String(F.quote_number??"").toLowerCase().includes(B),L=String(F.customer_name??"").toLowerCase().includes(B);return W||L}):D,M=new Map;e.forEach((F,W)=>M.set(F.id,W));const E=F=>{const W=(F==null?void 0:F.createdAt)??(F==null?void 0:F.created_at)??(F==null?void 0:F.date)??null;if(W){const L=new Date(W).getTime();if(Number.isFinite(L))return L}if(typeof(F==null?void 0:F.id)=="string"&&/^[a-f0-9]{24}$/i.test(F.id)){const L=parseInt(F.id.slice(0,8),16)*1e3;if(Number.isFinite(L))return L}return Number.NEGATIVE_INFINITY};return[...K].sort((F,W)=>{const L=E(W)-E(F);if(L!==0)return L;const Y=M.get(W.id)??-1,H=M.get(F.id)??-1;return Y-H})},[e,l,o]);m.useEffect(()=>{b(1)},[o,y,l]);const C=N.length,_=Math.max(1,Math.ceil(C/y)),R=Math.min(Math.max(1,p),_),T=(R-1)*y,k=Math.min(T+y,C),P=N.slice(T,k),I=m.useMemo(()=>e.reduce((D,B)=>D+(Number(B.total)||0),0),[e]),z=m.useMemo(()=>N.reduce((D,B)=>D+(Number(B.total)||0),0),[N]);return m.useEffect(()=>{const D=new URLSearchParams(d);D.set("page",String(R)),D.set("pageSize",String(y)),r?D.set("q",r):D.delete("q"),l&&l!=="all"?D.set("status",l):D.delete("status"),u(D,{replace:!0})},[R,y,r,l,d,u]),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Orçamentos"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie propostas, acompanhe conversões e gere vendas"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-6",children:[{key:"all",label:"Todos"},{key:"pending",label:"Pendentes"},{key:"converted",label:"Convertidos"}].map(D=>a.jsx("button",{onClick:()=>c(D.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${l===D.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:D.label},D.key))})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx(QE,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nº do orçamento ou cliente",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:r,onChange:D=>i(D.target.value),"aria-label":"Campo de busca de orçamentos"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:y,onChange:D=>v(Number(D.target.value)),children:[10,20,50,100].map(D=>a.jsx("option",{value:D,children:D},D))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/quotes/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Orçamento"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Lista de Orçamentos"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Resumo por status e busca aplicada"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q(z)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[C," registros · total geral: ",q(I)]})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Número"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Cliente"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:P.length>0?P.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:D.quote_number}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:new Date(D.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:D.customer_name||"Cliente não informado"}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:q(D.total)}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsx(YE,{status:(D.status||"").toLowerCase()})}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/quotes/view/${D.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Visualizar",children:a.jsx(Xi,{className:"h-5 w-5"})}),(D.status||"").toLowerCase()!=="converted"&&a.jsx("button",{onClick:()=>S(D),className:"p-1 text-green-600 hover:text-green-800",title:"Converter em Venda",children:a.jsx(yl,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>j(D.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},D.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum orçamento encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:C>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:T+1}),"–",a.jsx("strong",{children:k})," de ",a.jsx("strong",{children:C})," orçamentos"]}):a.jsx("span",{children:"Nenhum registro"})}),_>1&&a.jsx(XE,{currentPage:R,totalPages:_,onChange:D=>b(D),className:"justify-center",windowSize:1})]})]})},GE=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),JE=()=>{const e=qe(),[t,n]=m.useState([]),[s,r]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState([]),[h,f]=m.useState(""),[g,x]=m.useState("");m.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const[N,C]=await Promise.all([Sr(),_l()]);n((N||[]).filter(_=>Number(_.stock)>0)),r(C||[])}catch(N){console.error("Error loading data:",N),$.error("Erro ao carregar dados")}finally{o(!1)}},b=N=>{const C=d.find(_=>_.id===N.id);if(C){if(C.quantity>=Number(N.stock)){$.warning(`Estoque máximo atingido para ${N.name}`);return}u(_=>_.map(R=>R.id===N.id?{...R,quantity:R.quantity+1,total:(R.quantity+1)*Number(R.price)}:R))}else u(_=>[..._,{id:N.id,name:N.name,brand:N.brand,price:Number(N.price)||0,quantity:1,stock:Number(N.stock)||0,total:Number(N.price)||0}])},y=N=>{u(C=>C.filter(_=>_.id!==N))},v=(N,C)=>{if(C<=0)return;const _=d.find(R=>R.id===N);if(_){if(C>Number(_.stock)){$.warning(`Estoque máximo atingido para ${_.name}`);return}u(R=>R.map(T=>T.id===N?{...T,quantity:C,total:C*Number(T.price)}:T))}},w=m.useMemo(()=>d.reduce((N,C)=>N+Number(C.total||0),0),[d]),j=m.useMemo(()=>{const N=l.trim().toLowerCase();return N?t.filter(C=>[C.name,C.brand,C.code].filter(Boolean).some(_=>String(_).toLowerCase().includes(N))):t},[t,l]),S=async N=>{var C;if(N.preventDefault(),d.length===0){$.error("Adicione pelo menos um produto ao orçamento");return}try{const _=h?(C=s.find(T=>String(T.id)===String(h)))==null?void 0:C.name:"Cliente não informado",R={customerId:h||null,customerName:_,items:d,total:w,notes:g,date:new Date().toISOString()};await XN(R),$.success("Orçamento criado com sucesso"),e("/quotes")}catch(_){console.error("Error creating quote:",_),$.error("Erro ao criar orçamento")}};return i?a.jsx("div",{className:"flex h-64 items-center justify-center",children:a.jsx("span",{className:"text-gray-600",children:"Carregando..."})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Novo Orçamento"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Selecione produtos, ajuste quantidades e salve a proposta"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Selecionar Produtos"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," itens disponíveis em estoque"]}),a.jsxs("div",{className:"relative mt-4",children:[a.jsx(GE,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{value:l,onChange:N=>c(N.target.value),placeholder:"Buscar por nome, marca ou código",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto px-6 py-4",children:j.length===0?a.jsx("div",{className:"py-8 text-center text-sm text-gray-500",children:"Nenhum produto encontrado"}):a.jsx("ul",{className:"space-y-3",children:j.map(N=>a.jsx("li",{className:"rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h4",{className:"truncate text-sm font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"truncate text-xs text-gray-500",children:[N.brand||"—"," • Estoque: ",N.stock]}),a.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:q(N.price)})]}),a.jsx("button",{onClick:()=>b(N),disabled:Number(N.stock)<=0,className:"inline-flex items-center justify-center rounded-md btn-primary px-3 py-1.5 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:"Adicionar"})]})},N.id))})})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"border-b bg-gray-50 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Detalhes do Orçamento"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Defina cliente, observações e confira os itens"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6 px-6 py-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Cliente (opcional)"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:h,onChange:N=>f(N.target.value),className:"w-full appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",children:[a.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Observações"}),a.jsx("textarea",{rows:3,value:g,onChange:N=>x(N.target.value),placeholder:"Observações sobre o orçamento...",className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-700",children:"Itens Selecionados"}),d.length===0?a.jsx("div",{className:"py-6 text-center text-sm text-gray-500",children:"Nenhum item selecionado"}):a.jsx("ul",{className:"space-y-3",children:d.map(N=>a.jsx("li",{className:"rounded-lg border border-gray-200 p-3",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium text-gray-900",children:N.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[q(N.price)," cada • Estoque: ",N.stock]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center overflow-hidden rounded-md border border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>v(N.id,N.quantity-1),className:"px-2 py-1 text-gray-600 hover:bg-gray-100",children:a.jsx(M2,{className:"h-4 w-4"})}),a.jsx("span",{className:"px-3 text-sm",children:N.quantity}),a.jsx("button",{type:"button",onClick:()=>v(N.id,N.quantity+1),className:"px-2 py-1 text-gray-600 hover:bg-gray-100",children:a.jsx(Cn,{className:"h-4 w-4"})})]}),a.jsx("span",{className:"w-24 text-right text-sm font-semibold text-gray-900",children:q(N.total)}),a.jsx("button",{type:"button",onClick:()=>y(N.id),className:"text-red-600 hover:text-red-800",title:"Remover",children:a.jsx(dn,{className:"h-5 w-5"})})]})]})},N.id))})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:q(w)})]})}),a.jsx("button",{type:"submit",disabled:d.length===0,className:"w-full rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:"Criar Orçamento"})]})]})]})]})},e3=12,t3=({status:e})=>{const t=(e||"").toLowerCase(),s={converted:{label:"Convertido",cls:"bg-blue-100 text-blue-700 border-blue-200"},pending:{label:"Pendente",cls:"bg-yellow-100 text-yellow-700 border-yellow-200"}}[t]||{label:e||"—",cls:"bg-gray-100 text-gray-700 border-gray-200"};return a.jsx("span",{className:`inline-flex items-center rounded-md border px-2.5 py-1 text-xs font-medium ${s.cls}`,children:s.label})},n3=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(null),[r,i]=m.useState(!0);m.useEffect(()=>{o()},[e]);const o=async()=>{try{i(!0);const d=await YN(e);s(d)}catch(d){console.error("Error loading quote:",d),$.error("Erro ao carregar orçamento"),t("/quotes")}finally{i(!1)}},l=async()=>{if(window.confirm("Tem certeza que deseja converter este orçamento em venda?"))try{await _x(e),$.success("Orçamento convertido em venda com sucesso!"),t("/quotes")}catch(d){console.error("Error converting quote to sale:",d),$.error("Erro ao converter orçamento em venda")}},c=()=>window.print();return r?a.jsx("div",{className:"flex h-64 items-center justify-center text-gray-600",children:"Carregando..."}):n?a.jsxs("div",{className:"p-6",children:[a.jsx("style",{children:`
        @media screen { #fg-print { display: none !important; } }
        @media print {
          body * { visibility: hidden !important; }
          #fg-print, #fg-print * { visibility: visible !important; }
          @page { size: A4; margin: 10mm; }
          #fg-print { position: absolute !important; inset: 0 0 auto 0 !important; margin: 0 !important; padding: 0 !important; }
          .no-print { display: none !important; }
        }
        #fg-print { font-family: Arial, Helvetica, sans-serif; color: #000; }
        #fg-print .sheet { width: 190mm; margin: 0 auto; background: #fff; }
        .b1 { border:1px solid #000; } .b2 { border:2px solid #000; }
        .p6 { padding:6px; } .p8 { padding:8px; }
        .mt2{ margin-top:2px; } .mt4{ margin-top:4px; } .mt6{ margin-top:6px; } .mt8{ margin-top:8px; } .mb4{ margin-bottom:4px; }
        .tt { text-transform: uppercase; letter-spacing: .2px; }
        .small { font-size:11px; } .xsmall { font-size:10px; }
        .hdr { display:grid; grid-template-columns: 1fr 170px; gap:10px; align-items:center; }
        .brand { display:grid; grid-template-columns: 64px 1fr; gap:8px; align-items:center; }
        .logo { width:64px; height:40px; display:flex; align-items:center; justify-content:center; border:1px solid #000; font-size:10px; }
        .brand h1 { margin:0; font-size:22px; line-height:1; } .brand .sub { margin-top:2px; font-size:11px; }
        .orc { text-align:center; border:2px solid #000; padding:6px; } .orc .t { font-weight:800; font-size:16px; }
        .orc .n { margin-top:6px; border:1px solid #000; height:28px; display:flex; align-items:center; justify-content:center; font-weight:700; }
        .orc .n::before { content:"Nº "; margin-right:2px; }
        .empresa { border:1px solid #000; padding:6px; margin-top:8px; }
        .empresa .row { display:flex; flex-wrap:wrap; justify-content:space-between; gap:8px; }
        .empresa .svc { font-size:11px; } .empresa .addr { font-weight:700; }
        .dados { border:1px solid #000; border-top:none; }
        .dln { display:grid; grid-template-columns: 1.4fr .8fr 1fr .6fr; gap:6px; padding:6px; }
        .dln-2 { grid-template-columns: 1.8fr 1fr .6fr; }
        .dln-3 { grid-template-columns: 1.2fr 1fr 1fr; }
        .dln-4 { grid-template-columns: 1.2fr 1fr 1fr; }
        .field { display:grid; grid-template-rows:auto 26px; gap:2px; }
        .field label { font-size:10px; text-transform:uppercase; }
        .line { border-bottom:1px solid #000; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; padding:2px 4px; }
        table.itens { width:100%; border-collapse:collapse; margin-top:6px; }
        .itens thead th { border:1px solid #000; padding:6px; font-size:11px; text-align:center; }
        .itens tbody td { border:1px solid #000; padding:4px; height:24px; }
        .col-q { width:60px; text-align:center; } .col-vu, .col-t { width:120px; text-align:right; }
        .wm { position:absolute; left:0; right:0; margin:auto; top:92mm; width:75%; text-align:center; font-size:36px; font-weight:700; color:#000; opacity:.06; pointer-events:none; user-select:none; }
        .wm small { display:block; font-weight:400; font-size:16px; letter-spacing:.8px; }
        .foot { display:grid; grid-template-columns: 1fr 220px; gap:10px; align-items:end; margin-top:8px; }
        .valid { border:1px solid #000; padding:6px; min-height:44px; display:grid; align-content:center; font-size:10px; color:#333; }
        .total { border:2px solid #000; padding:8px; text-align:right; font-size:18px; font-weight:800; }
        .sign { display:grid; grid-template-columns: 1fr 240px; gap:20px; align-items:end; margin-top:22mm; }
        .uline { border-top:1px solid #000; height:0; margin-top:24px; } .siglbl { font-size:10px; text-align:center; }
      `}),a.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between no-print",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Orçamento ",n.quote_number]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Visualize, imprima ou converta em venda"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[a.jsx(Z0,{className:"h-5 w-5"})," Imprimir"]}),(n.status||"").toLowerCase()!=="converted"&&a.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary",children:[a.jsx(yl,{className:"h-5 w-5"})," Converter em Venda"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow no-print",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Resumo"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cliente, data e status"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q(n.total)}),a.jsx("div",{className:"mt-1",children:a.jsx(t3,{status:(n.status||"").toLowerCase()})})]})]}),a.jsxs("div",{className:"grid gap-6 px-6 py-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Cliente"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.customer_name||"Cliente não informado"})]}),a.jsxs("div",{className:"sm:text-right",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Data"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(n.date).toLocaleDateString("pt-BR")})]})]}),a.jsxs("div",{className:"border-t px-6 py-6",children:[a.jsx("h3",{className:"mb-4 text-sm font-medium text-gray-700",children:"Itens"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Produto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Marca"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Qtd"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Preço Unit."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.items.map((d,u)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:d.brand}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:d.quantity}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-900",children:q(d.price)}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:q(d.total)})]},u))})]})})]}),n.notes&&a.jsxs("div",{className:"border-t px-6 py-6",children:[a.jsx("h3",{className:"mb-2 text-sm font-medium text-gray-700",children:"Observações"}),a.jsx("p",{className:"text-sm text-gray-900",children:n.notes})]})]}),a.jsx("div",{id:"fg-print",children:a.jsxs("div",{className:"sheet",children:[a.jsxs("div",{className:"empresa",children:[a.jsxs("div",{className:"hdr",children:[a.jsx("div",{className:"brand",style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:a.jsx("img",{src:Rs,alt:"Logo",style:{maxWidth:"220px",height:"auto",objectFit:"contain",marginBottom:"-40px",marginTop:"-10px"}})}),a.jsxs("div",{className:"orc",children:[a.jsx("div",{className:"t",children:"ORÇAMENTO"}),a.jsx("div",{className:"n",children:n.quote_number})]})]}),a.jsx("div",{className:"row",children:a.jsx("div",{style:{fontWeight:700},children:"CNPJ: 14.864.222/0001-67"})}),a.jsx("div",{className:"svc",children:"PELÍCULA · SUPER LED · SOM · AMPLIFICADORES · ALARMES · TRAVAS · MÓDULOS"}),a.jsxs("div",{className:"mt4",children:["Tel.: (91) 98241-6768 · ",a.jsx("span",{children:"fer_maia2005@hotmail.com"})]}),a.jsx("div",{className:"mt4 addr",children:"RUA QUINZE DE AGOSTO, 552, CRUZEIRO / ICOARACI"})]}),a.jsxs("div",{className:"dados",children:[a.jsxs("div",{className:"dln",children:[a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"Nome"}),a.jsx("div",{className:"line",children:n.customer_name||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"Tel."}),a.jsx("div",{className:"line",children:n.customerPhone||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{}),a.jsx("div",{})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{}),a.jsx("div",{})]})]}),a.jsxs("div",{className:"dln dln-2",children:[a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"End."}),a.jsx("div",{className:"line",children:n.address||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"Cidade"}),a.jsx("div",{className:"line",children:n.city||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"UF"}),a.jsx("div",{className:"line",children:n.uf||""})]})]}),a.jsxs("div",{className:"dln dln-3",children:[a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"Bairro"}),a.jsx("div",{className:"line",children:n.neighborhood||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"CPF/CNPJ"}),a.jsx("div",{className:"line",children:n.cpfCnpj||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"INSC. EST."}),a.jsx("div",{className:"line",children:n.stateRegistration||""})]})]}),a.jsxs("div",{className:"dln dln-4",children:[a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"COND. PAGAMENTO"}),a.jsx("div",{className:"line",children:n.paymentTerms||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"PRAZO ENTREGA"}),a.jsx("div",{className:"line",children:n.deliveryTime||""})]}),a.jsxs("div",{className:"field",children:[a.jsx("label",{children:"VALIDADE"}),a.jsx("div",{className:"line",children:n.validityDate||""})]})]})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{position:"absolute",left:150,right:0,margin:"auto",top:"92mm",width:"70%",textAlign:"center",pointerEvents:"none",userSelect:"none",top:70},children:a.jsx("img",{src:Rs,alt:"Marca d’água",style:{width:"60%",opacity:.06}})}),a.jsxs("table",{className:"itens",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"col-q",children:"Quant."}),a.jsx("th",{children:"Discriminação"}),a.jsx("th",{className:"col-vu",children:"V. Unit."}),a.jsx("th",{className:"col-t",children:"Total"})]})}),a.jsxs("tbody",{children:[n.items.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{className:"col-q",children:d.quantity}),a.jsx("td",{children:`${d.name}${d.brand?" - "+d.brand:""}`}),a.jsx("td",{className:"col-vu",children:q(d.price)}),a.jsx("td",{className:"col-t",children:q(d.total)})]},u)),Array.from({length:Math.max(e3-n.items.length,0)}).map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{}),a.jsx("td",{}),a.jsx("td",{}),a.jsx("td",{})]},`blank-${u}`))]})]})]}),n.notes?a.jsxs("div",{className:"b1 p6 mt6",children:[a.jsx("div",{className:"small tt mb4",children:"Observações"}),a.jsx("div",{children:n.notes})]}):null,a.jsxs("div",{className:"foot",children:[a.jsxs("div",{className:"valid",children:["Apresente este orçamento até a data de validade. Após, será realizado um novo orçamento.",a.jsxs("div",{className:"mt4 xsmall",children:["Data: ",new Date(n.date).toLocaleDateString("pt-BR")]}),a.jsxs("div",{className:"xsmall",children:["Cliente: ",n.customer_name||"Não informado"]})]}),a.jsxs("div",{className:"total",children:["TOTAL R$ ",q(n.total).replace("R$ ","")]})]}),a.jsxs("div",{className:"sign",children:[a.jsxs("div",{children:[a.jsx("div",{className:"uline"}),a.jsx("div",{className:"siglbl",children:"ASSINATURA"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"uline"}),a.jsx("div",{className:"siglbl",children:"DATA"})]})]})]})})]}):a.jsx("div",{className:"flex h-64 items-center justify-center text-gray-600",children:"Orçamento não encontrado"})};function s3(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}function ps(e=new Date){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`}const r3=e=>a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:e.className,children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]});function i3({currentPage:e,totalPages:t,onChange:n,className:s="",windowSize:r=1}){const i=m.useMemo(()=>{if(t<=1)return[1];const o=[],l=u=>o.push(u),c=Math.max(2,e-r),d=Math.min(t-1,e+r);l(1),c>2&&l("…");for(let u=c;u<=d;u++)l(u);return d<t-1&&l("…"),t>1&&l(t),o},[e,t,r]);return a.jsxs("nav",{className:`inline-flex items-center gap-1 select-none ${s}`,role:"navigation","aria-label":"Paginação",children:[a.jsx("button",{type:"button",onClick:()=>n(1),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Primeira página",children:"«"}),a.jsx("button",{type:"button",onClick:()=>n(Math.max(1,e-1)),disabled:e===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Página anterior",children:"Anterior"}),i.map((o,l)=>a.jsx("button",{type:"button",onClick:()=>o!=="…"?n(o):null,disabled:o==="…","aria-current":o===e?"page":void 0,className:`px-3 py-1 rounded border text-sm min-w-[40px] ${o===e?"bg-black text-white border-black":"hover:bg-gray-100"} ${o==="…"?"cursor-default":""}`,children:o},`${o}-${l}`)),a.jsx("button",{type:"button",onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Próxima página",children:"Próxima"}),a.jsx("button",{type:"button",onClick:()=>n(t),disabled:e===t,className:"px-3 py-1 rounded border text-sm disabled:opacity-50","aria-label":"Última página",children:"»"})]})}const o3=()=>{const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState("day"),[o,l]=m.useState(ps(new Date)),[c,d]=m.useState(""),u=s3(c,300),[h,f]=as(),g=Number(h.get("page"))||1,x=Number(h.get("pageSize"))||10,p=h.get("mode")||"day",b=h.get("date")||ps(new Date),[y,v]=m.useState(g),[w,j]=m.useState(x);m.useEffect(()=>{i(p),l(b)},[]),m.useEffect(()=>{(async()=>{try{s(!0);const E=await Xf();t(Array.isArray(E)?E:[])}catch(E){console.error("Error loading expenses:",E),$.error("Erro ao carregar despesas")}finally{s(!1)}})()},[]),m.useEffect(()=>{const E=new Date,F=new Date(E);F.setDate(E.getDate()+1),F.setHours(0,0,0,0);const W=F.getTime()-E.getTime(),L=setTimeout(()=>{const Y=ps(new Date);l(Y),(async()=>{try{const H=await Xf();t(Array.isArray(H)?H:[])}catch(H){console.error("Error refreshing expenses at midnight:",H)}})()},W);return()=>clearTimeout(L)},[]);const S=m.useMemo(()=>[...e].sort((E,F)=>{const W=new Date(F.createdAt??F.updatedAt??0).getTime(),L=new Date(E.createdAt??E.updatedAt??0).getTime();return W!==L?W-L:String(F.id).localeCompare(String(E.id))}),[e]),N=m.useMemo(()=>{let E=S;if(r==="day")E=E.filter(W=>ps(new Date(W.createdAt))===o);else if(r==="month"){const W=o?new Date(`${o}T00:00:00`):new Date,L=new Date(W.getFullYear(),W.getMonth(),1,0,0,0,0),Y=new Date(W.getFullYear(),W.getMonth()+1,0,23,59,59,999);E=E.filter(H=>{const oe=new Date(H.createdAt);return oe>=L&&oe<=Y})}const F=u.trim().toLowerCase();return F&&(E=E.filter(W=>String(W.description||"").toLowerCase().includes(F))),E},[S,r,o,u]),C=m.useMemo(()=>N.reduce((E,F)=>E+Number(F.value||0),0),[N]);m.useEffect(()=>{v(1)},[r,o,u,w]);const _=N.length,R=Math.max(1,Math.ceil(_/w)),T=Math.min(Math.max(1,y),R),k=(T-1)*w,P=Math.min(k+w,_),I=N.slice(k,P);m.useEffect(()=>{const E=new URLSearchParams(h);E.set("page",String(T)),E.set("pageSize",String(w)),E.set("mode",r),o?E.set("date",o):E.delete("date"),c?E.set("q",c):E.delete("q"),f(E,{replace:!0})},[T,w,r,o,c,h,f]);const z=()=>{const E=new Date(`${o}T00:00:00`);E.setDate(E.getDate()-1),l(ps(E)),i("day")},D=()=>{const E=new Date(`${o}T00:00:00`);E.setDate(E.getDate()+1),l(ps(E)),i("day")},B=()=>{l(ps(new Date)),i("day")},K=r==="day"?new Date(`${o}T00:00:00`).toLocaleDateString():r==="month"?new Date(`${o}T00:00:00`).toLocaleDateString(void 0,{month:"long",year:"numeric"}):"Todas as despesas",M=async E=>{if(window.confirm("Deseja excluir esta despesa?"))try{await n5(E),t(F=>F.filter(W=>W.id!==E)),$.success("Despesa excluída com sucesso")}catch(F){console.error("Erro ao excluir despesa:",F),$.error("Erro ao excluir despesa")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Despesas"}),a.jsx("p",{className:"text-sm text-gray-500",children:r==="day"?"Listando as despesas do dia selecionado":r==="month"?"Despesas do mês selecionado":"Todas as despesas"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex flex-wrap items-center gap-4",children:[[{key:"day",label:"Dia"},{key:"month",label:"Mês"},{key:"all",label:"Todas"}].map(E=>a.jsx("button",{onClick:()=>i(E.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${r===E.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:E.label},E.key)),a.jsx("div",{className:"ml-auto flex items-center gap-2 pb-2",children:(r==="day"||r==="month")&&a.jsxs(a.Fragment,{children:[r==="day"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:z,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Dia anterior",children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsxs("button",{onClick:B,className:"inline-flex items-center gap-1 rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50",title:"Hoje",children:[a.jsx(Bu,{className:"h-4 w-4"})," Hoje"]}),a.jsx("button",{onClick:D,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Próximo dia",children:a.jsx(xl,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"date",value:o,onChange:E=>l(E.target.value),className:"rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":r==="day"?"Selecionar dia":"Selecionar mês (use qualquer dia do mês)"})})]})})]})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx(r3,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),a.jsx("input",{value:c,onChange:E=>d(E.target.value),placeholder:"Buscar por descrição",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":"Buscar despesas"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:w,onChange:E=>j(Number(E.target.value)),children:[10,20,50,100].map(E=>a.jsx("option",{value:E,children:E},E))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/expenses/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Nova Despesa"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Lista de Despesas — ",K]}),a.jsx("p",{className:"text-sm text-gray-500",children:r==="day"?"Resumo do dia selecionado":r==="month"?"Resumo do mês selecionado":"Resumo geral"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q(C)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[_," despesas"]})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Descrição"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Valor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:I.length>0?I.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(E.createdAt??E.updatedAt??Date.now()).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:E.description}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:q(E.value)}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/expenses/edit/${E.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar",children:a.jsx(Vs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>M(E.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},E.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-500",children:"Nenhuma despesa encontrada"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:_>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:k+1}),"–",a.jsx("strong",{children:P})," de"," ",a.jsx("strong",{children:_})," despesas"]}):a.jsx("span",{children:"Nenhum registro"})}),R>1&&a.jsx(i3,{currentPage:T,totalPages:R,onChange:E=>v(E),className:"justify-center",windowSize:1})]})]})},jp=e=>({date:e!=null&&e.date?new Date(e.date).toISOString().slice(0,10):new Date().toISOString().slice(0,10),description:(e==null?void 0:e.description)??"",value:(e==null?void 0:e.value)!==void 0&&(e==null?void 0:e.value)!==null?String(e.value).replace(".",","):""}),Sy=({initialData:e=null,onSubmit:t,onCancel:n,buttonText:s="Salvar",isSubmitting:r=!1})=>{const[i,o]=m.useState(()=>jp(e)),[l,c]=m.useState({});m.useEffect(()=>{e&&o(jp(e))},[e==null?void 0:e.id]);const d=()=>{var p;const f={};i.date||(f.date="Informe a data"),(p=i.description)!=null&&p.trim()||(f.description="Informe a descrição");const g=String(i.value||"").replace(/\./g,"").replace(",","."),x=Number.parseFloat(g);return(!Number.isFinite(x)||x<=0)&&(f.value="Informe um valor válido"),c(f),Object.keys(f).length===0},u=f=>{const{name:g,value:x}=f.target;o(p=>({...p,[g]:x}))},h=f=>{if(f.preventDefault(),!d())return;const g=String(i.value).replace(/\./g,"").replace(",",".");t==null||t({date:i.date,description:i.description.trim(),value:Number.parseFloat(g)})};return a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"date",className:"mb-1 block text-sm font-medium text-gray-700",children:"Data *"}),a.jsx("input",{id:"date",name:"date",type:"date",required:!0,value:i.date,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.date,"aria-describedby":l.date?"date-err":void 0}),l.date&&a.jsx("p",{id:"date-err",className:"mt-1 text-xs text-red-600",children:l.date})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"value",className:"mb-1 block text-sm font-medium text-gray-700",children:"Valor (R$) *"}),a.jsx("input",{id:"value",name:"value",type:"number",inputMode:"decimal",placeholder:"0,00",value:i.value,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.value,"aria-describedby":l.value?"value-err":void 0}),l.value&&a.jsx("p",{id:"value-err",className:"mt-1 text-xs text-red-600",children:l.value})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"mb-1 block text-sm font-medium text-gray-700",children:"Descrição *"}),a.jsx("input",{id:"description",name:"description",type:"text",required:!0,placeholder:"Digite a descrição da despesa",value:i.description,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.description,"aria-describedby":l.description?"desc-err":void 0}),l.description&&a.jsx("p",{id:"desc-err",className:"mt-1 text-xs text-red-600",children:l.description})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:r?"Salvando...":s})]})]})},a3=()=>{const e=qe(),[t,n]=m.useState(!1),s=async r=>{try{n(!0),await e5(r),$.success("Despesa adicionada com sucesso"),e("/expenses")}catch(i){console.error("Error creating expense:",i),$.error("Erro ao adicionar despesa")}finally{n(!1)}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Nova Despesa"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre uma nova despesa no sistema"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsx("div",{className:"border-b bg-gray-50 px-6 py-4",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados da Despesa"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os campos abaixo e salve"})]})})}),a.jsx("div",{className:"px-6 py-6",children:a.jsx(Sy,{onSubmit:s,onCancel:()=>e(-1),buttonText:"Adicionar Despesa",isSubmitting:t})})]})]})},l3=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(null),[r,i]=m.useState(!0),[o,l]=m.useState(!1);m.useEffect(()=>{(async()=>{try{i(!0);const u=await JN(e);s(u||null)}catch(u){console.error("Error loading expense:",u),$.error("Erro ao carregar despesa"),t("/expenses")}finally{i(!1)}})()},[e,t]);const c=async d=>{try{l(!0),await t5(e,d),$.success("Despesa atualizada com sucesso"),t("/expenses")}catch(u){console.error("Error updating expense:",u),$.error("Erro ao atualizar despesa")}finally{l(!1)}};return r?a.jsx("div",{className:"flex h-64 items-center justify-center text-gray-600",children:"Carregando..."}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Despesa"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Atualize os dados e salve"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsx("div",{className:"border-b bg-gray-50 px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gw,{className:"h-5 w-5 text-gray-700"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados da Despesa"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Campos obrigatórios marcados com *"})]})]})}),a.jsx("div",{className:"px-6 py-6",children:n?a.jsx(Sy,{initialData:n,onSubmit:c,onCancel:()=>t(-1),buttonText:"Atualizar Despesa",isSubmitting:o}):a.jsx("div",{className:"text-center text-gray-600",children:"Despesa não encontrada"})})]})]})};function c3(e,t=350){const[n,s]=m.useState(e);return m.useEffect(()=>{const r=setTimeout(()=>s(e),t);return()=>clearTimeout(r)},[e,t]),n}const mn=(e=new Date)=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${s}`},_y=e=>String(e||"").trim().toLowerCase(),Cy=e=>Number(e||0).toFixed(2),d3=e=>Number(String(e).replace(",","."))||0;function fa(e){return!Array.isArray(e)||!e.length?"—":e.map(t=>{const n=t.method||t.metodo||t.type||"-",s=t.machine||t.maquina?` (${t.machine||t.maquina})`:"",r=t.installments||t.parcelas,i=r&&Number(r)>1?` ${r}x`:"",o=t.amount??t.valor??t.value;return`${n}${s}${i}: ${q(d3(o))}`}).join(" | ")}function u3(e){return typeof(e==null?void 0:e.payment)=="string"&&e.payment.trim()?e.payment.trim():Array.isArray(e==null?void 0:e.paymentMethods)?fa(e.paymentMethods):Array.isArray(e==null?void 0:e.payments)?fa(e.payments):Array.isArray(e==null?void 0:e.pagamentos)?fa(e.pagamentos):null}function h3(e=[]){const t=new Map;for(const n of e){const s=`${_y(n.productName)}|${Cy(n.total)}|${mn(new Date(n.date))}`,r=t.get(s)||[];r.push(n),t.set(s,r)}return t}function f3(e){return e?typeof e.payment=="string"&&e.payment.trim()?e.payment.trim():fa(e.paymentMethods||e.payments||e.pagamentos||[]):"—"}function m3(){const[e,t]=m.useState([]),[n,s]=m.useState(!0),[r,i]=m.useState(new Map),[o,l]=m.useState("day"),[c,d]=m.useState(mn(new Date)),[u,h]=m.useState(""),f=c3(u,300),[g,x]=as(),p=Number(g.get("page"))||1,b=Number(g.get("pageSize"))||10,y=g.get("mode")||"day",v=g.get("date")||mn(new Date),[w,j]=m.useState(p),[S,N]=m.useState(b);m.useEffect(()=>{l(y),d(v)},[]),m.useEffect(()=>{(async()=>{var L;try{s(!0);const[Y,H]=await Promise.all([Td(),Ii().catch(()=>[])]);t(Array.isArray(Y)?Y:[]),i(h3(Array.isArray(H)?H:[]))}catch(Y){((L=Y==null?void 0:Y.response)==null?void 0:L.status)===404?t([]):(console.error("Erro ao carregar:",Y),$.error("Erro ao carregar serviços"))}finally{s(!1)}})()},[]),m.useEffect(()=>{const L=new Date,Y=new Date(L);Y.setDate(L.getDate()+1),Y.setHours(0,0,0,0);const H=Y.getTime()-L.getTime(),oe=setTimeout(async()=>{d(mn(new Date));try{const me=await Td();t(Array.isArray(me)?me:[])}catch{}},H);return()=>clearTimeout(oe)},[]);const C=m.useMemo(()=>[...e].sort((L,Y)=>{const H=new Date(Y.created_at).getTime(),oe=new Date(L.created_at).getTime();return H!==oe?H-oe:String(Y.id).localeCompare(String(L.id))}),[e]),_=L=>{const Y=u3(L);if(Y)return Y;const H=`${_y(L.description)}|${Cy(L.value)}|${mn(new Date(L.created_at))}`,oe=(r.get(H)||[])[0];return f3(oe)||"—"},R=m.useMemo(()=>{let L=C;if(o==="day")L=L.filter(H=>mn(new Date(H.created_at))===c);else if(o==="month"){const H=c?new Date(`${c}T00:00:00`):new Date,oe=new Date(H.getFullYear(),H.getMonth(),1,0,0,0,0),me=new Date(H.getFullYear(),H.getMonth()+1,0,23,59,59,999);L=L.filter(zt=>{const Ws=new Date(zt.created_at);return Ws>=oe&&Ws<=me})}const Y=f.trim().toLowerCase();return Y&&(L=L.filter(H=>{const oe=_(H);return[H.description,H.employee,oe].filter(Boolean).join(" ").toLowerCase().includes(Y)})),L},[C,o,c,f,r]),T=m.useMemo(()=>R.reduce((L,Y)=>L+Number(Y.value||0),0),[R]);m.useEffect(()=>{j(1)},[o,c,f,S]);const k=R.length,P=Math.max(1,Math.ceil(k/S)),I=Math.min(Math.max(1,w),P),z=(I-1)*S,D=Math.min(z+S,k),B=R.slice(z,D);m.useEffect(()=>{const L=new URLSearchParams(g);L.set("page",String(I)),L.set("pageSize",String(S)),L.set("mode",o),c?L.set("date",c):L.delete("date"),u?L.set("q",u):L.delete("q"),x(L,{replace:!0})},[I,S,o,c,u,g,x]);const K=()=>{const L=new Date(`${c}T00:00:00`);L.setDate(L.getDate()-1),d(mn(L)),l("day")},M=()=>{const L=new Date(`${c}T00:00:00`);L.setDate(L.getDate()+1),d(mn(L)),l("day")},E=()=>{d(mn(new Date)),l("day")},F=o==="day"?new Date(`${c}T00:00:00`).toLocaleDateString():o==="month"?new Date(`${c}T00:00:00`).toLocaleDateString(void 0,{month:"long",year:"numeric"}):"Todos os serviços",W=async L=>{var Y;if(window.confirm("Deseja excluir este serviço?"))try{await Cx(L),t(H=>H.filter(oe=>oe.id!==L)),$.success("Serviço excluído com sucesso")}catch(H){((Y=H==null?void 0:H.response)==null?void 0:Y.status)===404?(t(oe=>oe.filter(me=>me.id!==L)),$.success("Serviço excluído com sucesso")):(console.error("Erro ao excluir serviço:",H),$.error("Erro ao excluir serviço"))}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Serviços"}),a.jsx("p",{className:"text-sm text-gray-500",children:o==="day"?"Listando os serviços do dia selecionado":o==="month"?"Serviços do mês selecionado":"Todos os serviços"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex flex-wrap items-center gap-4",children:[[{key:"day",label:"Dia"},{key:"month",label:"Mês"},{key:"all",label:"Todos"}].map(L=>a.jsx("button",{onClick:()=>l(L.key),className:`whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${o===L.key?"border-gray-900 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:L.label},L.key)),a.jsx("div",{className:"ml-auto flex items-center gap-2 pb-2",children:(o==="day"||o==="month")&&a.jsxs(a.Fragment,{children:[o==="day"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:K,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Dia anterior",children:a.jsx(gl,{className:"h-4 w-4"})}),a.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 rounded-md border px-3 py-1.5 text-sm hover:bg-gray-50",title:"Hoje",children:[a.jsx(Bu,{className:"h-4 w-4"})," Hoje"]}),a.jsx("button",{onClick:M,className:"inline-flex items-center rounded-md border px-2 py-1 text-sm hover:bg-gray-50",title:"Próximo dia",children:a.jsx(xl,{className:"h-4 w-4"})})]}),a.jsx("input",{type:"date",value:c,onChange:L=>d(L.target.value),className:"rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":o==="day"?"Selecionar dia":"Selecionar mês (use qualquer dia do mês)"})]})})]})}),a.jsxs("div",{className:"mt-4 mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsxs("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[a.jsx("circle",{cx:"11",cy:"11",r:"7"}),a.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),a.jsx("input",{value:u,onChange:L=>h(L.target.value),placeholder:"Buscar por descrição, funcionário ou pagamento",className:"w-full rounded-md border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-label":"Buscar serviços"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"pageSize",className:"text-sm text-gray-600",children:"Itens por página"}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{id:"pageSize",className:"appearance-none rounded-md border border-gray-200 bg-white px-3 py-2 pr-8 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5",value:S,onChange:L=>N(Number(L.target.value)),children:[10,20,50,100].map(L=>a.jsx("option",{value:L,children:L},L))}),a.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:"▾"})]})]}),a.jsxs(Ee,{to:"/services/add",className:"inline-flex items-center gap-2 rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary/30",children:[a.jsx(Cn,{className:"h-5 w-5"})," Novo Serviço"]})]})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsxs("div",{className:"flex items-start justify-between border-b bg-gray-50 px-6 py-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Serviços — ",F]}),a.jsx("p",{className:"text-sm text-gray-500",children:o==="day"?"Resumo do dia selecionado":o==="month"?"Resumo do mês selecionado":"Resumo geral"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q(T)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[k," serviços"]})]})]}),n?a.jsx("div",{className:"py-10 text-center text-gray-600",children:"Carregando..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Data"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Descrição"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Funcionário"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Valor"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Pagamentos"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Ações"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:B.length>0?B.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:[Xs(L.created_at)," ",a.jsx("span",{className:"text-gray-500",children:tj(L.created_at??L.updated_at??L.paid_at)})]}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:L.description}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:L.employee||"—"}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:q(L.value)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:_(L)}),a.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ee,{to:`/services/view/${L.id}`,className:"p-1 text-gray-700 hover:text-gray-900",title:"Ver detalhes",children:a.jsx(Xi,{className:"h-5 w-5"})}),a.jsx(Ee,{to:`/services/edit/${L.id}`,className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar",children:a.jsx(Vs,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>W(L.id),className:"p-1 text-red-600 hover:text-red-800",title:"Excluir",children:a.jsx(dn,{className:"h-5 w-5"})})]})})]},L.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Nenhum serviço encontrado"})})})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[a.jsx("div",{className:"text-sm text-gray-700",children:k>0?a.jsxs("span",{children:["Exibindo ",a.jsx("strong",{children:z+1}),"–",a.jsx("strong",{children:D})," ","de ",a.jsx("strong",{children:k})," serviços"]}):a.jsx("span",{children:"Nenhum registro"})}),P>1&&a.jsxs("div",{className:"justify-center inline-flex",children:[a.jsx("button",{onClick:()=>j(1),disabled:I===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"«"}),a.jsx("button",{onClick:()=>j(Math.max(1,I-1)),disabled:I===1,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Anterior"}),a.jsx("button",{onClick:()=>j(Math.min(P,I+1)),disabled:I===P,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"Próxima"}),a.jsx("button",{onClick:()=>j(P),disabled:I===P,className:"px-3 py-1 rounded border text-sm disabled:opacity-50",children:"»"})]})]})]})}function p3(){const e=qe(),[t,n]=m.useState(()=>new Date().toISOString().slice(0,10)),[s,r]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState([{id:Date.now(),method:(it==null?void 0:it[0])??"Dinheiro",amount:0,machine:""}]),d=l.reduce((x,p)=>x+(Number(p.amount)||0),0),u=()=>{c(x=>[...x,{id:Date.now(),method:(it==null?void 0:it[0])??"Dinheiro",amount:0,machine:""}])},h=(x,p,b)=>{c(y=>y.map(v=>v.id===x?{...v,[p]:p==="amount"?Number(b)||0:b,...p==="method"&&b!=="Cartão de Crédito"&&b!=="Cartão de Débito"?{machine:""}:{}}:v))},f=x=>{c(p=>p.filter(b=>b.id!==x))},g=async x=>{if(x.preventDefault(),!t)return $.error("Informe a data");if(!s.trim())return $.error("Informe a descrição");if(!i.trim())return $.error("Informe o funcionário");if(d<=0)return $.error("Informe pelo menos um pagamento com valor > 0");if(l.filter(b=>b.method==="Cartão de Crédito"||b.method==="Cartão de Débito").some(b=>!b.machine))return $.error("Selecione a máquina para todos os pagamentos com cartão");try{await r5({date:t,description:s.trim(),employee:i.trim(),value:Number(d.toFixed(2)),paymentMethods:l.map(b=>({method:b.method,amount:Number((+b.amount).toFixed(2)),machine:b.machine||""}))}),$.success("Serviço registrado com sucesso"),e("/services")}catch(b){console.error(b),$.error("Erro ao registrar serviço")}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Registrar Novo Serviço"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cadastre um novo serviço no sistema"})]}),a.jsx(on,{children:a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data *"}),a.jsx("input",{type:"date",value:t,onChange:x=>n(x.target.value),className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funcionário *"}),a.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"Quem executou o serviço",className:"input-field",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição *"}),a.jsx("input",{type:"text",value:s,onChange:x=>r(x.target.value),placeholder:"Ex.: Instalação de som automotivo",className:"input-field",required:!0})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Detalhes do Serviço"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Serviço"}),a.jsx("p",{className:"font-medium",children:s||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Profissional"}),a.jsx("p",{className:"font-medium",children:i||"—"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Data"}),a.jsx("p",{className:"font-medium",children:new Date(t+"T00:00:00").toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total (soma dos pagamentos)"}),a.jsx("p",{className:"font-medium text-lg text-blue-600",children:q(d)})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Métodos de Pagamento"}),a.jsx("button",{type:"button",onClick:u,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"Adicionar Método"})]}),a.jsx("div",{className:"space-y-3",children:l.map(x=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Método"}),a.jsx("select",{value:x.method,onChange:p=>h(x.id,"method",p.target.value),className:"input-field",children:it.map(p=>a.jsx("option",{value:p,children:p},p))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:x.amount,onChange:p=>h(x.id,"amount",p.target.value),className:"input-field"})]}),(x.method==="Cartão de Crédito"||x.method==="Cartão de Débito")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máquina"}),a.jsxs("select",{value:x.machine,onChange:p=>h(x.id,"machine",p.target.value),className:"input-field",children:[a.jsx("option",{value:"",children:"Selecione a máquina"}),Xu.map(p=>a.jsx("option",{value:p.name,children:p.name},p.id))]})]})]}),l.length>1&&a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>f(x.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remover"})})]},x.id))}),a.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm",children:[a.jsx("span",{children:"Total do Serviço:"}),a.jsx("span",{className:d>0?"text-green-600":"text-red-600",children:q(d)})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"btn-primary",disabled:d<=0,children:"Registrar Serviço"})})]})})]})}const Np=e=>({date:e!=null&&e.date?new Date(e.date).toISOString().slice(0,10):new Date().toISOString().slice(0,10),description:(e==null?void 0:e.description)??"",employee:(e==null?void 0:e.employee)??""});function g3({initialData:e=null,onSubmit:t,onCancel:n,buttonText:s="Salvar",isSubmitting:r=!1}){const[i,o]=m.useState(()=>Np(e)),[l,c]=m.useState({});m.useEffect(()=>{e&&o(Np(e))},[e==null?void 0:e.id]);const d=()=>{var g,x;const f={};return i.date||(f.date="Informe a data"),(g=i.description)!=null&&g.trim()||(f.description="Informe a descrição"),(x=i.employee)!=null&&x.trim()||(f.employee="Informe o funcionário"),c(f),Object.keys(f).length===0},u=f=>{const{name:g,value:x}=f.target;o(p=>({...p,[g]:x}))},h=f=>{f.preventDefault(),d()&&(t==null||t({date:i.date,description:i.description.trim(),employee:i.employee.trim()}))};return a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"date",className:"mb-1 block text-sm font-medium text-gray-700",children:"Data *"}),a.jsx("input",{id:"date",name:"date",type:"date",required:!0,value:i.date,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.date}),l.date&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.date})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"employee",className:"mb-1 block text-sm font-medium text-gray-700",children:"Funcionário *"}),a.jsx("input",{id:"employee",name:"employee",type:"text",required:!0,placeholder:"Quem executou o serviço",value:i.employee,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.employee}),l.employee&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.employee})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"mb-1 block text-sm font-medium text-gray-700",children:"Descrição *"}),a.jsx("input",{id:"description",name:"description",type:"text",required:!0,placeholder:"Ex.: Instalação de som automotivo",value:i.description,onChange:u,className:"w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900/5","aria-invalid":!!l.description}),l.description&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.description})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n&&a.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center rounded-md btn-primary px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary disabled:cursor-not-allowed disabled:opacity-60",children:r?"Salvando...":s})]})]})}const x3=()=>{const{id:e}=_n(),t=qe(),[n,s]=m.useState(!1),[r,i]=m.useState(null);m.useEffect(()=>{(async()=>{try{const l=await s5(e);i(l)}catch(l){console.error("Erro ao carregar serviço:",l),$.error("Erro ao carregar serviço")}})()},[e]);const o=async l=>{try{s(!0),await i5(e,l),$.success("Serviço atualizado com sucesso"),t("/services")}catch(c){console.error("Erro ao atualizar serviço:",c),$.error("Erro ao atualizar serviço")}finally{s(!1)}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editar Serviço"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Atualize as informações do serviço"})]}),a.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:[a.jsx("div",{className:"border-b bg-gray-50 px-6 py-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Dados do Serviço"})}),a.jsx("div",{className:"px-6 py-6",children:a.jsx(g3,{initialData:r,onSubmit:o,onCancel:()=>t(-1),buttonText:"Salvar Alterações",isSubmitting:n})})]})]})};function y3(){const{id:e}=_n(),t=qe(),[n,s]=m.useState([]),[r,i]=m.useState(!0);m.useEffect(()=>{(async()=>{try{i(!0);const u=await Td();s(Array.isArray(u)?u:[])}catch(u){console.error("Erro ao carregar serviços:",u),$.error("Erro ao carregar serviços")}finally{i(!1)}})()},[]);const o=m.useMemo(()=>n.find(u=>String(u.id)===String(e)),[n,e]);if(r)return a.jsx("div",{className:"p-6",children:"Carregando..."});if(!o)return a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-gray-50",children:[a.jsx(Y0,{className:"h-4 w-4"}),"Voltar"]})}),a.jsxs("div",{className:"rounded-md border bg-white p-6 shadow",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Serviço não encontrado"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verifique o link ou tente novamente pela lista de serviços."})]})]});const l=async()=>{if(window.confirm("Deseja excluir este serviço?"))try{await Cx(o.id),$.success("Serviço excluído com sucesso"),t("/services")}catch(u){console.error("Erro ao excluir serviço:",u),$.error("Erro ao excluir serviço")}},c=o.createdAt||o.created_at||o.paidAt||o.paid_at||o.updatedAt||o.updated_at||o.date||null,d=c?new Date(c).toLocaleString():"—";return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Detalhes do Serviço"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Acompanhe os serviços realizados"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ee,{to:`/services/edit/${o.id}`,className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-gray-50",children:[a.jsx(Vs,{className:"h-4 w-4"}),"Editar"]}),a.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 rounded-md border px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(dn,{className:"h-4 w-4"}),"Excluir"]})]})]}),a.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Descrição"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.description})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Funcionário"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.employee||"—"})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Criado em"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:d})]})]}),a.jsxs("div",{className:"rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Valor do serviço"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:q(o.value)})]}),o.paymentMethods&&o.paymentMethods.length>0&&a.jsxs("div",{className:"mt-6 rounded-lg border bg-white p-4 shadow-sm",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-2",children:"Formas de pagamento"}),a.jsx("ul",{className:"text-sm text-gray-800 space-y-1",children:o.paymentMethods.map((u,h)=>a.jsxs("li",{className:"flex items-center justify-between border-b py-1",children:[a.jsxs("span",{children:[u.method,u.machine?` (${u.machine})`:""]}),a.jsx("span",{className:"font-medium",children:q(u.amount)})]},h))})]})]})}function v3(){const[e,t]=m.useState(!0),n=()=>t(!e),r=Bs().pathname==="/pdv";return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[!r&&a.jsx($w,{isOpen:e,toggleSidebar:n}),a.jsx("div",{className:`flex-1 overflow-auto transition-all duration-300 ${r?"ml-0":e?"ml-64":"ml-20"}`,children:a.jsx("div",{className:r?"":"p-6",children:a.jsxs(Qb,{children:[a.jsx(xe,{path:"/",element:a.jsx(o5,{})}),a.jsx(xe,{path:"/products",element:a.jsx(b5,{})}),a.jsx(xe,{path:"/products/add",element:a.jsx(j5,{})}),a.jsx(xe,{path:"/products/edit/:id",element:a.jsx(N5,{})}),a.jsx(xe,{path:"/products/view/:id",element:a.jsx(w5,{})}),a.jsx(xe,{path:"/sales",element:a.jsx(O5,{})}),a.jsx(xe,{path:"/sales/new",element:a.jsx(I5,{})}),a.jsx(xe,{path:"/sales/view/:id",element:a.jsx(F5,{})}),a.jsx(xe,{path:"/inventory",element:a.jsx(dk,{})}),a.jsx(xe,{path:"/reports",element:a.jsx(vE,{})}),a.jsx(xe,{path:"/pdv",element:a.jsx(LE,{})}),a.jsx(xe,{path:"/customers",element:a.jsx(FE,{})}),a.jsx(xe,{path:"/customers/add",element:a.jsx($E,{})}),a.jsx(xe,{path:"/customers/edit/:id",element:a.jsx(zE,{})}),a.jsx(xe,{path:"/suppliers",element:a.jsx(HE,{})}),a.jsx(xe,{path:"/suppliers/add",element:a.jsx(WE,{})}),a.jsx(xe,{path:"/suppliers/edit/:id",element:a.jsx(qE,{})}),a.jsx(xe,{path:"/quotes",element:a.jsx(ZE,{})}),a.jsx(xe,{path:"/quotes/add",element:a.jsx(JE,{})}),a.jsx(xe,{path:"/quotes/view/:id",element:a.jsx(n3,{})}),a.jsx(xe,{path:"/expenses",element:a.jsx(o3,{})}),a.jsx(xe,{path:"/expenses/add",element:a.jsx(a3,{})}),a.jsx(xe,{path:"/expenses/edit/:id",element:a.jsx(l3,{})}),a.jsx(xe,{path:"/services",element:a.jsx(m3,{})}),a.jsx(xe,{path:"/services/add",element:a.jsx(p3,{})}),a.jsx(xe,{path:"/services/edit/:id",element:a.jsx(x3,{})}),a.jsx(xe,{path:"/services/view/:id",element:a.jsx(y3,{})})]})})})]})}function b3(){return a.jsx(nw,{children:a.jsx(v3,{})})}Cc.createRoot(document.getElementById("root")).render(a.jsxs(ae.StrictMode,{children:[a.jsx(b3,{}),a.jsx(Pd,{position:"top-right",autoClose:8080})]}));
